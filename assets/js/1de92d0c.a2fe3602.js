"use strict";(self.webpackChunkjustcloudblog=self.webpackChunkjustcloudblog||[]).push([[6841],{3905:function(e,t,a){a.d(t,{Zo:function(){return l},kt:function(){return d}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),c=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},l=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},y={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=c(a),d=r,m=u["".concat(p,".").concat(d)]||u[d]||y[d]||o;return a?n.createElement(m,i(i({ref:t},l),{},{components:a})):n.createElement(m,i({ref:t},l))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=u;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},4537:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return p},metadata:function(){return c},assets:function(){return l},toc:function(){return y},default:function(){return d}});var n=a(7462),r=a(3366),o=(a(7294),a(3905)),i=["components"],s={slug:"diskpart-and-trim",title:"diskpart and trim",description:"Praca z partycjami na dysku za pomoc\u0105 DISKPART. Konfiguracja SSD Trim za pomoc\u0105 diskaprt.",authors:["progala"],date:"2012-10-22",tags:["diskpart","ssd","trim"],keywords:["diskpart","ssd","trim"],hide_table_of_contents:!0},p=void 0,c={permalink:"/diskpart-and-trim",source:"@site/blog/2012-10-22-diskpart-and-trim/index.md",title:"diskpart and trim",description:"Praca z partycjami na dysku za pomoc\u0105 DISKPART. Konfiguracja SSD Trim za pomoc\u0105 diskaprt.",date:"2012-10-22T00:00:00.000Z",formattedDate:"October 22, 2012",tags:[{label:"diskpart",permalink:"/tags/diskpart"},{label:"ssd",permalink:"/tags/ssd"},{label:"trim",permalink:"/tags/trim"}],readingTime:2.555,truncated:!0,authors:[{name:"Piotr Rogala",title:"MVP Azure & owner JustCloud.pl",url:"https://github.com/RogalaPiotr",imageURL:"https://avatars.githubusercontent.com/u/31566956?v=4",key:"progala"}],frontMatter:{slug:"diskpart-and-trim",title:"diskpart and trim",description:"Praca z partycjami na dysku za pomoc\u0105 DISKPART. Konfiguracja SSD Trim za pomoc\u0105 diskaprt.",authors:["progala"],date:"2012-10-22",tags:["diskpart","ssd","trim"],keywords:["diskpart","ssd","trim"],hide_table_of_contents:!0},prevItem:{title:"Instalacja i konfiguracja Active Directory Domain Services w Windows Server 2012",permalink:"/instalacja-i-konfiguracja-active-directory-domain-services-w-windows-server-2012"},nextItem:{title:"Pezet o chmurach",permalink:"/pezet-o-chmurach"}},l={authorsImageUrls:[void 0]},y=[],u={toc:y};function d(e){var t=e.components,a=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,'S\u0142ysza\u0142em o przygotowaniu dysku SSD w odpowiedni spos\xf3b dla systemu, gdy u\u017cywamy go jako "nasz" dysk systemowy. Dlaczego nale\u017cy go odpowiednio przygotowa\u0107? Odpowied\u017a jest prosta, dysk SSD r\xf3\u017cni si\u0119 sposobem zapisu ni\u017c by\u0142o to w dotychczasowym dysku talerzowym. Dok\u0142adnych informacji dotycz\u0105cych struktury, budowy i r\xf3\u017cnic tych dysk\xf3w znajdziemy na Wikipedii.'),(0,o.kt)("p",null,'Jaki\u015b czas temu zakupi\u0142em dysk SSD "OCZ Vertex2 60gb" do swojego domowego serwera w celu zwi\u0119kszenia wydajno\u015bci i szybko\u015b\u0107 uruchamianych wirtualnych maszyn. 60gb nie jest to zbyt wiele, ale do \u015brodowiska testowego spokojnie wystarcza. Przed instalacj\u0105 systemu Windows: Server 2008R2 dobrze jest aby odpowiednio przygotowa\u0107 nowy dysk. Podobno nowe serie system\xf3w rodziny Microsoft Windows Vista / 7 /Server 2008 / Server 2008R2 posiada wbudowane automaty, kt\xf3re robi\u0105 to automatycznie. Poniewa\u017c mia\u0142em troch\u0119 czasu postanowi\u0142em to sprawdzi\u0107. Z mojego ma\u0142ego dochodzenia wynika, \u017ce align automatyczny nie jest taki sam jaki powinien by\u0107 stosowany do dysku SSD. Dlatego zalecam wcze\u015bniejsze przygotowanie dysku pod nowo instalowany system aby unikn\u0105\u0107 przypadkowej awarii i zwi\u0119kszenia bezpiecze\u0144stwa.',(0,o.kt)("br",{parentName:"p"}),"\n","W opisie zaprezentuje jak powinien wygl\u0105da\u0107 spos\xf3b formatowania dysku SSD, dodatkowo jak na sta\u0142e ustawi\u0107 funkcj\u0119 TRIM w systemie."),(0,o.kt)("p",null,"Podczas gdy uruchamiamy instalacj\u0119 systemu z p\u0142yty nale\u017cy po ekranie powitalnym wcisn\u0105\u0107 kombinacj\u0119 klawiszy:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"shift + F10")),(0,o.kt)("p",null,"Nast\u0119pnie wpisujemy komend\u0119:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"diskpart")),(0,o.kt)("p",null,"Kolejne polecenia diskpart:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"list disk")," - wy\u015bwietlenie listy podpi\u0119tych dysk\xf3w"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"partition list")," - wy\u015bwietlenie listy partycji dysku"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"select disk 0")," - wybranie dysku"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"clean")," - szybki format"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"clean all")," - dok\u0142adny i bardzo d\u0142ugi format dysku (ostrzegam trwa naprawd\u0119 d\u0142ugo)"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"create partition primary align=1024 size=350")," tworzenie partycji podstawowej z offset'em o wielko\u015bci 1024 i o wielko\u015bci 350mb (350mb dla ukrytej partycji BitLocker-owej systemu) ","*","dlaczego 350mb? dla system\xf3w W8 przeznaczono na t\u0119 partycj\u0119 350mb natomiast dla starszych wersji W7 jest 100mb - w zale\u017cno\u015bci jaki system instalujesz przydziel odpowiedni\u0105 wielko\u015b\u0107 - w zasadzie tak naprawd\u0119 nie ma to zbyt du\u017cego znaczenia jak\u0105 wielko\u015b\u0107 b\u0119dzie mia\u0142a ta partycja."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"active")," ustawienie ukrytej partycji jako aktywn\u0105."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"create partition primary align=1024 size=30720")," dlaczego align 1024? - poniewa\u017c sektory na dysku SSD maj\u0105 1024kb wa\u017cne jest sprecyzowanie, aby offset posiada\u0142 1024kb."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"format fs=ntfs quick")," szybki format w formacie ntfs."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"create partition primary align=1024")," ostatniej partycji nie musimy precyzowa\u0107 gdy\u017c pomini\u0119cie warunku size spowoduje zrobienie partycji z pozosta\u0142ego miejsca jakie jest na dysku."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"format fs=ntfs quick")),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Uwaga wy\u017cej wymieniona kolejno\u015b\u0107 polece\u0144 jest wa\u017cna ze wzgl\u0119du na scenriusz tworzenia partycji")),(0,o.kt)("p",null,"To by\u0142by koniec, wychodzimy z cmd wpisuj\u0105c polecenie exit i przechodzimy do dalszej instalacji systemu wskazuj\u0105c tylko partycj\u0119 do instalacji."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"TRIM Commands")),(0,o.kt)("p",null,"TRIM jest sposobem zapisu danych na dysku i wykorzystaniem pe\u0142nej mocy zapisu dysku SSD. W zasadzie nowe systemy maj\u0105 wbudowany automat, kt\xf3ry sam uruchamia TRIM po wykryciu dysku krzemowego. Dodatkowo opisz\u0119 jak mo\u017cemy sami na sta\u0142e w\u0142\u0105czy\u0107 t\u0119 funkcj\u0119 przy u\u017cyciu lini komend. Po instalacji systemu uruchamiamy cmd z uprawnieniami administratora. Wpisujemy:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"fsutil behavior set disabledeletenotify 0")),(0,o.kt)("p",null,"DisableDeleteNotify = 1 (Windows TRIM commands are disabled) DisableDeleteNotify = 0 (Windows TRIM commands are enabled)"),(0,o.kt)("p",null,"Dodatkowo mo\u017cemy r\xf3wnie\u017c wy\u0142\u0105czy\u0107 index-owanie dysku w jego w\u0142a\u015bciwo\u015bciach. Chcia\u0142bym jeszcze doda\u0107 screeny do tych wszystkich ustawie\u0144 i zrobi\u0119 to w najszybszym czasie jak si\u0119 da gdy\u017c jestem na wyje\u017adzie. Mi\u0142ej konfiguracji."))}d.isMDXComponent=!0}}]);