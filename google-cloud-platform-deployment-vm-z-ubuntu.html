<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="JustCloud Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="JustCloud Blog Atom Feed"><title data-react-helmet="true">Google Cloud Platform deployment VM z Ubuntu | JustCloud Blog</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://blog.justcloud.pl/google-cloud-platform-deployment-vm-z-ubuntu"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" name="JustCloud the best quality of knowledge" content="azure, aws, gcp, devops, automation, azure devops, blog, microsoft, linux, azure policy, cloud transformation, digital transformation, governance, security, pipelines, github"><meta data-react-helmet="true" property="og:title" content="Google Cloud Platform deployment VM z Ubuntu | JustCloud Blog"><meta data-react-helmet="true" name="description" content="Pierwszy deployment w Google Cloud Platform nie musi być trudny. Zapraszam to sprawdzenia rozwiązań dostępnyw GCP, a zaczniemy od wdrożenia wirtualnej maszyny za pomocą szablonu."><meta data-react-helmet="true" property="og:description" content="Pierwszy deployment w Google Cloud Platform nie musi być trudny. Zapraszam to sprawdzenia rozwiązań dostępnyw GCP, a zaczniemy od wdrożenia wirtualnej maszyny za pomocą szablonu."><meta data-react-helmet="true" name="keywords" content="justcloud,gcp,azure,devops,template,szablon,google cloud platform,ubuntu"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2017-10-08T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/RogalaPiotr"><meta data-react-helmet="true" property="article:tag" content="gcloud,gcp,google cloud-platform,ubuntu"><link data-react-helmet="true" rel="icon" href="https://raw.githubusercontent.com/RogalaPiotr/JustCloudWeb/gh-pages/assets/images/favicon-new-1.ico"><link data-react-helmet="true" rel="canonical" href="https://blog.justcloud.pl/google-cloud-platform-deployment-vm-z-ubuntu"><link data-react-helmet="true" rel="alternate" href="https://blog.justcloud.pl/google-cloud-platform-deployment-vm-z-ubuntu" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://blog.justcloud.pl/google-cloud-platform-deployment-vm-z-ubuntu" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.753318a1.css">
<link rel="preload" href="/assets/js/runtime~main.b826c43e.js" as="script">
<link rel="preload" href="/assets/js/main.948b0836.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="JustCloud.pl" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="JustCloud.pl" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">JustCloud.pl</b></a></div><div class="navbar__items navbar__items--right"><a href="https://justcloud.pl/index.html#form5-28" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/RogalaPiotr/justcloudpublic" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">🌜</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">🌞</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_a9qW thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_uKok margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Kvuv"><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/welcome">Nowa odsłona</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/tags-in-azure">Przyspieszenie pracy nad tagowaniem zasobów za pomocą PowerShell - Tag raport Microsoft Azure</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/wyslanie-zadania-api-z-powershell-do-azure-devops">Wysłanie żądania API z PowerShell do Azure DevOps</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/iac-control-via-powershell-module-for-arm-templates">IaC control via PowerShell module for ARM templates</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/skad-uczyc-sie-o-microsoft-azure">Skąd uczyć się o Microsoft Azure?</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/auto-deployment-vm-with-vsts-agent-for-pool">Auto deployment VM with VSTS agent for pool</a></li><li class="sidebarItem_CF0Q"><a aria-current="page" class="sidebarItemLink_miNk sidebarItemLinkActive_RRTD" href="/google-cloud-platform-deployment-vm-z-ubuntu">Google Cloud Platform deployment VM z Ubuntu</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/delete-vm-and-create-again-based-on-vhd">Delete VM and create again based on .vhd</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/deployment-maszyny-z-funkcja-auto-shutdown-za-pomoca-szablonu-arm">Deployment maszyny z funkcją Auto-Shutdown  za pomocą szablonu arm</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/profil-logowania-do-azure">Profil logowania do Azure</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/visual-studio-code-i-git-zamiast-powershell-ise">Visual Studio Code i Git zamiast PowerShell ISE - UPDATED</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_rzP5" itemprop="headline">Google Cloud Platform deployment VM z Ubuntu</h1><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2017-10-08T00:00:00.000Z" itemprop="datePublished">October 8, 2017</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://github.com/RogalaPiotr" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/31566956?v=4" alt="Piotr Rogala"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/RogalaPiotr" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Piotr Rogala</span></a></div><small class="avatar__subtitle" itemprop="description">MVP Azure &amp; owner JustCloud.pl</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>Zastanawialiście się jak działają szablony w Google Cloud Platform? Miałem jakiś czas temu możliwość dowiedzieć się jak to działa, dlatego postanowiłem zrobić mały wpis na ten temat. Czym jest GCP (Google Cloud Platform)? Jeśli wiesz czym jest Azure i Amazon Web Services (AWS) to GCP jest kolejnym dostawcą z podobnymi rozwiązaniami. Od ponad roku GCP jest prężnie rozwijane w stronę rynku wirtualnych maszyn i web serwisów wychodząc na przeciw AWS&#x27;owi i Azure&#x27;owi powstał portal analogicznie podobny do zarządzania własnymi projektami można to odwzorować tak jakby do subskrypcji w Azure.</p><p>Portal: <a href="https://console.cloud.google.com" target="_blank" rel="noopener noreferrer">https://console.cloud.google.com</a></p><p><a target="_blank" href="/assets/files/capture_010_08102017_140927-9dda36b0a5f67893ca2a13bfbdcaba6a.jpg"><img src="/assets/images/capture_010_08102017_140927-9dda36b0a5f67893ca2a13bfbdcaba6a.jpg" width="1904" height="946"></a></p><p>Google udostępnia własne CLI do zarządzania projektami: <a href="https://cloud.google.com/sdk/" target="_blank" rel="noopener noreferrer">https://cloud.google.com/sdk/</a> po instalacji SDK możemy używać komend np. do deploymentu. Deploment wirtualnej maszyny różni się znacząco od tych których używamy w Azure i AWS, mają one rozszerzenia. jinja lub. yaml gdzie możemy wspomagać nasz deployment plikami python&#x27;owymi .py. Daje to nam duże możliwości konstruowania skomplikowanych delpoymentów.</p><p>Zajrzyjmy do przygotowanego przeze mnie deploymentu VM z systemem ubuntu: <a href="https://github.com/RogalaPiotr/JustCloudPublic/blob/master/gcloud-simple-ubuntu" target="_blank" rel="noopener noreferrer">https://github.com/RogalaPiotr/JustCloudPublic/blob/master/gcloud-simple-ubuntu</a></p><p>W poniższym kodzie należy zaktualizować go o wartości nazwy projektu podmieniając &quot;wartość your-project-name&quot;, plik vm .yaml:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- type: compute.v1.instance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: simple-ubuntu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  properties:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zone: europe-west1-c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    machineType: projects/your-project-name/zones/europe-west1-c/machineTypes/f1-micro</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    disks:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - deviceName: boot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: PERSISTENT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      boot: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      autoDelete: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      initializeParams:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sourceImage: projects/your-project-name/global/images/ubuntu-1604-xenial-v20170815a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        diskType: projects/your-project-name/zones/europe-west1-c/diskTypes/pd-standard</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    networkInterfaces:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - network: projects/your-project-name/global/networks/default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      accessConfigs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - name: External NAT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        type: ONE_TO_ONE_NAT</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Na pierwszy rzut oka plik nie jest skomplikowany, ponieważ plik .yaml jest tylko skrótem definicji które są wysyłane dalej do schematu gdzie pod spodem ma dużo więcej funkcji, których nie musimy definiować.</p><p>Po zalogowaniu się z cmd do GCP możemy wywołać powyższy deployment używając polecenia:</p><p><code>gcloud deployment-manager deployments create simple-ubuntu --config vm.yaml</code></p><p>Po wykonaniu tego polecenia rozpocznie się deployment a następnie zostanie uruchomiona maszyna z systemem ubuntu. Zapraszam do testowania i zadawani pytań.</p><p><img src="/assets/images/capture_012_08102017_145512-3b50e7a61b62877d75884b25d100dce0.jpg" width="1279" height="587"></p><p><img src="/assets/images/capture_013_08102017_145520-92105ab0554ba04be699dfa98d5ccd44.jpg" width="896" height="228"></p><p><img src="/assets/images/capture_014_08102017_145606-7a18296796b1ffe41fcde1edeeeb44c3.jpg" width="1018" height="600"></p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_h6_j"><div class="col"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/tags/gcloud">gcloud</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/tags/gcp">gcp</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/tags/google-cloud-platform">google cloud-platform</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/tags/ubuntu">ubuntu</a></li></ul></div></footer></article><div id="disqus_thread"></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/auto-deployment-vm-with-vsts-agent-for-pool"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Auto deployment VM with VSTS agent for pool</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/delete-vm-and-create-again-based-on-vhd"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Delete VM and create again based on .vhd</div></a></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">JustCloud links</div><ul class="footer__items"><li class="footer__item"><a href="https://justcloud.pl" target="_blank" rel="noopener noreferrer" class="footer__link-item">Web: JustCloud.pl</a></li><li class="footer__item"><a href="https://web.justcloud.pl/index.html#form5-28" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact</a></li><li class="footer__item"><a href="https://github.com/RogalaPiotr/justcloudpublic" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://dev.azure.com/justcloudpublic" target="_blank" rel="noopener noreferrer" class="footer__link-item">Azure DevOps</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://azurepoland.pl/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Azure Poland<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.meetup.com/Microsoft-Azure-Users-Group-Poland/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Meetup MAUGP<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/">Blog</a></li><li class="footer__item"><a href="https://www.subscribepage.com/wroclaw-newsletter-workshops" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Newsletter Workshops<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/RogalaPiotr/Presentations" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Prezentacje<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Stay in touch!</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/RogalaPiotr" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://pl.linkedin.com/in/rogalapiotr" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://piotr-rogala.medium.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://blog.justcloud.pl/rss.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>RSS Feed<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 JustCloud.pl, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b826c43e.js"></script>
<script src="/assets/js/main.948b0836.js"></script>
</body>
</html>