"use strict";(globalThis.webpackChunkdocusaurus_site=globalThis.webpackChunkdocusaurus_site||[]).push([[96],{19145:(e,i,a)=>{a.r(i),a.d(i,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var s=a(82052),t=a(74848),n=a(28453);const o={slug:"diskpart-and-trim",title:"diskpart and trim",description:"Praca z partycjami na dysku za pomoc\u0105 DISKPART. Konfiguracja SSD Trim.",authors:["progala"],date:"2012-10-22",tags:["diskpart","ssd","trim"],keywords:["diskpart","ssd","trim"],hide_table_of_contents:!0},r=void 0,d={authorsImageUrls:[void 0]},c=[];function l(e){const i={br:"br",em:"em",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.p,{children:'S\u0142ysza\u0142em o przygotowaniu dysku SSD w odpowiedni spos\xf3b dla systemu, gdy u\u017cywamy go jako "nasz" dysk systemowy. Dlaczego nale\u017cy go odpowiednio przygotowa\u0107? Odpowied\u017a jest prosta: dysk SSD r\xf3\u017cni si\u0119 sposobem zapisu od dysku talerzowego. Dok\u0142adne informacje dotycz\u0105ce struktury, budowy i r\xf3\u017cnic tych dysk\xf3w znajdziemy na Wikipedii.'}),"\n",(0,t.jsxs)(i.p,{children:['Jaki\u015b czas temu zakupi\u0142em dysk SSD "OCZ Vertex2 60GB" do swojego domowego serwera w celu zwi\u0119kszenia wydajno\u015bci i szybko\u015bci uruchamianych wirtualnych maszyn. 60 GB to niezbyt wiele, ale do \u015brodowiska testowego spokojnie wystarczy. Przed instalacj\u0105 systemu Windows Server 2008 R2 dobrze jest odpowiednio przygotowa\u0107 nowy dysk. Podobno nowe serie system\xf3w rodziny Microsoft Windows Vista, 7, Server 2008, Server 2008 R2 posiadaj\u0105 wbudowane automaty, kt\xf3re robi\u0105 to automatycznie. Poniewa\u017c mia\u0142em troch\u0119 czasu, postanowi\u0142em to sprawdzi\u0107. Z mojego ma\u0142ego dochodzenia wynika, \u017ce align automatyczny nie jest taki sam, jaki powinien by\u0107 stosowany do dysku SSD. Dlatego zalecam wcze\u015bniejsze przygotowanie dysku pod nowo instalowany system, aby unikn\u0105\u0107 przypadkowej awarii i zwi\u0119kszy\u0107 bezpiecze\u0144stwo.',(0,t.jsx)(i.br,{}),"\n","W opisie zaprezentuje, jak powinien wygl\u0105da\u0107 spos\xf3b formatowania dysku SSD, oraz jak na sta\u0142e ustawi\u0107 funkcj\u0119 TRIM w systemie."]}),"\n",(0,t.jsx)(i.p,{children:"Podczas uruchamiania instalacji systemu z p\u0142yty nale\u017cy po ekranie powitalnym wcisn\u0105\u0107 kombinacj\u0119 klawiszy:"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"shift + F10"})}),"\n",(0,t.jsx)(i.p,{children:"Nast\u0119pnie wpisujemy komend\u0119:"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"diskpart"})}),"\n",(0,t.jsx)(i.p,{children:"Kolejne polecenia diskpart:"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"list disk"})," - wy\u015bwietlenie listy podpi\u0119tych dysk\xf3w"]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"partition list"})," - wy\u015bwietlenie listy partycji dysku"]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"select disk 0"})," - wybranie dysku"]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"clean"})," - szybki format"]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"clean all"})," - dok\u0142adny i bardzo d\u0142ugi format dysku (ostrzegam trwa naprawd\u0119 d\u0142ugo)"]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"create partition primary align=1024 size=350"})," - tworzenie partycji podstawowej z offsetem o wielko\u015bci 1024 i wielko\u015bci 350 MB (350 MB dla ukrytej partycji BitLocker systemu). ",(0,t.jsx)(i.em,{children:"Dlaczego 350 MB? Dla system\xf3w W8 przeznaczono na t\u0119 partycj\u0119 350 MB, natomiast dla starszych wersji W7 jest to 100 MB. W zale\u017cno\u015bci od tego, jaki system instalujesz, przydziel odpowiedni\u0105 wielko\u015b\u0107. W zasadzie nie ma to zbyt du\u017cego znaczenia, jak\u0105 wielko\u015b\u0107 b\u0119dzie mia\u0142a ta partycja."})]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"active"})," ustawienie ukrytej partycji jako aktywn\u0105."]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"create partition primary align=1024 size=30720"})," - dlaczego align 1024? Poniewa\u017c sektory na dysku SSD maj\u0105 1024 KB, wa\u017cne jest sprecyzowanie, aby offset mia\u0142 1024 KB."]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"format fs=ntfs quick"})," szybki format w formacie ntfs."]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"create partition primary align=1024"})," - ostatniej partycji nie musimy precyzowa\u0107, gdy\u017c pomini\u0119cie warunku size spowoduje zrobienie partycji z pozosta\u0142ego miejsca, jakie jest na dysku."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"format fs=ntfs quick"})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:"Uwaga: wymieniona wy\u017cej kolejno\u015b\u0107 polece\u0144 jest wa\u017cna ze wzgl\u0119du na scenariusz tworzenia partycji."})}),"\n",(0,t.jsx)(i.p,{children:"To by\u0142by koniec. Wychodzimy z cmd wpisuj\u0105c polecenie exit i przechodzimy do dalszej instalacji systemu wskazuj\u0105c partycj\u0119 do instalacji."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"TRIM Commands"})}),"\n",(0,t.jsx)(i.p,{children:"TRIM jest sposobem zapisu danych na dysku i wykorzystaniem pe\u0142nej mocy zapisu dysku SSD. W zasadzie nowe systemy maj\u0105 wbudowany automat, kt\xf3ry sam uruchamia TRIM po wykryciu dysku krzemowego. Dodatkowo opisz\u0119, jak mo\u017cemy na sta\u0142e w\u0142\u0105czy\u0107 t\u0119 funkcj\u0119 przy u\u017cyciu linii komend. Po instalacji systemu uruchamiamy cmd z uprawnieniami administratora. Wpisujemy:"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"fsutil behavior set disabledeletenotify 0"})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"DisableDeleteNotify = 1 (Windows TRIM commands are disabled)"}),"\n",(0,t.jsx)(i.li,{children:"DisableDeleteNotify = 0 (Windows TRIM commands are enabled)"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Dodatkowo mo\u017cemy r\xf3wnie\u017c wy\u0142\u0105czy\u0107 indeksowanie dysku w jego w\u0142a\u015bciwo\u015bciach. Chcia\u0142bym jeszcze doda\u0107 zrzuty ekranu do tych wszystkich ustawie\u0144 i zrobi\u0119 to jak najszybciej, gdy\u017c jestem na wyje\u017adzie. Powodzenia w konfiguracji!"})]})}function p(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,i,a)=>{a.d(i,{R:()=>o,x:()=>r});var s=a(96540);const t={},n=s.createContext(t);function o(e){const i=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(n.Provider,{value:i},e.children)}},82052:e=>{e.exports=JSON.parse('{"permalink":"/diskpart-and-trim","source":"@site/blog/2012/10-22-diskpart-and-trim/index.md","title":"diskpart and trim","description":"Praca z partycjami na dysku za pomoc\u0105 DISKPART. Konfiguracja SSD Trim.","date":"2012-10-22T00:00:00.000Z","tags":[{"inline":true,"label":"diskpart","permalink":"/tags/diskpart"},{"inline":true,"label":"ssd","permalink":"/tags/ssd"},{"inline":true,"label":"trim","permalink":"/tags/trim"}],"readingTime":2.52,"hasTruncateMarker":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","page":{"permalink":"/authors/progala"},"description":"Microsoft Azure MVP od 2017 roku i certyfikowany trener MCT. Ekspert w dziedzinie cloud computing,  Azure DevOps, automatyzacji i governance. W\u0142a\u015bciciel JustCloud.pl. Dziel\u0119 si\u0119 wiedz\u0105 praktyczn\u0105  z wdro\u017ce\u0144 enterprise oraz best practices dla transformacji chmurowej. Prowadz\u0119 warsztaty,  prelekcje i konsultacje z zakresu Microsoft Azure we Wroc\u0142awiu i online.\\n","socials":{"x":"https://x.com/RogalaPiotr","linkedin":"https://www.linkedin.com/in/rogalapiotr/","github":"https://github.com/RogalaPiotr","newsletter":"https://web.justcloud.pl/#workshops"},"imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"diskpart-and-trim","title":"diskpart and trim","description":"Praca z partycjami na dysku za pomoc\u0105 DISKPART. Konfiguracja SSD Trim.","authors":["progala"],"date":"2012-10-22","tags":["diskpart","ssd","trim"],"keywords":["diskpart","ssd","trim"],"hide_table_of_contents":true},"unlisted":false,"prevItem":{"title":"Instalacja i konfiguracja Active Directory Domain Services w Windows Server 2012","permalink":"/instalacja-i-konfiguracja-active-directory-domain-services-w-windows-server-2012"},"nextItem":{"title":"Pezet o chmurach","permalink":"/pezet-o-chmurach"}}')}}]);