"use strict";(self.webpackChunkjustcloudblog=self.webpackChunkjustcloudblog||[]).push([[7332],{3905:function(e,t,o){o.d(t,{Zo:function(){return s},kt:function(){return d}});var n=o(7294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function u(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var i=n.createContext({}),p=function(e){var t=n.useContext(i),o=t;return e&&(o="function"==typeof e?e(t):l(l({},t),e)),o},s=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var o=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,s=u(e,["components","mdxType","originalType","parentName"]),m=p(o),d=a,y=m["".concat(i,".").concat(d)]||m[d]||c[d]||r;return o?n.createElement(y,l(l({ref:t},s),{},{components:o})):n.createElement(y,l({ref:t},s))}));function d(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=o.length,l=new Array(r);l[0]=m;var u={};for(var i in t)hasOwnProperty.call(t,i)&&(u[i]=t[i]);u.originalType=e,u.mdxType="string"==typeof e?e:a,l[1]=u;for(var p=2;p<r;p++)l[p]=o[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,o)}m.displayName="MDXCreateElement"},6751:function(e,t,o){o.r(t),o.d(t,{frontMatter:function(){return u},contentTitle:function(){return i},metadata:function(){return p},assets:function(){return s},toc:function(){return c},default:function(){return d}});var n=o(7462),a=o(3366),r=(o(7294),o(3905)),l=["components"],u={slug:"google-cloud-platform-deployment-vm-z-ubuntu",title:"Google Cloud Platform deployment VM z Ubuntu",description:"Pierwszy deployment w Google Cloud Platform nie musi by\u0107 trudny. Zapraszam to sprawdzenia rozwi\u0105za\u0144 dost\u0119pnyw GCP, a zaczniemy od wdro\u017cenia wirtualnej maszyny za pomoc\u0105 szablonu.",date:"2017-10-08",authors:["progala"],tags:["gcloud","gcp","google cloud-platform","ubuntu"],keywords:["justcloud","gcp","azure","devops","template","szablon","google cloud platform","ubuntu"],hide_table_of_contents:!0},i=void 0,p={permalink:"/google-cloud-platform-deployment-vm-z-ubuntu",source:"@site/blog/2017-10-08-google-cloud-platform-deployment-vm-z-ubuntu/index.md",title:"Google Cloud Platform deployment VM z Ubuntu",description:"Pierwszy deployment w Google Cloud Platform nie musi by\u0107 trudny. Zapraszam to sprawdzenia rozwi\u0105za\u0144 dost\u0119pnyw GCP, a zaczniemy od wdro\u017cenia wirtualnej maszyny za pomoc\u0105 szablonu.",date:"2017-10-08T00:00:00.000Z",formattedDate:"October 8, 2017",tags:[{label:"gcloud",permalink:"/tags/gcloud"},{label:"gcp",permalink:"/tags/gcp"},{label:"google cloud-platform",permalink:"/tags/google-cloud-platform"},{label:"ubuntu",permalink:"/tags/ubuntu"}],readingTime:1.43,truncated:!0,authors:[{name:"Piotr Rogala",title:"MVP Azure & owner JustCloud.pl",url:"https://github.com/RogalaPiotr",imageURL:"https://avatars.githubusercontent.com/u/31566956?v=4",key:"progala"}],frontMatter:{slug:"google-cloud-platform-deployment-vm-z-ubuntu",title:"Google Cloud Platform deployment VM z Ubuntu",description:"Pierwszy deployment w Google Cloud Platform nie musi by\u0107 trudny. Zapraszam to sprawdzenia rozwi\u0105za\u0144 dost\u0119pnyw GCP, a zaczniemy od wdro\u017cenia wirtualnej maszyny za pomoc\u0105 szablonu.",date:"2017-10-08",authors:["progala"],tags:["gcloud","gcp","google cloud-platform","ubuntu"],keywords:["justcloud","gcp","azure","devops","template","szablon","google cloud platform","ubuntu"],hide_table_of_contents:!0},prevItem:{title:"Auto deployment VM with VSTS agent for pool",permalink:"/auto-deployment-vm-with-vsts-agent-for-pool"},nextItem:{title:"Delete VM and create again based on .vhd",permalink:"/delete-vm-and-create-again-based-on-vhd"}},s={authorsImageUrls:[void 0]},c=[],m={toc:c};function d(e){var t=e.components,u=(0,a.Z)(e,l);return(0,r.kt)("wrapper",(0,n.Z)({},m,u,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Zastanawiali\u015bcie si\u0119 jak dzia\u0142aj\u0105 szablony w Google Cloud Platform? Mia\u0142em jaki\u015b czas temu mo\u017cliwo\u015b\u0107 dowiedzie\u0107 si\u0119 jak to dzia\u0142a, dlatego postanowi\u0142em zrobi\u0107 ma\u0142y wpis na ten temat. Czym jest GCP (Google Cloud Platform)? Je\u015bli wiesz czym jest Azure i Amazon Web Services (AWS) to GCP jest kolejnym dostawc\u0105 z podobnymi rozwi\u0105zaniami. Od ponad roku GCP jest pr\u0119\u017cnie rozwijane w stron\u0119 rynku wirtualnych maszyn i web serwis\xf3w wychodz\u0105c na przeciw AWS'owi i Azure'owi powsta\u0142 portal analogicznie podobny do zarz\u0105dzania w\u0142asnymi projektami mo\u017cna to odwzorowa\u0107 tak jakby do subskrypcji w Azure."),(0,r.kt)("p",null,"Portal: ",(0,r.kt)("a",{parentName:"p",href:"https://console.cloud.google.com"},"https://console.cloud.google.com")),(0,r.kt)("p",null,(0,r.kt)("a",{target:"_blank",href:o(6343).Z},(0,r.kt)("img",{src:o(1672).Z,width:"1904",height:"946"}))),(0,r.kt)("p",null,"Google udost\u0119pnia w\u0142asne CLI do zarz\u0105dzania projektami:\xa0",(0,r.kt)("a",{parentName:"p",href:"https://cloud.google.com/sdk/"},"https://cloud.google.com/sdk/")," po instalacji SDK mo\u017cemy u\u017cywa\u0107 komend np. do deploymentu. Deploment wirtualnej maszyny r\xf3\u017cni si\u0119 znacz\u0105co od tych kt\xf3rych u\u017cywamy w Azure i AWS, maj\u0105 one rozszerzenia. jinja lub. yaml gdzie mo\u017cemy wspomaga\u0107 nasz deployment plikami python'owymi .py. Daje to nam du\u017ce mo\u017cliwo\u015bci konstruowania skomplikowanych delpoyment\xf3w."),(0,r.kt)("p",null,"Zajrzyjmy do przygotowanego przeze mnie deploymentu VM z systemem ubuntu:\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/RogalaPiotr/JustCloudPublic/blob/master/gcloud-simple-ubuntu"},"https://github.com/RogalaPiotr/JustCloudPublic/blob/master/gcloud-simple-ubuntu")),(0,r.kt)("p",null,'W poni\u017cszym kodzie nale\u017cy zaktualizowa\u0107 go o warto\u015bci nazwy projektu podmieniaj\u0105c "warto\u015b\u0107 your-project-name", plik vm .yaml:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"resources:\n- type: compute.v1.instance\n  name: simple-ubuntu\n  properties:\n    zone: europe-west1-c\n    machineType: projects/your-project-name/zones/europe-west1-c/machineTypes/f1-micro\n    disks:\n    - deviceName: boot\n      type: PERSISTENT\n      boot: true\n      autoDelete: true\n      initializeParams:\n        sourceImage: projects/your-project-name/global/images/ubuntu-1604-xenial-v20170815a\n        diskType: projects/your-project-name/zones/europe-west1-c/diskTypes/pd-standard\n    networkInterfaces:\n    - network: projects/your-project-name/global/networks/default\n      accessConfigs:\n      - name: External NAT\n        type: ONE_TO_ONE_NAT\n")),(0,r.kt)("p",null,"Na pierwszy rzut oka plik nie jest skomplikowany, poniewa\u017c plik .yaml jest tylko skr\xf3tem definicji kt\xf3re s\u0105 wysy\u0142ane dalej do schematu gdzie pod spodem ma du\u017co wi\u0119cej funkcji, kt\xf3rych nie musimy definiowa\u0107."),(0,r.kt)("p",null,"Po zalogowaniu si\u0119 z cmd do GCP mo\u017cemy wywo\u0142a\u0107 powy\u017cszy deployment u\u017cywaj\u0105c polecenia:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"gcloud deployment-manager deployments create simple-ubuntu --config vm.yaml")),(0,r.kt)("p",null,"Po wykonaniu tego polecenia rozpocznie si\u0119 deployment a nast\u0119pnie zostanie uruchomiona maszyna z systemem ubuntu. Zapraszam do testowania i zadawani pyta\u0144."),(0,r.kt)("p",null,(0,r.kt)("img",{src:o(9591).Z,width:"1279",height:"587"})),(0,r.kt)("p",null,(0,r.kt)("img",{src:o(7437).Z,width:"896",height:"228"})),(0,r.kt)("p",null,(0,r.kt)("img",{src:o(3113).Z,width:"1018",height:"600"})))}d.isMDXComponent=!0},6343:function(e,t,o){t.Z=o.p+"assets/files/capture_010_08102017_140927-9dda36b0a5f67893ca2a13bfbdcaba6a.jpg"},1672:function(e,t,o){t.Z=o.p+"assets/images/capture_010_08102017_140927-9dda36b0a5f67893ca2a13bfbdcaba6a.jpg"},9591:function(e,t,o){t.Z=o.p+"assets/images/capture_012_08102017_145512-3b50e7a61b62877d75884b25d100dce0.jpg"},7437:function(e,t,o){t.Z=o.p+"assets/images/capture_013_08102017_145520-92105ab0554ba04be699dfa98d5ccd44.jpg"},3113:function(e,t,o){t.Z=o.p+"assets/images/capture_014_08102017_145606-7a18296796b1ffe41fcde1edeeeb44c3.jpg"}}]);