<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="rss.xsl"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>JustCloud.pl - Azure &amp; DevOps Blog</title>
        <link>https://blog.justcloud.pl/</link>
        <description>Ekspertyczne artykuÅ‚y o Microsoft Azure, DevOps, automatyzacji i transformacji chmurowej</description>
        <lastBuildDate>Sat, 20 Sep 2025 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>pl-PL</language>
        <copyright>Copyright Â© 2025 JustCloud.pl</copyright>
        <item>
            <title><![CDATA[Co oznaczajÄ… mnoÅ¼niki 1x, 0.33x, 0x w GitHub Copilot?]]></title>
            <link>https://blog.justcloud.pl/github-copilot-mnozniki-wyjasnienie</link>
            <guid>https://blog.justcloud.pl/github-copilot-mnozniki-wyjasnienie</guid>
            <pubDate>Sat, 20 Sep 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[Dowiedz siÄ™, co oznaczajÄ… mnoÅ¼niki 1x, 0.33x, 0x w GitHub Copilot. Zrozum, jak dziaÅ‚ajÄ… kredyty i ktÃ³re modele sÄ… darmowe, aby efektywnie zarzÄ…dzaÄ‡ kosztami.]]></description>
            <content:encoded><![CDATA[<p>ZastanawiaÅ‚eÅ› siÄ™, co oznaczajÄ… mnoÅ¼niki <code>1x</code>, <code>0.33x</code>, <code>0x</code> widoczne przy modelach GitHub Copilot w Visual Studio Code? WyjaÅ›nijmy, co siÄ™ za nimi kryje.</p>
<p><img decoding="async" loading="lazy" alt="Zrzut ekranu przedstawiajÄ…cy listÄ™ modeli w GitHub Copilot" src="https://blog.justcloud.pl/assets/images/Greenshot%202025-10-23%2020.24.19-1f654020e72965c3709bcf108df9a696.png" width="451" height="464" class="img_ev3q"></p>
<p>MnoÅ¼niki te okreÅ›lajÄ… â€kosztâ€ uÅ¼ycia danego modelu, ktÃ³ry jest rozliczany z puli dostÄ™pnych kredytÃ³w na Twoim koncie GitHub Copilot. Kredyty to jednostki, ktÃ³re zuÅ¼ywasz, wysyÅ‚ajÄ…c zapytania do rÃ³Å¼nych modeli AI.</p>
<p>JeÅ›li korzystasz z planu, ktÃ³ry ma ograniczonÄ… liczbÄ™ kredytÃ³w, wybÃ³r modelu ma kluczowe znaczenie.</p>
<ul>
<li class="">Modele z mnoÅ¼nikiem <code>0x</code> sÄ… <strong>darmowe</strong> i nie zuÅ¼ywajÄ… Twoich kredytÃ³w. PamiÄ™taj jednak, Å¼e mogÄ… oferowaÄ‡ odpowiedzi niÅ¼szej jakoÅ›ci w porÃ³wnaniu do pÅ‚atnych modeli.</li>
<li class="">Modele z wyÅ¼szym mnoÅ¼nikiem, np. <code>1x</code> czy <code>0.33x</code>, zuÅ¼ywajÄ… kredyty proporcjonalnie do podanej wartoÅ›ci, ale zazwyczaj dostarczajÄ… bardziej zaawansowane i precyzyjne odpowiedzi.</li>
</ul>
<p>WybierajÄ…c model, decydujesz, czy wolisz oszczÄ™dzaÄ‡ kredyty, czy uzyskaÄ‡ jak najlepszÄ… pomoc od AI.</p>
<p>Nie wiesz, gdzie sprawdziÄ‡, ile zapytaÅ„ (requestÃ³w) Ci jeszcze zostaÅ‚o? PoniÅ¼ej zrzut ekranu z podpowiedziÄ….</p>
<p><img decoding="async" loading="lazy" alt="Zrzut ekranu przedstawiajÄ…cy GitHub Copilot requests" src="https://blog.justcloud.pl/assets/images/Greenshot%202025-10-23%2020.24.07-2c951402f91bd9117e759aa35427999c.png" width="446" height="468" class="img_ev3q"></p>
<p>Mam nadziejÄ™, Å¼e teraz wszystko jest jasne. Daj znaÄ‡, czy siÄ™ przydaÅ‚o! ğŸ’ª</p>]]></content:encoded>
            <category>GitHub Copilot</category>
            <category>VS Code</category>
            <category>AI</category>
        </item>
        <item>
            <title><![CDATA[Push protection w GitHub przed opublikowaniem haseÅ‚]]></title>
            <link>https://blog.justcloud.pl/github push protection leak credentials</link>
            <guid>https://blog.justcloud.pl/github push protection leak credentials</guid>
            <pubDate>Mon, 04 Sep 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[GitHub push protection chroni przed przypadkowym ujawnieniem haseÅ‚, kluczy API i tokenÃ³w. ZwiÄ™ksz bezpieczeÅ„stwo repozytorium â€” sprawdÅº jak!]]></description>
            <content:encoded><![CDATA[<p>GitHub, jako wiodÄ…ca platforma zarzÄ…dzania kodem, stale wprowadza nowe funkcje, by zapewniÄ‡ bezpieczne Å›rodowisko dla repozytoriÃ³w organizacyjnych i projektÃ³w prywatnych. Jednym z najnowszych ulepszeÅ„ jest funkcja "Ochrona przed przesyÅ‚aniem do repozytoriÃ³w i organizacji" ("Push protection for repositories and organizations"), ktÃ³ra przynosi liczne korzyÅ›ci dla programistÃ³w, inÅ¼ynierÃ³w chmury oraz zespoÅ‚Ã³w DevOps.</p>
<p>W tym artykule szczegÃ³Å‚owo omÃ³wimy, jak ta innowacyjna funkcja wpÅ‚ywa na Twoje repozytorium na GitHubie i jak moÅ¼esz czerpaÄ‡ z niej korzyÅ›ci.</p>
<p>Czym jest "<strong>Push protection for repositories and organizations</strong>"?</p>
<p>"Ochrona przed przesyÅ‚aniem do repozytoriÃ³w i organizacji" to narzÄ™dzie, ktÃ³re zapewnia zabezpieczenie przed nieautoryzowanymi modyfikacjami Twojego repozytorium na GitHubie. RozwiÄ…zanie dziaÅ‚a zarÃ³wno na poziomie organizacji, chroniÄ…c wszystkie repozytoria w jej strukturach, jak i na poziomie indywidualnym. Ochrona ta identyfikuje potencjalnie wraÅ¼liwe dane, takie jak klucze API, hasÅ‚a czy tokeny dostÄ™powe, ktÃ³re mogÄ… byÄ‡ nieÅ›wiadomie przesyÅ‚ane do repozytoriÃ³w.</p>
<p>Co ta funkcja zmienia w Twoim repozytorium?</p>
<ol>
<li class=""><strong>Wykrywanie i blokowanie przesyÅ‚ania poufnych danych:</strong> GitHub automatycznie wykrywa poufne dane w przesyÅ‚anych plikach, takie jak hasÅ‚a, klucze API czy tokeny dostÄ™powe. PrzesyÅ‚anie takich danych do repozytorium jest powszechnym bÅ‚Ä™dem, ktÃ³ry moÅ¼e skutkowaÄ‡ naruszeniem bezpieczeÅ„stwa. Funkcja "Ochrona przed przesyÅ‚aniem" skutecznie blokuje takie prÃ³by, redukujÄ…c potencjalne zagroÅ¼enia.</li>
<li class=""><strong>Powiadamianie o potencjalnych naruszeniach:</strong> W przypadku wykrycia prÃ³by przesyÅ‚ania poufnych danych, GitHub informuje odpowiednich wÅ‚aÅ›cicieli repozytorium lub zespoÅ‚y bezpieczeÅ„stwa o zdarzeniu. Pomaga to w szybkim wykrywaniu i reagowaniu na potencjalne zagroÅ¼enia.</li>
<li class=""><strong>Personalizacja ochrony na rÃ³Å¼nych poziomach:</strong> DziÄ™ki tej funkcji uÅ¼ytkownicy mogÄ… dostosowaÄ‡ poziom ochrony zarÃ³wno na poziomie pojedynczego repozytorium, jak i organizacji. MoÅ¼na zdecydowaÄ‡, czy wÅ‚Ä…czyÄ‡ niestandardowe reguÅ‚y ochrony oraz ktÃ³re typy wraÅ¼liwych danych zablokowaÄ‡. Daje to peÅ‚nÄ… kontrolÄ™ nad bezpieczeÅ„stwem projektÃ³w.</li>
</ol>
<p>Jak skorzystaÄ‡ z "<strong>Push protection for repositories and organizations</strong>"?</p>
<p>Aby wÅ‚Ä…czyÄ‡ funkcjÄ™ "Ochrona przed przesyÅ‚aniem" dla swojego profilu na GitHubie, wykonaj poniÅ¼sze kroki:</p>
<ol>
<li class="">PrzejdÅº do ustawieÅ„ swojego profilu na GitHubie.</li>
<li class="">Wybierz zakÅ‚adkÄ™ "Code security and analysis".</li>
<li class="">W sekcji "Push protection for yourself" wybierz opcjÄ™ "Enable"</li>
</ol>
<p><img decoding="async" loading="lazy" alt="Zrzut ekranu przedstawiajÄ…cy konfiguracjÄ™ ochrony push w GitHubie" src="https://blog.justcloud.pl/assets/images/2023-09-04_13-43-26-ebd5707f6de2a93b68a3d8e9c9e29094.png" width="4136" height="2520" class="img_ev3q"></p>
<aside><p><strong>ğŸ’¡ Dodatkowo, tÄ™ funkcjÄ™ moÅ¼na skonfigurowaÄ‡ w podobny sposÃ³b dla caÅ‚ej organizacji.</strong></p></aside>
<p>Natomiast jeÅ›li chcesz skonfigurowaÄ‡ tÄ™ funkcjÄ™ na poziomie repozytorium, wykonaj nastÄ™pujÄ…ce kroki:</p>
<ol>
<li class="">PrzejdÅº do ustawieÅ„ swojego repozytorium na GitHubie.</li>
<li class="">Wybierz zakÅ‚adkÄ™ "Security" (BezpieczeÅ„stwo).</li>
<li class="">W sekcji "Push protection" (Ochrona przed przesyÅ‚aniem) skonfiguruj preferowane ustawienia ochrony. MoÅ¼esz zdecydowaÄ‡, ktÃ³re typy wraÅ¼liwych danych zablokowaÄ‡ oraz czy chcesz wÅ‚Ä…czyÄ‡ powiadomienia o naruszeniach dla wÅ‚aÅ›ciciela repozytorium lub zespoÅ‚Ã³w bezpieczeÅ„stwa.</li>
<li class="">Zapisz zmiany.</li>
</ol>
<p><img decoding="async" loading="lazy" alt="Zrzut ekranu przedstawiajÄ…cy ustawienia ochrony push w repozytorium GitHub" src="https://blog.justcloud.pl/assets/images/2023-09-04_13-53-10-7caa548baf020c2192bcc88d0b0e689e.png" width="3230" height="3060" class="img_ev3q"></p>
<p>Link do peÅ‚nej dokumentacji:</p>
<ul>
<li class=""><a href="https://docs.github.com/en/enterprise-cloud@latest/code-security/secret-scanning/push-protection-for-repositories-and-organizations" target="_blank" rel="noopener noreferrer" class="">Link do dokumentacji GitHub</a></li>
</ul>
<p>JeÅ›li masz jakieÅ› pytania, zachÄ™cam do zadawania ich w komentarzach ğŸ™‚.</p>]]></content:encoded>
            <category>GitHub</category>
            <category>push protection</category>
            <category>bezpieczeÅ„stwo</category>
            <category>repozytorium</category>
            <category>ochrona danych</category>
            <category>DevOps</category>
            <category>chmura</category>
            <category>klucze API</category>
            <category>hasÅ‚a</category>
            <category>tokeny dostÄ™powe</category>
        </item>
        <item>
            <title><![CDATA[Jak wdroÅ¼yÄ‡ Azure Pipeline agenta?]]></title>
            <link>https://blog.justcloud.pl/how to deploy azure pipelines agent</link>
            <guid>https://blog.justcloud.pl/how to deploy azure pipelines agent</guid>
            <pubDate>Mon, 31 Jan 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Praktyczny przewodnik - jak wdroÅ¼yÄ‡ wÅ‚asnego Azure Pipelines agenta na serwerze lub VM krok po kroku, ze skryptami, konfiguracjÄ… i wskazÃ³wkami bezpieczeÅ„stwa.]]></description>
            <content:encoded><![CDATA[<p>Azure DevOps pozwala na wdraÅ¼anie rozwiÄ…zaÅ„ za poÅ›rednictwem agentÃ³w tzw. <a href="https://docs.microsoft.com/azure/devops/pipelines/agents/agents?view=azure-devops&amp;tabs=browser&amp;WT.mc_id=AZ-MVP-5002690#microsoft-hosted-agents" target="_blank" rel="noopener noreferrer" class="">"Microsoft-hosted"</a> przez 1800 minut (30 godzin) miesiÄ™cznie. Po przekroczeniu tego czasu nie moÅ¼emy wykonywaÄ‡ deploymentÃ³w.</p>
<p>MoÅ¼na jednak dokupiÄ‡ nielimitowany dostÄ™p do agenta za $40 miesiÄ™cznie lub korzystaÄ‡ ze swojego serwera, np. laptopa, instalujÄ…c agenta â€” ta opcja wdraÅ¼ania jest znana w dokumentacji jako <a href="https://docs.microsoft.com/azure/devops/pipelines/agents/agents?view=azure-devops&amp;tabs=browser&amp;WT.mc_id=AZ-MVP-5002690#install" target="_blank" rel="noopener noreferrer" class="">"Self-Hosted"</a>. Dodam tylko, Å¼e wykorzystywanie wÅ‚asnego laptopa do wdraÅ¼ania nie jest rozwiÄ…zaniem produkcyjnym ğŸ™ƒ.</p>
<p>Strona z cenami Azure DevOps: (<a href="https://azure.microsoft.com/pricing/details/devops/azure-devops-services/?WT.mc_id=AZ-MVP-5002690" target="_blank" rel="noopener noreferrer" class="">https://azure.microsoft.com/pricing/details/devops/azure-devops-services/?WT.mc_id=AZ-MVP-5002690</a>)</p>
<p>Bardzo czÄ™sto sÅ‚yszÄ™ pytanie: po co mi wÅ‚asny serwer do wdraÅ¼ania?</p>
<!--$?--><template id="B:0"></template><!--/$-->
<p>Klasyczna odpowiedÅº: to zaleÅ¼y... Przy pracy nad pracÄ… dyplomowÄ… lub projektem PoC dla znajomego moÅ¼na postawiÄ‡ agenta na swoim laptopie. JeÅ›li pracujecie w grupie kilku osÃ³b, najlepiej byÅ‚oby skorzystaÄ‡ z wÅ‚asnego serwera. JeÅ›li jesteÅ›cie firmÄ… dostarczajÄ…cÄ… rozwiÄ…zania, zdecydowanie warto rozwaÅ¼yÄ‡ wÅ‚asny serwer lub zakup agentÃ³w "Microsoft-hosted" za $40, jeÅ›li czas wdraÅ¼ania przekracza 1800 minut miesiÄ™cznie. Jest jeszcze jedna sytuacja, kiedy warto wybraÄ‡ wÅ‚asny serwer z agentami: wiele firm korzysta z prywatnych, kontrolowanych wewnÄ™trznych sieci z ograniczonym dostÄ™pem z zewnÄ…trz. WdroÅ¼enie wÅ‚asnego serwera w takiej sieci pozwoli na Å‚atwÄ… komunikacjÄ™ z wdroÅ¼onymi rozwiÄ…zaniami na platformie Microsoft Azure oraz zwiÄ™kszy bezpieczeÅ„stwo procesowanych danych. PamiÄ™tajmy, Å¼e agent <a href="https://docs.microsoft.com/azure/devops/pipelines/agents/agents?view=azure-devops&amp;tabs=browser&amp;WT.mc_id=AZ-MVP-5002690#microsoft-hosted-agents" target="_blank" rel="noopener noreferrer" class="">"Microsoft-hosted"</a> to agent "publiczny", odizolowany od waszej sieci. <a href="https://docs.microsoft.com/azure/devops/pipelines/agents/agents?view=azure-devops&amp;tabs=browser&amp;WT.mc_id=AZ-MVP-5002690#install" target="_blank" rel="noopener noreferrer" class="">"Self-Hosted"</a> moÅ¼e zostaÄ‡ wdroÅ¼ony jako agent odizolowany, ale moÅ¼na go rÃ³wnieÅ¼ zintegrowaÄ‡ z wÅ‚asnÄ… sieciÄ….</p>
<p>PoniÅ¼ej odsyÅ‚am was do dokumentacji, w ktÃ³rej moÅ¼na dowiedzieÄ‡ siÄ™ wiÄ™cej o moÅ¼liwoÅ›ciach oferowanych przez Microsoft w zakresie agentÃ³w Azure Pipelines.</p>
<p><a href="https://docs.microsoft.com/azure/devops/pipelines/agents/agents?view=azure-devops&amp;tabs=browser&amp;WT.mc_id=AZ-MVP-5002690" target="_blank" rel="noopener noreferrer" class="">MS Docs - Azure Pipelines agents</a></p>
<p><img decoding="async" loading="lazy" src="https://docs.microsoft.com/en-us/azure/devops/pipelines/agents/media/agent-connections-devops.png?view=azure-devops" alt="Communication to deploy to target servers" class="img_ev3q"></p>
<p>Przechodzimy zatem do wdroÅ¼enia wÅ‚asnego serwera z agentem.</p>
<p>PrzygotowaÅ‚em ilustracje zwiÄ…zane z caÅ‚ym projektem dla wdroÅ¼enia Azure Pipelines agent w oparciu o ten post oraz potrzebne materiaÅ‚y do jego wdroÅ¼enia.</p>
<p><img decoding="async" loading="lazy" alt="steps" src="https://blog.justcloud.pl/assets/images/image1-3a6b83b3327d3fd6856c50caffe8972a.jpg" width="2384" height="1677" class="img_ev3q"></p>
<ol>
<li class="">Linki - za pomocÄ… tych linkÃ³w macie dostÄ™p do mojego przykÅ‚adowego wdroÅ¼enia<!-- -->
<ol>
<li class="">Azure Repos: (<a href="https://dev.azure.com/justcloudpublic/_git/How%20to%20deploy%20ADO%20agent?path=/vm-azure-devops-self-hosted-agents" target="_blank" rel="noopener noreferrer" class="">https://dev.azure.com/justcloudpublic/_git/How%20to%20deploy%20ADO%20agent?path=/vm-azure-devops-self-hosted-agents</a>)</li>
<li class="">Azure Pipeline: (<a href="https://dev.azure.com/justcloudpublic/How%20to%20deploy%20ADO%20agent/_build?definitionId=2" target="_blank" rel="noopener noreferrer" class="">https://dev.azure.com/justcloudpublic/How%20to%20deploy%20ADO%20agent/_build?definitionId=2</a>)</li>
</ol>
</li>
</ol>
<p><a href="https://dev.azure.com/justcloudpublic/How%20to%20deploy%20ADO%20agent/_build/latest?definitionId=2&amp;branchName=main" target="_blank" rel="noopener noreferrer" class=""><img decoding="async" loading="lazy" src="https://dev.azure.com/justcloudpublic/How%20to%20deploy%20ADO%20agent/_apis/build/status/vm-azure-devops-self-hosted-agents?branchName=main" alt="Build Status" class="img_ev3q"></a></p>
<ol start="2">
<li class="">
<p>Skrypty</p>
<ol>
<li class="">Parametry</li>
<li class=""><a href="https://dev.azure.com/justcloudpublic/_git/How%20to%20deploy%20ADO%20agent?path=/vm-azure-devops-self-hosted-agents/scripts/azuredeploy.param.json&amp;version=GBmain&amp;_a=contents" target="_blank" rel="noopener noreferrer" class="">azuredeploy.param.json</a> - te parametry moÅ¼esz przerobiÄ‡ lub zmieniÄ‡ tak, aby odpowiadaÅ‚y potrzebom wdroÅ¼enia. WaÅ¼ne: te dane testowe sÄ… nadpisywane podczas deploymentu â€” sprawdÅº to w pliku: <a href="https://dev.azure.com/justcloudpublic/_git/How%20to%20deploy%20ADO%20agent?path=/vm-azure-devops-self-hosted-agents/pipelines/vm-azure-devops-self-hosted-agents-ci.yml&amp;version=GBmain&amp;_a=contents" target="_blank" rel="noopener noreferrer" class="">vm-azure-devops-self-hosted-agents-ci.yml</a> "overrideParameters".</li>
</ol>
</li>
<li class="">
<p>Opis zmiennych</p>
<ol>
<li class="">adminUsername [nazwa uÅ¼ytkownika]</li>
<li class="">adminPassword [hasÅ‚o uÅ¼ytkownika]</li>
<li class="">dnsLabelPrefix (domyÅ›lnie ustawiany: generowany na podstawie ResourceGroup.Id) [publiczny DNS do poÅ‚Ä…czenia RDP]</li>
<li class="">vmName [nazwa maszyny wirtualnej]</li>
<li class="">AccessIPNSG [IP, ktÃ³re zostanie dodane do reguÅ‚y NSG dla dostÄ™pu RDP]</li>
<li class="">tag [domyÅ›lnie ustawiony: "Project: AzureDevOpsAgent"]</li>
<li class="">DiskForVM [StorageAccount lub Managed - wybÃ³r dysku dla wdroÅ¼enia maszyny wirtualnej]</li>
</ol>
</li>
</ol>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">"parameters"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"adminUsername"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"test-user"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"adminPassword"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"test-P@ssw0rd12345"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"vmName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ado-agents"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"AccessIPNSG"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"192.168.1.1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"tag"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"AzureDevOpsAgent"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"DiskForVM"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"StorageAccount"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<ol start="4">
<li class=""><a href="https://dev.azure.com/justcloudpublic/_git/How%20to%20deploy%20ADO%20agent?path=/vm-azure-devops-self-hosted-agents/scripts/createresourcegroup-adoagent.param.json&amp;version=GBmain&amp;_a=contents" target="_blank" rel="noopener noreferrer" class="">createresourcegroup-adoagent.param.json</a> - parametry definiujÄ…ce grupÄ™ zasobÃ³w.</li>
</ol>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">"parameters"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"ResourceGroupLocation"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"westeurope"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"ResourceGroupName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"vm-azure-devops-self-hosted-agents"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"tag"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"key1"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Project"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"value1"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"AzureDevOpsAgent"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<ol start="5">
<li class="">
<p><a href="https://dev.azure.com/justcloudpublic/_git/How%20to%20deploy%20ADO%20agent?path=/vm-azure-devops-self-hosted-agents/scripts/script-post-configuration.ps1&amp;version=GBmain&amp;_a=contents" target="_blank" rel="noopener noreferrer" class="">script-post-configuration.ps1</a> - skrypt odpowiada za instalacjÄ™ agenta oraz przygotowanie potrzebnych paczek. JeÅ›li potrzebujesz doinstalowaÄ‡ dodatkowe paczki, dodaj je w sekcji: # Install Packages - najproÅ›ciej jest skorzystaÄ‡ z paczek choco: (<a href="https://docs.chocolatey.org/en-us/choco/commands/list" target="_blank" rel="noopener noreferrer" class="">https://docs.chocolatey.org/en-us/choco/commands/list</a>)</p>
</li>
<li class="">
<p>Opis zmiennych</p>
<ol>
<li class="">urlProjectADO [URL do projektu ADO]</li>
<li class="">auth (domyÅ›lnie ustawione: PAT) [metoda uwierzytelniania dla projektu ADO]</li>
<li class="">token [token bezpieczeÅ„stwa dla projektu ADO]</li>
<li class="">pool (domyÅ›lnie ustawione: default) [nazwa puli dla agenta w ADO]</li>
<li class="">agentname [domyÅ›lnie taka sama jak nazwa maszyny wirtualnej]</li>
<li class="">numberagents [domyÅ›lnie 1 - moÅ¼na wdroÅ¼yÄ‡ od 1 do 20 agentÃ³w na jednym serwerze]</li>
<li class="">instalAddtionalPackages [domyÅ›lnie $true; instaluje wszystko, co potrzebne do prostego wdroÅ¼enia w Azure; jeÅ›li potrzeba .NET itp., naleÅ¼y dodaÄ‡ rÄ™cznie]</li>
</ol>
</li>
</ol>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">param(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Parameter(Mandatory = $true)][string] $urlProjectADO,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Parameter(Mandatory = $false)][string] $auth = "pat",</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Parameter(Mandatory = $true)][string] $token,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Parameter(Mandatory = $false)][string] $pool,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Parameter(Mandatory = $false)][string] $agentname,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Parameter(Mandatory = $false)][ValidateRange(1, 20)][int] $numberagents = 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Parameter(Mandatory = $false)][bool] $instalAddtionalPackages = $true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">begin {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">process {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!(Test-Path "c:\temp")) { $null = mkdir "c:\temp" }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $log | % {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            # Install Additional Packages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if ($instalAddtionalPackages) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    # Install Packages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Install-PackageProvider -Name "Nuget" -Force</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    # FIX: WARNING: Not setting tab completion: Profile file does not exist at 'C:\Users\USER\Documents\WindowsPowerShell\Microsoft.PowerShellISE_profile.ps1'.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (!(Test-Path -Path $PROFILE)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        New-Item -ItemType File -Path $PROFILE -Force</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    choco feature enable -n allowGlobalConfirmation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    choco install -y powershell-core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Start-Sleep 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    choco install -y azure-cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Start-Sleep 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    choco install -y az.powershell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Start-Sleep 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    choco install -y azcopy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Start-Sleep 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    choco install -y iiscrypto</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Start-Sleep 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    #Install AzureRM in Powershell 5.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    C:\Windows\system32\WindowsPowerShell\v1.0\powershell.exe -Command "Install-Module -Name AzureRM -AllowClobber -Force -Confirm:`$false"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    # END Install Packages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                catch {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    throw $_</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    break</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            # Get latest version install agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $getLatestVersion = Invoke-WebRequest https://api.github.com/repos/Microsoft/azure-pipelines-agent/releases/latest -UseBasicParsing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $tag = ($getLatestVersion | ConvertFrom-Json)[0].tag_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $tag = $tag.Substring(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $downloadInstallURL = "https://vstsagentpackage.azureedge.net/agent/$tag/vsts-agent-win-x64-$tag.zip"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            # Creating Pool in Azure DevOps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $encodedPat = [System.Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes( ":$token"))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $body = "{name:`"$pool`", autoProvision: `"true`"}"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (!($pool -match "default" -or $pool -match "Azure Pipelines" -or $((Invoke-WebRequest -Method GET -Uri "$urlProjectADO/_apis/distributedtask/pools?api-version=5.1" -UseBasicParsing -Headers @{Authorization = "Basic $encodedPat" }).content | ? { $_ -like "*$pool*" }))) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $tmp = $(Invoke-WebRequest -Method POST -Uri "$urlProjectADO/_apis/distributedtask/pools?api-version=5.0-preview.1" -UseBasicParsing -Headers @{Authorization = "Basic $encodedPat" } -Body $body -ContentType "application/json") 2&gt;$null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            # Install agents</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $filename = $urlProjectADO.Split('/')[-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (!(Test-Path "c:\temp\$filename")) { Invoke-WebRequest -Uri $downloadInstallURL -OutFile "c:\temp\$filename" }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for ($i = 1; $i -le $numberagents; $i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (!(Test-Path "c:\agent-$i")) { mkdir "c:\agent-$i" }else { rm c:\agent-$i -recurse -force; mkdir "c:\agent-$i" }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Add-Type -AssemblyName System.IO.Compression.FileSystem ; [System.IO.Compression.ZipFile]::ExtractToDirectory("c:\temp\$filename", "c:\agent-$i")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ."c:\agent-$i\config.cmd" --unattended --url $urlProjectADO --auth $auth --token $token --pool $pool --agent "$agentname-$i" --runAsService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } | Out-File "c:\temp\ADOagent-$((Get-Date).ToString("s").Replace(":","-")).log"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Remove-Item -Recurse -Force c:\temp -Exclude *.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    catch {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw $_</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        break</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Write-Verbose "Successfully installed Azure DevOps Job Agents"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<ol start="7">
<li class="">Pipelines<!-- -->
<ol>
<li class=""><a href="https://dev.azure.com/justcloudpublic/_git/How%20to%20deploy%20ADO%20agent?path=/vm-azure-devops-self-hosted-agents/pipelines/vm-azure-devops-self-hosted-agents-ci.yml&amp;version=GBmain&amp;_a=contents" target="_blank" rel="noopener noreferrer" class="">vm-azure-devops-self-hosted-agents-ci.yml</a> - w tym pliku zdefiniuj dokÅ‚adnie dane potrzebne do instalacji agentÃ³w â€” adres Twojego projektu ADO, nazwÄ™ puli oraz liczbÄ™ agentÃ³w. Grupa oznacza grupÄ™ Library w Azure DevOps, w ktÃ³rej bezpiecznie przekazujemy poufne dane.</li>
</ol>
</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">variables</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SPNName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Subscription-JustCloudPublic'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'westeurope'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> urlProjectADO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'https://justcloudpublic.visualstudio.com'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Default'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> numberagents</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'justcloudpublickeyvault'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<ol start="8">
<li class="">
<p>Wymagania - co potrzebujesz wiedzieÄ‡, zanim zaczniesz wdraÅ¼aÄ‡:</p>
<ol>
<li class="">Subskrypcja Azure</li>
<li class="">PAT â€” Personal Access Token â€” (<a href="https://docs.microsoft.com/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops&amp;tabs=Windows&amp;WT.mc_id=AZ-MVP-5002690#create-a-pat" target="_blank" rel="noopener noreferrer" class="">https://docs.microsoft.com/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops&amp;tabs=Windows&amp;WT.mc_id=AZ-MVP-5002690#create-a-pat</a>)</li>
<li class="">Key Vault â€” (<a href="https://docs.microsoft.com/azure/devops/pipelines/release/azure-key-vault?view=azure-devops&amp;WT.mc_id=AZ-MVP-5002690" target="_blank" rel="noopener noreferrer" class="">https://docs.microsoft.com/azure/devops/pipelines/release/azure-key-vault?view=azure-devops&amp;WT.mc_id=AZ-MVP-5002690</a>)</li>
</ol>
</li>
</ol>
<p>Po wdroÅ¼eniu:</p>
<ol>
<li class="">Azure DevOps agents
<img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/2022-02-26_20-11-11-8336992a7ceb667eb0794480828457e2.jpg" width="1920" height="553" class="img_ev3q"></li>
<li class="">Azure Portal
<img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/2022-02-27_21-35-04-e358992489d465be62c5d0c4e66934de.jpg" width="2240" height="1394" class="img_ev3q"></li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="instruktaÅ¼-video">InstruktaÅ¼ video<a href="https://blog.justcloud.pl/how%20to%20deploy%20azure%20pipelines%20agent#instrukta%C5%BC-video" class="hash-link" aria-label="Direct link to InstruktaÅ¼ video" title="Direct link to InstruktaÅ¼ video" translate="no">â€‹</a></h2>
<!--$?--><template id="B:1"></template><!--/$-->
<p>JeÅ›li masz jakieÅ› pytania, zapraszam do komentowania ğŸ™‚.</p>
<p>ArtykuÅ‚ dostÄ™pny rÃ³wnieÅ¼ na Medium i LinkedIn:</p>
<ul>
<li class="">(EN) <a href="https://piotr-rogala.medium.com/7223953d2e1f" target="_blank" rel="noopener noreferrer" class="">https://piotr-rogala.medium.com/7223953d2e1f</a></li>
<li class="">(PL) <a href="https://www.linkedin.com/pulse/jak-wdro%25C5%25BCy%25C4%2587-azure-pipelines-agenta-piotr-rogala/" target="_blank" rel="noopener noreferrer" class="">https://www.linkedin.com/pulse/jak-wdro%25C5%25BCy%25C4%2587-azure-pipelines-agenta-piotr-rogala/</a></li>
</ul>]]></content:encoded>
            <category>deploy</category>
            <category>Azure</category>
            <category>DevOps</category>
            <category>agent</category>
            <category>pipelines</category>
        </item>
        <item>
            <title><![CDATA[Nowa odsÅ‚ona bloga JustCloud]]></title>
            <link>https://blog.justcloud.pl/welcome</link>
            <guid>https://blog.justcloud.pl/welcome</guid>
            <pubDate>Sat, 22 Jan 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Start nowego bloga o Microsoft Azure i chmurze. Dowiedz siÄ™ o planach na 2022 rok, nowych aktywnoÅ›ciach w IT community i Å›ledÅº rozwÃ³j JustCloud.]]></description>
            <content:encoded><![CDATA[<p>Witaj na nowej odsÅ‚onie mojego bloga! BÄ™dÄ™ tu publikowaÄ‡ artykuÅ‚y poÅ›wiÄ™cone tematyce Microsoft Azure i szeroko pojÄ™tym technologiom chmurowym (Cloud) â˜ï¸.</p>
<p>Mam nadziejÄ™, Å¼e 2022 rok przyniesie wiele pozytywnych zmian i ciekawych projektÃ³w, ktÃ³rymi bÄ™dÄ™ siÄ™ tu dzieliÅ‚. Zapraszam do regularnych odwiedzin i kontaktu.</p>
<p>Na start kilka waÅ¼nych linkÃ³w:</p>
<ul>
<li class=""><a href="https://web.justcloud.pl/" target="_blank" rel="noopener noreferrer" class="">JustCloud â˜ï¸ Page</a></li>
<li class=""><a href="https://blog.justcloud.pl/" target="_blank" rel="noopener noreferrer" class="">JustCloud â˜ï¸ Blog</a></li>
</ul>
<p>W najbliÅ¼szym czasie planujÄ™ rÃ³wnieÅ¼ uzupeÅ‚niÄ‡ bloga o starsze wpisy.</p>
<p>DziÄ™kujÄ™ i do zobaczenia w kolejnych postach!</p>
<p><img decoding="async" loading="lazy" src="https://images.unsplash.com/photo-1472898965229-f9b06b9c9bbe?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=2070&amp;q=80" alt="ZdjÄ™cie powitalne przedstawiajÄ…ce chmury" class="img_ev3q"></p>]]></content:encoded>
            <category>JustCloud</category>
            <category>Blog</category>
            <category>Microsoft Azure</category>
            <category>Cloud</category>
            <category>IT Community</category>
        </item>
        <item>
            <title><![CDATA[Przyspieszenie pracy nad tagowaniem zasobÃ³w za pomocÄ… PowerShell - Tag raport Microsoft Azure]]></title>
            <link>https://blog.justcloud.pl/tags-in-azure</link>
            <guid>https://blog.justcloud.pl/tags-in-azure</guid>
            <pubDate>Thu, 03 Jun 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Kompletny przewodnik po tagowaniu zasobÃ³w w Azure PowerShell, eksport CSV i automatyzacja dla maÅ‚ych i duÅ¼ych Å›rodowisk.]]></description>
            <content:encoded><![CDATA[<p>KiedyÅ› przygotowaÅ‚em ten skrypt, Å¼eby szybko mÃ³c otagowaÄ‡ wiele zasobÃ³w wdroÅ¼onych na platformie Microsoft Azure. Jest kilka sposobÃ³w, aby to zrobiÄ‡ szybko i prosto; staraÅ‚em siÄ™ przygotowaÄ‡ rozwiÄ…zanie uniwersalne, Å‚atwe i bezpieczne w uÅ¼yciu.</p>
<p>Dlatego postanowiÅ‚em zrobiÄ‡ jeden skrypt, ktÃ³ry generuje wszystkie zasoby do pliku CSV. Drugi skrypt, na podstawie pliku CSV, pobiera dane zasobÃ³w i nadpisuje je na platformie.</p>
<p>Skrypty sÄ… dostÄ™pne na GitHub:</p>
<ul>
<li class=""><a href="https://github.com/RogalaPiotr/JustCloudPublic/tree/master/azure-tags-report" target="_blank" rel="noopener noreferrer" class="">https://github.com/RogalaPiotr/JustCloudPublic/tree/master/azure-tags-report</a></li>
</ul>
<p>Opis skryptÃ³w:</p>
<ul>
<li class="">GetAllTags.ps1 â€” generuje dwa pliki CSV: jeden dla Resource Group, a drugi dla Resources. Jest to istotne, poniewaÅ¼ grupy i zasoby sÄ… rozdzielone, co pozwala tagowaÄ‡ je niezaleÅ¼nie, bez wyszukiwania typÃ³w zasobÃ³w.</li>
<li class="">SetTagsResourceGroups.ps1 â€” skrypt, ktÃ³ry pobiera dane z pliku CSV zawierajÄ…cego spis Resource Group z tagami do wdroÅ¼enia.</li>
<li class="">SetTagsResources.ps1 â€” skrypt, ktÃ³ry pobiera dane z pliku CSV, w ktÃ³rym zapisane sÄ… zasoby z tagami do wdroÅ¼enia.</li>
</ul>
<p>Taki podziaÅ‚ daje nam:</p>
<ol>
<li class="">Zapis stanu obecnego tagÃ³w zapisanych do pliku CSV. Jest to raport tagÃ³w czyli obecny stan wdroÅ¼ony tagÃ³w.</li>
<li class="">PodziaÅ‚ na grupy i zasoby.</li>
<li class="">MoÅ¼liwoÅ›Ä‡ poprawiania tagÃ³w tylko na zasobach lub tylko na grupach zasobÃ³w.</li>
</ol>
<p>Jak dziaÅ‚ajÄ… skrypty?</p>
<ol>
<li class="">GetAllTags</li>
</ol>
<ul>
<li class="">Zapis do pliku odbywa siÄ™ automatycznie w lokalizacji, w ktÃ³rej wykonujemy skrypt, lub moÅ¼na uÅ¼yÄ‡ opcji -path, aby wskazaÄ‡ miejsce zapisu plikÃ³w.</li>
<li class="">Nazwa pliku zawiera datÄ™ â€” jeÅ›li plik istnieje, zostanie on nadpisany.</li>
<li class="">Skrypt sprawdza, czy jesteÅ› zalogowany do Azure. Podczas wykonywania skryptu moÅ¼esz podaÄ‡ parametr -tenantId, aby mieÄ‡ pewnoÅ›Ä‡, Å¼e logujesz siÄ™ do odpowiedniego Azure Directory, oraz -subId w celu wybrania subskrypcji.</li>
</ul>
<ol start="2">
<li class="">SetTagsResourceGroups oraz SetTagsResources</li>
</ol>
<ul>
<li class="">Import danych z plikÃ³w odbywa siÄ™ automatycznie, na podstawie konwencji nazewniczej wygenerowanego wczeÅ›niej pliku. Skrypt importuje najnowszy plik CSV we wskazanym katalogu â€” moÅ¼na teÅ¼ podaÄ‡ Å›cieÅ¼kÄ™ poprzez parametr -path.</li>
<li class="">Tagi powinny byÄ‡ oddzielone przecinkami.</li>
<li class="">Tagi zapisane w pliku CSV wystÄ™pujÄ… jako pary "Key<!-- -->:Value<!-- -->" w osobnych kolumnach.</li>
<li class="">Skrypt pobiera wszystkie elementy z pliku CSV; nastÄ™pnie usuwa tagi w Microsoft Azure i nadpisuje je danymi z pliku CSV.</li>
<li class="">JeÅ›li nie chcesz modyfikowaÄ‡ danego zasobu, wystarczy go usunÄ…Ä‡ z pliku CSV.</li>
<li class="">Skrypt dziaÅ‚a w trybie rÃ³wnolegÅ‚ym, co pozwala na szybsze wprowadzanie zmian. Throttle dla zapisu tagÃ³w wynosi 5 â€” jest to wartoÅ›Ä‡ optymalna.</li>
<li class="">Skrypt sprawdza, czy jesteÅ› zalogowany do Azure â€” moÅ¼esz podaÄ‡ parametr -tenantId.</li>
<li class="">JeÅ›li chcesz wyczyÅ›ciÄ‡ tagi na zasobach, zostaw pustÄ… komÃ³rkÄ™ lub wpisz "empty".</li>
<li class="">Testowanie wprowadzania tagÃ³w moÅ¼esz wykonaÄ‡ poprzez umieszczenie w pliku CSV wyÅ‚Ä…cznie zasobÃ³w, ktÃ³re chcesz zmieniÄ‡; pozostaÅ‚e zasoby nie bÄ™dÄ… brane pod uwagÄ™ podczas wdraÅ¼ania.</li>
</ul>
<p>PoniÅ¼ej przedstawiam przykÅ‚ad jak to dziaÅ‚a na mojej subskrypcji.</p>
<p>Uruchomienie skryptu:</p>
<ul>
<li class="">GetAllTags.ps1</li>
</ul>
<p><code>Komenda: ./GetAllTags.ps1 -path /tags</code></p>
<p><img decoding="async" loading="lazy" src="https://lh6.googleusercontent.com/g2uknxvVr-r8zuu_JNgHwzMEWXDS_lCkJkvP0w2nsaraF1iUI-PfsBGgFDAMnSqGiPEN-oG5sg0RR5aQWAqnixT1BRO0RBcsIWEpJ48Jfztk-ioLi0NlKg-fFfHPUxjXg60DReVG" alt="Output skryptu" class="img_ev3q"></p>
<p>Na printscreenie moÅ¼esz zauwaÅ¼yÄ‡ output z informacjami jakie generowane sÄ… przez skrypt.</p>
<ul>
<li class="">Czy jesteÅ› zalogowany, jeÅ›li nie to poprosi CiÄ™ o zalogowanie siÄ™</li>
<li class="">IloÅ›Ä‡&nbsp;znalezionych grup zasobÃ³w oraz zasobÃ³w</li>
<li class="">Informacja gdzie i jakie pliki sÄ…&nbsp;tworzone</li>
<li class="">Lista zasobÃ³w</li>
</ul>
<p>Pliki CSV wyglÄ…dajÄ… nastÄ™pujÄ…co:</p>
<ul>
<li class="">Resource Group</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://lh3.googleusercontent.com/XiatuhcE3vx4Lr6g5rkz-JP48TjhJ-ydCdwySuAGgBccaVpVZKD9CfPF5xVpIuzU6IFM7PNj939dMpEviYAR3287SCr6F5y2cM4pu1i8500uzKNdRNSh16t8dX9GSosf7J2oDJFa" alt="CSV Resource Group" class="img_ev3q"></p>
<ul>
<li class="">Resources</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://lh4.googleusercontent.com/m5u5NLpGw8DNyroSByMny-rIZsH11sZMs4tgFMixm_Lepfn0rjNf4XqLET6MvsT3YnK48PesD9GJQUkDtWJIuDKsUh7IolWD7BCDfHSQN4Ug_f6qdWpuPF2ns-8vRmnlRNtWptbp" alt="CSV Resources" class="img_ev3q"></p>
<p>PoniÅ¼ej przedstawiÄ™ edycjÄ™ tagÃ³w dla pliku z zasobami.</p>
<p><em>Uwaga! JeÅ›li chcesz zachowaÄ‡ kopiÄ™ obecnego stanu, zabezpiecz wygenerowany plik lub zmieÅ„ jego nazwÄ™ na zupeÅ‚nie innÄ….</em></p>
<p>Poprawiony plik wyglÄ…da nastÄ™pujÄ…co. ZauwaÅ¼, Å¼e wypeÅ‚niÅ‚em tagi dla wszystkich obiektÃ³w oraz dodaÅ‚em nowy tag: Test<!-- -->:Key<!-- -->, aby pokazaÄ‡ jak wyglÄ…da przypisywanie wielu tagÃ³w.</p>
<p><img decoding="async" loading="lazy" src="https://lh6.googleusercontent.com/q4_FhHhAden4hD-gq6IJjhVRras8g-lAgwqCo4evhui6_dSF1wjIt6rZwHV23YbOWIuvlJihRbleddX46VkkUudBByLuX_lfGlrab1_U8Ya14-pdg9Xhrqd7hdzoQqpsxwaseZle" alt="Edycja tagÃ³w" class="img_ev3q"></p>
<p>Wynik skryptu z wykonanymi zmianami:</p>
<p><code>Komenda: ./SetTagsResources.ps1 -path /tags</code></p>
<p><img decoding="async" loading="lazy" src="https://lh4.googleusercontent.com/49zIzivJeCzwtGRSBFcnzG4X0nr3nbtc1dxgJag7q3_tocRbvBcgu0m_DUf11179BBt1GWpHQalOmsyis3CDnEX3xCpgt-1w1Ic_-bR8KFREpnCOP-aXCxmAjefbS7mU7qJbRvkL" alt="Wynik wykonania skryptu" class="img_ev3q"></p>
<p>Efekt zmian w Portalu Azure:</p>
<p><img decoding="async" loading="lazy" src="https://lh4.googleusercontent.com/O0XGlppGQzJYWYNOJcfKkxTo0ZcT4Hstc46TWolZUIr4Bi80Tq8P60Z1IwlMDgU-vwQ4yLvuj1cYWb9RYy67Z4BDPvFGjx704b9ZYUVbGNb9EFUatChC8Vv3YnHQi4g_1Lr1ciL2" alt="Efekt w Portalu Azure" class="img_ev3q"></p>
<p>Skrypt moÅ¼na dostosowaÄ‡&nbsp;do swoich celÃ³w tak, aby dziaÅ‚aÅ‚ na przykÅ‚ad dla wielu subskrypcji. Jest wiele opcji customizacji tego skryptu, ktÃ³re celowo pominÄ…Å‚em. Skrypty dziaÅ‚ajÄ… moduÅ‚owo wiÄ™c moÅ¼na ich Å‚atwo uÅ¼yÄ‡ z innym skryptem, a reszta zostanie przygotowana i wdroÅ¼ona na podstawie wprowadzonych danych z pliku.</p>
<p>Zapraszam do pozostawienia komentarza!</p>]]></content:encoded>
            <category>csv</category>
            <category>azure</category>
            <category>tagowanie</category>
            <category>powershell</category>
            <category>automatyzacja</category>
            <category>raport</category>
            <category>tagging</category>
            <category>tags</category>
            <category>zasoby</category>
            <category>skrypty</category>
        </item>
        <item>
            <title><![CDATA[WysÅ‚anie Å¼Ä…dania API z PowerShell do Azure DevOps]]></title>
            <link>https://blog.justcloud.pl/wyslanie-zadania-api-z-powershell-do-azure-devops</link>
            <guid>https://blog.justcloud.pl/wyslanie-zadania-api-z-powershell-do-azure-devops</guid>
            <pubDate>Mon, 13 Apr 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[Jak wysyÅ‚aÄ‡ Å¼Ä…dania API z PowerShell do Azure DevOps â€” przykÅ‚ady, skrypty i wskazÃ³wki do automatyzacji z uÅ¼yciem Invoke-WebRequest.]]></description>
            <content:encoded><![CDATA[<p>CzÄ™sto stajemy przed wyzwaniem zintegrowania ze sobÄ… wielu narzÄ™dzi. JeÅ¼eli stosujemy PowerShell w celu automatyzacji swojej infrastruktury bÄ…dÅº budowy prostych skryptÃ³w moÅ¼e nam siÄ™ przydaÄ‡ zastosowanie uÅ¼ycia wywoÅ‚ania Å¼Ä…dania API za pomocÄ… PowerShell.</p>
<p>PoniÅ¼szy przykÅ‚ad zaprezentuje uÅ¼ycie wysÅ‚ania Å¼Ä…dania za pomocÄ… API do Azure DevOps w celu dodania puli agentowej.</p>
<p>Referencje API do Azure DevOps sÄ… dostÄ™pne tutaj:</p>
<ul>
<li class=""><a href="https://docs.microsoft.com/en-us/rest/api/azure/devops/distributedtask/pools/add?view=azure-devops-rest-5.1" target="_blank" rel="noopener noreferrer" class="">https://docs.microsoft.com/en-us/rest/api/azure/devops/distributedtask/pools/add?view=azure-devops-rest-5.1</a></li>
</ul>
<p>PoniÅ¼szy przykÅ‚adowy skrypt moÅ¼emy rozbudowaÄ‡ dla innych operacji stosujÄ…c odpowiedni uri dla potrzebnej operacji z powyÅ¼szego linku.</p>
<p>Na poczÄ…tku definiujemy zmienne:</p>
<ul>
<li class="">$urlvsts - URL do naszego projektu Azure DevOps</li>
<li class="">$token - PAT token (Instrukcja jak wygenerowaÄ‡ token: <a href="https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops&amp;tabs=preview-page" target="_blank" rel="noopener noreferrer" class="">https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops&amp;tabs=preview-page</a>)</li>
<li class="">$pool - nazwa puli, ktÃ³rÄ… chcemy utworzyÄ‡</li>
<li class="">$encodedPat - przekonwertowanie tokenu na SecureString</li>
<li class="">$body - informacje do przekazania w wysyÅ‚anym Å¼Ä…daniu</li>
</ul>
<div class="language-ps1 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ps1 codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$urlvsts = 'https://dev.azure.com/PROJECT-NAME'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$token = 'YOUR-PAT-TOKEN'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$pool = 'YOUR-POOL-NAME'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$encodedPat = [System.Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes( ":$token"))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$body = "{name:`"$pool`", autoProvision: `"true`"}"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Komenda <code>Invoke-WebRequest</code> wykonuje wysÅ‚ania Å¼Ä…dania podajÄ…c wczeÅ›niej zdefiniowane zmienne oraz zawiera Uri, czyli miejsce, w ktÃ³re zapuka Å¼Ä…danie, aby ustawiÄ‡ nowÄ… pulÄ™ w Azure DevOps.</p>
<div class="language-ps1 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ps1 codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Invoke-WebRequest `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Method POST `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Uri "$urlvsts/_apis/distributedtask/pools?api-version=5.0-  preview.1" `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -UseBasicParsing `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Headers @{Authorization = "Basic $encodedPat"} `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Body $body `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -ContentType "application/json"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Screens:</p>
<p>Code:</p>
<p><img decoding="async" loading="lazy" alt="Kod przykÅ‚adowy" src="https://blog.justcloud.pl/assets/images/2020-04-13_14h12_09-74a67a70a3044a95c8342ca461fd26c3.png" width="1013" height="314" class="img_ev3q"></p>
<p>Output:</p>
<p><img decoding="async" loading="lazy" alt="Output przykÅ‚adowy" src="https://blog.justcloud.pl/assets/images/2020-04-13_14h12_53-b564469a0b3f4a59f61d76185b092578.png" width="2009" height="523" class="img_ev3q"></p>
<p>Azure DevOps:</p>
<p><img decoding="async" loading="lazy" alt="Widok w Azure DevOps" src="https://blog.justcloud.pl/assets/images/2020-04-13_14h14_02-1024x604-e6cc533454530d607213bf2bb5b3ea5c.png" width="1024" height="604" class="img_ev3q"></p>
<p>W prosty sposÃ³b moÅ¼emy teraz zautomatyzowaÄ‡ operacje w Azure DevOps bez uruchamiania portalu. Niestety referencje API dla Azure DevOps nie pozwalajÄ… na wszystko co moÅ¼emy wyklikaÄ‡ w portalu, ale na pewno pomoÅ¼e to w osiÄ…gniÄ™ciu celu. JeÅ›li masz ciekawe przypadki uÅ¼ycia wspomnianego API lub zastanawiasz siÄ™, gdzie moÅ¼na tego uÅ¼yÄ‡ zapraszam do komentowania.</p>
<p>UÅ¼ycie skryptu moÅ¼ecie rÃ³wnieÅ¼ sprawdziÄ‡ w deploymencie puli agentÃ³w dla Azure DevOps tutaj: <a href="https://github.com/RogalaPiotr/JustCloudPublic/blob/master/simple-vm-with-installation-vsts-agent/vstsagent.ps1" target="_blank" rel="noopener noreferrer" class="">https://github.com/RogalaPiotr/JustCloudPublic/blob/master/simple-vm-with-installation-vsts-agent/vstsagent.ps1</a></p>
<p>ArtykuÅ‚ dostÄ™pny rÃ³wnieÅ¼ na Medium i LinkedIN:</p>
<ul>
<li class="">(EN) <a href="https://medium.com/@piotr.rogala/api-request-to-azure-devops-from-powershell-2e2f525dbd7a" target="_blank" rel="noopener noreferrer" class="">https://medium.com/@piotr.rogala/api-request-to-azure-devops-from-powershell-2e2f525dbd7a</a></li>
<li class="">(PL) <a href="https://www.linkedin.com/pulse/wys%C5%82anie-%C5%BC%C4%85dania-api-z-powershell-do-azure-devops-piotr-rogala" target="_blank" rel="noopener noreferrer" class="">https://www.linkedin.com/pulse/wys%C5%82anie-%C5%BC%C4%85dania-api-z-powershell-do-azure-devops-piotr-rogala</a></li>
</ul>]]></content:encoded>
            <category>api</category>
            <category>automation</category>
            <category>azure</category>
            <category>azure devops</category>
            <category>powershell</category>
        </item>
        <item>
            <title><![CDATA[IaC control via PowerShell module for ARM templates]]></title>
            <link>https://blog.justcloud.pl/iac-control-via-powershell-module-for-arm-templates</link>
            <guid>https://blog.justcloud.pl/iac-control-via-powershell-module-for-arm-templates</guid>
            <pubDate>Sun, 15 Sep 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[Walidacja szablonÃ³w ARM przy uÅ¼yciu moduÅ‚u PowerShell â€” sprawdÅº poprawnoÅ›Ä‡ szablonu i przewidywane zmiany przed wdroÅ¼eniem w Azure.]]></description>
            <content:encoded><![CDATA[<p>Debug natywnych szablonÃ³w ARM jest ciÄ™Å¼kim procesem dla wielu osÃ³b. Utrzymanie infrastruktury jako kod rÃ³wnieÅ¼ nie jest prostÄ… sprawÄ…, dlatego czÄ™sto uÅ¼ywa siÄ™ Terraforma dla wdroÅ¼eÅ„ w Microsoft Azure.</p>
<p>Szablony ARM nie posiadajÄ… pliku stanu jak to jest w Terraform dlatego czÄ™sto spotykam siÄ™ z opiniÄ…, Å¼e, ARM'y sÄ… beznadziejnie. Po wdroÅ¼eniu trudno jest utrzymaÄ‡ staÅ‚y rozwÃ³j infrastruktury z tego samego szablonu oraz czÄ™sto problemem jest przewidywalnoÅ›Ä‡ co siÄ™ stanie z obiektami, ktÃ³re juÅ¼ masz. Nie bÄ™dÄ™ siÄ™ rozwodziÅ‚ co lepsze co gorsze, poniewaÅ¼ wiele zaleÅ¼y od naszej wiedzy, podejÅ›cia, problemu lub zlecenia, ktÃ³re wykonujemy. Jako InÅ¼ynier nie przywiÄ…zuje siÄ™ do rozwiÄ…zaÅ„ i uwaÅ¼am, Å¼e do kaÅ¼dego problemu naleÅ¼y podchodziÄ‡ indywidualnie. Moim zdaniem najlepsze rozwiÄ…zania to rozwiÄ…zania natywne nie wymagajÄ…ce tworzenia koÅ‚a na nowo. StÄ…d zachÄ™cam do pisania szablonÃ³w ARM dla Azure.</p>
<p>Jako pomoc w tworzeniu infrastruktury jako kod (IaC) w Microsoft Azure polecam zapoznaÄ‡ siÄ™ z moduÅ‚em PowerShell: <strong>ARMHelper</strong></p>
<p><a href="https://www.powershellgallery.com/packages/ARMHelper/0.6.2" target="_blank" rel="noopener noreferrer" class="">https://www.powershellgallery.com/packages/ARMHelper/0.6.2</a></p>
<p>Za pomocÄ… komendy: Test-ARMExistingResource moÅ¼emy zbudowaÄ‡ polecenie, ktÃ³re sprawdzi nam wskazany szablon w kontekÅ›cie z deploy'owanych zasobÃ³w w Azure i wyÅ›wietli co siÄ™ stanie. PrzykÅ‚ad poniÅ¼ej przedstawia stworzonÄ… resource groupe bez zasobÃ³w:</p>
<p>UÅ¼yÅ‚em szablonu z mojego repo: <a href="https://github.com/RogalaPiotr/JustCloudPublic/tree/master/simple-vm-shutdown-on-time" target="_blank" rel="noopener noreferrer" class="">https://github.com/RogalaPiotr/JustCloudPublic/tree/master/simple-vm-shutdown-on-time</a><br>
<!-- -->Wykonuje kolejno komendy:</p>
<p>Tworzenie nowej resource grupy:</p>
<p><code>New-AzResourceGroup -Name 'simple-vm-shutdown-on-time' -Location westeurope</code></p>
<p>Sprawdzenie co wyÅ›wietli polecenie Test-ARMExistingResource:</p>
<p><code>Test-ARMExistingResource -ResourceGroupName 'simple-vm-shutdown-on-time' -TemplateFile .\azuredeploy.json -TemplateParameterFile .\azuredeploy.parameters.json -Verbose</code></p>
<p><img decoding="async" loading="lazy" alt="Wynik Test-ARMExistingResource â€” brak zasobÃ³w" src="https://blog.justcloud.pl/assets/images/2019-09-15_12h46_05-8727ff774509b20d633ad59e6525eba9.png" width="1732" height="565" class="img_ev3q"></p>
<p>Wynikiem jest informacja co zostanie utworzone. Super sprawa, to teraz zrobiÄ™ deployment szablonu i sprawdzimy ponownie.</p>
<p><code>New-AzResourceGroupDeployment -ResourceGroupName 'simple-vm-shutdown-on-time' -TemplateFile .\azuredeploy.json -TemplateParameterFile .\azuredeploy.parameters.json -Verbose</code></p>
<p>Niestety miaÅ‚em problem z moduÅ‚em Shutdown i szablon wdroÅ¼yÅ‚ siÄ™ niepoprawnie, dlatego sprawdziÅ‚em co wyÅ›wietli Test-ARMExistResource.</p>
<p><code>Test-ARMExistingResource -ResourceGroupName 'simple-vm-shutdown-on-time' -TemplateFile .\azuredeploy.json -TemplateParameterFile .\azuredeploy.parameters.json -Verbose</code></p>
<p><img decoding="async" loading="lazy" alt="Wynik Test-ARMExistingResource â€” problemy moduÅ‚u Shutdown" src="https://blog.justcloud.pl/assets/images/2019-09-15_13h01_42-e2df42c028dec7e6b2a418ca36325840.png" width="1738" height="457" class="img_ev3q"></p>
<p>Jak widaÄ‡ polecenie poprawnie zwrÃ³ciÅ‚o co jest do poprawienia i co zostanie zmienione(inkrementalnie).</p>
<p>Ostatni test to z argumentem "-Mode Complete" czyli wykonanie szablonu, ktÃ³ry dostosuje wszystkie zasoby niezaleÅ¼nie od tego co jest stworzone w resource groupie do mojego szablonu.</p>
<p><code>Test-ARMExistingResource -ResourceGroupName 'simple-vm-shutdown-on-time' -TemplateFile .\azuredeploy.json -TemplateParameterFile .\azuredeploy.parameters.json -Verbose -Mode Complete</code></p>
<p><img decoding="async" loading="lazy" alt="Wynik Test-ARMExistingResource â€” tryb Complete" src="https://blog.justcloud.pl/assets/images/2019-09-15_13h02_32-cbf72f27f5da36e8dfc3c71bbaebd55f.png" width="1824" height="587" class="img_ev3q"></p>
<p>Teraz moÅ¼na byÄ‡ pewniejszym co siÄ™ stanie z wdroÅ¼eniem po maÅ‚ych zmianach w szablonie.</p>
<p>Mam nadzieje Å¼e przyda Ci siÄ™ ta wiedza ğŸ˜Š</p>]]></content:encoded>
            <category>arm</category>
            <category>azure</category>
            <category>iac</category>
            <category>module</category>
            <category>powershell</category>
            <category>templates</category>
        </item>
        <item>
            <title><![CDATA[SkÄ…d uczyÄ‡ siÄ™ o Microsoft Azure?]]></title>
            <link>https://blog.justcloud.pl/skad-uczyc-sie-o-microsoft-azure</link>
            <guid>https://blog.justcloud.pl/skad-uczyc-sie-o-microsoft-azure</guid>
            <pubDate>Sun, 18 Nov 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[Gdzie uczyÄ‡ siÄ™ Microsoft Azure â€” lista kursÃ³w, wideo, blogÃ³w i materiaÅ‚Ã³w praktycznych. Polecane darmowe i pÅ‚atne ÅºrÃ³dÅ‚a oraz zasoby do certyfikacji.]]></description>
            <content:encoded><![CDATA[<p>Po ostatniej prezentacji przyszÅ‚a mi do gÅ‚owy myÅ›l, by utworzyÄ‡ miejsce, skÄ…d moÅ¼na uczyÄ‡ siÄ™ chmury Microsoft Azure. PostanowiÅ‚em wiÄ™c zebraÄ‡ interesujÄ…ce linki w jednym miejscu â€” znajdziecie tu rekomendacje moje oraz innych ekspertÃ³w.</p>
<p>WiÄ™kszoÅ›Ä‡ poniÅ¼szych linkÃ³w jest darmowa i takie wÅ‚aÅ›nie bÄ™dÄ™ staraÅ‚ siÄ™ udostÄ™pniaÄ‡. JeÅ›li chciaÅ‚byÅ› dodaÄ‡ ciekawe miejsce, ktÃ³re polecasz, dodaj je w komentarzu â€” pomoÅ¼e to w udoskonaleniu listy.</p>
<p>JeÅ›li wiesz, czego konkretnie szukasz, moÅ¼esz uÅ¼yÄ‡ wyszukiwarki, aby skoncentrowaÄ‡ siÄ™ na danym problemie:</p>
<p>JeÅ›li wiesz czego konkretnie szukasz moÅ¼esz uÅ¼yÄ‡ wyszukiwarki aby skoncentrowaÄ‡ siÄ™ na danym problemie:</p>
<!--$?--><template id="B:0"></template><!--/$-->
<p>A, tak na powaÅ¼nie moÅ¼esz zaczerpnÄ…Ä‡ wiedzy w poniÅ¼szych miejscach.</p>
<p>Grupa Microsoft Azure User Group Poland na Facebooku:&nbsp;<a href="https://www.facebook.com/groups/azureugpl/" target="_blank" rel="noopener noreferrer" class="">https://www.facebook.com/groups/azureugpl/</a></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="video">Video<a href="https://blog.justcloud.pl/skad-uczyc-sie-o-microsoft-azure#video" class="hash-link" aria-label="Direct link to Video" title="Direct link to Video" translate="no">â€‹</a></h2>
<ul>
<li class="">Azure Developer:&nbsp;<a href="https://docs.microsoft.com/pl-pl/learn/browse/?roles=developer&amp;products=azure" target="_blank" rel="noopener noreferrer" class="">https://docs.microsoft.com/pl-pl/learn/browse/?roles=developer&amp;products=azure</a></li>
<li class="">Azure Administrator:&nbsp;<a href="https://docs.microsoft.com/pl-pl/learn/browse/?roles=administrator&amp;products=azure" target="_blank" rel="noopener noreferrer" class="">https://docs.microsoft.com/pl-pl/learn/browse/?roles=administrator&amp;products=azure</a></li>
<li class="">Azure Solution Architect:&nbsp;<a href="https://docs.microsoft.com/pl-pl/learn/browse/?roles=solution-architect&amp;products=azure" target="_blank" rel="noopener noreferrer" class="">https://docs.microsoft.com/pl-pl/learn/browse/?roles=solution-architect&amp;products=azure</a></li>
<li class="">Azure Friday:&nbsp;<a href="https://channel9.msdn.com/Shows/Azure-Friday" target="_blank" rel="noopener noreferrer" class="">https://channel9.msdn.com/Shows/Azure-Friday</a></li>
<li class="">Microsoft Self-paced Labs:&nbsp;<a href="https://www.microsoft.com/handsonlabs/selfpacedlabs" target="_blank" rel="noopener noreferrer" class="">https://www.microsoft.com/handsonlabs/selfpacedlabs</a></li>
<li class="">Microsoft Virtual Academy:&nbsp;<a href="https://mva.microsoft.com/search/SearchResults.aspx#!q=azure&amp;orderby=publishedtime&amp;lang=1033" target="_blank" rel="noopener noreferrer" class="">https://mva.microsoft.com/search/SearchResults.aspx#!q=azure&amp;orderby=publishedtime&amp;lang=1033</a></li>
<li class="">Azure Tips and Tricks:&nbsp;<a href="https://www.michaelcrump.net/azure-tips-and-tricks-complete-list/" target="_blank" rel="noopener noreferrer" class="">https://www.michaelcrump.net/azure-tips-and-tricks-complete-list/</a></li>
<li class="">Pluralsight:&nbsp;<a href="https://www.pluralsight.com/search?q=azure" target="_blank" rel="noopener noreferrer" class="">https://www.pluralsight.com/search?q=azure</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="blogipolskich-ekspertÃ³w">Blogi&nbsp;Polskich ekspertÃ³w<a href="https://blog.justcloud.pl/skad-uczyc-sie-o-microsoft-azure#blogipolskich-ekspert%C3%B3w" class="hash-link" aria-label="Direct link to Blogi&nbsp;Polskich ekspertÃ³w" title="Direct link to Blogi&nbsp;Polskich ekspertÃ³w" translate="no">â€‹</a></h2>
<ul>
<li class="">MichaÅ‚ Furmankiewicz: <a href="http://cloudarchitects.pl/" target="_blank" rel="noopener noreferrer" class="">http://cloudarchitects.pl/</a></li>
<li class="">MichaÅ‚ SmereczyÅ„ski: <a href="https://lnx.azurewebsites.net/" target="_blank" rel="noopener noreferrer" class="">https://lnx.azurewebsites.net/</a></li>
<li class="">Emil Wasilewski:&nbsp;<a href="http://zapytajemila.pl/" target="_blank" rel="noopener noreferrer" class="">http://zapytajemila.pl/</a></li>
<li class="">Åukasz KaÅ‚uÅ¼ny:&nbsp;<a href="https://kaluzny.io/" target="_blank" rel="noopener noreferrer" class="">https://kaluzny.io/</a></li>
<li class="">Sebastian Fyda:&nbsp;<a href="http://blog.spiderweb.pl/" target="_blank" rel="noopener noreferrer" class="">http://blog.spiderweb.pl/</a></li>
<li class="">Piotr Rogala:&nbsp;<a href="https://justcloud.azurewebsites.net/blog/" target="_blank" rel="noopener noreferrer" class="">https://justcloud.azurewebsites.net/blog/</a></li>
<li class="">Szymon Pulka (DEV):&nbsp;<a href="https://devincloud.pl/" target="_blank" rel="noopener noreferrer" class="">https://devincloud.pl/</a></li>
<li class="">Mateusz Dudek (DEV):&nbsp;<a href="https://mateuszdudek.pl/blog/" target="_blank" rel="noopener noreferrer" class="">https://mateuszdudek.pl/blog/</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ksiÄ…Å¼ki">KsiÄ…Å¼ki<a href="https://blog.justcloud.pl/skad-uczyc-sie-o-microsoft-azure#ksi%C4%85%C5%BCki" class="hash-link" aria-label="Direct link to KsiÄ…Å¼ki" title="Direct link to KsiÄ…Å¼ki" translate="no">â€‹</a></h2>
<ul>
<li class="">
<p>Free eBooks from Microsoft Press</p>
<ul>
<li class="">Microsoft Azure Essentials: Fundamentals of Azure, Second Edition</li>
<li class="">Introduction to Windows Containers</li>
<li class="">Microsoft Azure Essentials Migrating SQL Server Databases to Azure</li>
<li class="">Microsoft Azure Essentials: Azure Web Apps for Developers</li>
</ul>
</li>
<li class="">
<p>The Developerâ€™s Guide to Microsoft Azure:&nbsp;<a href="https://azure.microsoft.com/en-us/blog/free-ebook-the-developer-s-guide-to-microsoft-azure-now-available/" target="_blank" rel="noopener noreferrer" class="">https://azure.microsoft.com/en-us/blog/free-ebook-the-developer-s-guide-to-microsoft-azure-now-available/</a></p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="certyfikaty">Certyfikaty<a href="https://blog.justcloud.pl/skad-uczyc-sie-o-microsoft-azure#certyfikaty" class="hash-link" aria-label="Direct link to Certyfikaty" title="Direct link to Certyfikaty" translate="no">â€‹</a></h2>
<ul>
<li class="">Lista moÅ¼liwych certyfikatÃ³w do zrobienia dot. Azure:&nbsp;<a href="https://www.microsoft.com/en-us/learning/azure-exams.aspx" target="_blank" rel="noopener noreferrer" class="">https://www.microsoft.com/en-us/learning/azure-exams.aspx</a></li>
</ul>]]></content:encoded>
            <category>azure</category>
            <category>kursy</category>
            <category>nauka</category>
            <category>certyfikaty</category>
            <category>devops</category>
            <category>microsoft-azure</category>
            <category>szkolenia</category>
            <category>blogi</category>
            <category>resources</category>
            <category>kurs</category>
        </item>
        <item>
            <title><![CDATA[Auto deployment VM with VSTS agent for pool]]></title>
            <link>https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool</link>
            <guid>https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool</guid>
            <pubDate>Sun, 27 May 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[Szablon ARM automatyzuje stworzenie maszyny w Azure i instalacjÄ™ agenta Azure DevOps (VSTS). Szybki deployment, konfiguracja agenta i integracja z pulÄ…. Åatwo.]]></description>
            <content:encoded><![CDATA[<p>Wszyscy ktÃ³rzy robiÄ… depyolemnty z VSTS spotykajÄ… siÄ™ z sytuacjÄ…, kiedy standardowe 240min siÄ™ koÅ„czy i trzeba stworzyÄ‡ sobie takÄ… maszynÄ™. Sam robiÅ‚em takÄ… maszynÄ™ parÄ™ razy i kiedy znÃ³w pojawiÅ‚a siÄ™ ta koniecznoÅ›Ä‡ postanowiÅ‚em stworzyÄ‡ automatyczny deployment ktÃ³ry nam stworzy z JSON'a caÅ‚a maszynkÄ™ i podepnie jÄ… do Agent pool w VSTS.</p>
<p>MiaÅ‚em parÄ™ pomysÅ‚Ã³w, aby zrobiÄ‡ bardzo uniwersalny template ktÃ³ry nie tylko przyda siÄ™ wam, ale rÃ³wnieÅ¼ mi w przyszÅ‚oÅ›ci do budowania innych szablonÃ³w. TakÅ¼e w skrÃ³cie opiszÄ™ ciekawostki ktÃ³re zastosowaÅ‚em szablonie, ktÃ³ry znajdziecie na moim GitHubie.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="github-httpsgithubcomrogalapiotrjustcloudpublictreemastersimple-vm-with-installation-vsts-agent"><strong>GitHub</strong> <a href="https://github.com/RogalaPiotr/JustCloudPublic/tree/master/simple-vm-with-installation-vsts-agent" target="_blank" rel="noopener noreferrer" class="">https://github.com/RogalaPiotr/JustCloudPublic/tree/master/simple-vm-with-installation-vsts-agent</a><a href="https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool#github-httpsgithubcomrogalapiotrjustcloudpublictreemastersimple-vm-with-installation-vsts-agent" class="hash-link" aria-label="Direct link to github-httpsgithubcomrogalapiotrjustcloudpublictreemastersimple-vm-with-installation-vsts-agent" title="Direct link to github-httpsgithubcomrogalapiotrjustcloudpublictreemastersimple-vm-with-installation-vsts-agent" translate="no">â€‹</a></h5>
<p>ZaÅ‚oÅ¼enie dotyczÄ…ce szablonu: chciaÅ‚bym dodaÄ‡ informacjÄ™, gdzie waÅ¼nym jest zwrÃ³cenie uwagi, Å¼e maszyna ma byÄ‡ odizolowana od naszej sieci wewnÄ™trznej, dlatego szablon jest infrastruktura stand alone, aby byÅ‚o bezpiecznie i w razie czego moÅ¼na jÄ… usunÄ… lub powoÅ‚aÄ‡ wiÄ™cej agentÃ³w do deploymentÃ³w.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="opis-szablonu">Opis szablonu<a href="https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool#opis-szablonu" class="hash-link" aria-label="Direct link to Opis szablonu" title="Direct link to Opis szablonu" translate="no">â€‹</a></h2>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sekcja-parameters">Sekcja Parameters<a href="https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool#sekcja-parameters" class="hash-link" aria-label="Direct link to Sekcja Parameters" title="Direct link to Sekcja Parameters" translate="no">â€‹</a></h2>
<p>w tej sekcji podajemy dane ktÃ³re przydadzÄ… nam siÄ™ do deplymentu i automatycznego podÅ‚Ä…czenia do VSTS'a.</p>
<ul>
<li class="">
<p><strong>adminUsername</strong>, <strong>adminPassword</strong> - lokalny uÅ¼ytkownik i hasÅ‚o,</p>
</li>
<li class="">
<p><strong>dnsLabelPrefix</strong> - zostanie automatycznie wygenerowany podczas deploymentâ€™u, wiÄ™c nie ma koniecznoÅ›ci go zmieniaÄ‡,</p>
</li>
<li class="">
<p><strong>vmName</strong> - nazwa naszej maszyny oraz na podstawie tej nazwy zostanÄ… nazwane wszystkie nasze resource jest: VNET, NSG, Storage...</p>
</li>
<li class="">
<p><strong>urlvsts</strong> - adres do naszego projektu VSTS, np. <a href="https://project1.visualstudio.com/" target="_blank" rel="noopener noreferrer" class="">https://project1.visualstudio.com</a></p>
</li>
<li class="">
<p><strong>auth</strong> - rodzaj poÅ›wiadczenia - wybrany domyÅ›lnie PAT,</p>
</li>
<li class="">
<p><strong>token</strong> - token security ktÃ³ry umoÅ¼liwi nam podÅ‚Ä…czenie siÄ™ do projektu. WiÄ™cej informacji jak stworzyÄ‡ Security Token poniÅ¼ej:</p>
<ul>
<li class=""><a href="https://docs.microsoft.com/en-us/vsts/build-release/actions/agents/v2-windows?view=vsts" target="_blank" rel="noopener noreferrer" class="">Dokumentacja agenta VSTS</a></li>
</ul>
</li>
<li class="">
<p><strong>pool</strong> - nazwa puli, do ktÃ³rej zostanie dodana maszyna w VSTS'ie - ustawiony jest na default</p>
</li>
<li class="">
<p><strong>AccessIPNSG</strong> - adres, ktÃ³ry tutaj podacie zostanie dodany do NSG i tylko z tego adresu dostaniecie siÄ™ po RDP do maszyny,</p>
</li>
<li class="">
<p><strong>Tag</strong> - tagi mogÄ… ulec waszej modyfikacji ustawione sÄ… na Project: VSTSAgent.</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sekcja-variables">Sekcja Variables<a href="https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool#sekcja-variables" class="hash-link" aria-label="Direct link to Sekcja Variables" title="Direct link to Sekcja Variables" translate="no">â€‹</a></h2>
<ul>
<li class="">
<p><strong>vmsize</strong> - ustawiony na "Standard_B1s". To tani rozmiar wystarczajÄ…cy na maszynÄ™ deploymentowÄ…. SprawdÅº, czy moÅ¼esz deployowaÄ‡ tÄ™ maszynÄ™ w swojej subskrypcji; w przeciwnym razie zgÅ‚oÅ› request do supportu Microsoft.</p>
</li>
<li class="">
<p><strong>urldonwloadagent</strong> - link do pobrania paczki agenta VSTS. W razie zmiany wersji zaktualizuj link.</p>
</li>
<li class="">
<p><strong>filescriptURI</strong> - skrypt automatyzujÄ…cy pobranie i instalacjÄ™ agenta: <a href="https://raw.githubusercontent.com/RogalaPiotr/JustCloudPublic/master/simple-vm-with-installation-vsts-agent/vstsagent.ps1" target="_blank" rel="noopener noreferrer" class="">vstsagent.ps1 na GitHubie</a></p>
</li>
<li class="">
<p><strong>filescriptURISplit</strong> - funkcja, ktÃ³ra rozbija powyÅ¼szy URL na czÄ™Å›ci wedÅ‚ug znaku "/" i tworzy tablicÄ™.</p>
<ul>
<li class="">wiÄ™cej informacji: <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-template-functions" target="_blank" rel="noopener noreferrer" class="">Funkcje ARM Templates</a></li>
</ul>
</li>
<li class="">
<p><strong>filescriptName</strong> - nazwa skryptu uÅ¼ywanego w CustomScriptExtension uzyskiwana z powyÅ¼szego split.</p>
</li>
<li class="">
<p><strong>agentname</strong> - nazwa agenta dodawanego do puli; domyÅ›lnie oparta na nazwie maszyny.</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sekcja-resources">Sekcja Resources<a href="https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool#sekcja-resources" class="hash-link" aria-label="Direct link to Sekcja Resources" title="Direct link to Sekcja Resources" translate="no">â€‹</a></h2>
<ul>
<li class="">
<p><strong>type: Microsoft.Network/networkSecurityGroups</strong> - NSG z dostÄ™pem RDP tylko z adresu IP, ktÃ³ry podamy w parametrze AccessIPNSG.</p>
</li>
<li class="">
<p><strong>type: Microsoft.Network/publicIPAddresses</strong> - publiczny adres dla VM, umoÅ¼liwiajÄ…cy poÅ‚Ä…czenie z zewnÄ…trz.</p>
</li>
<li class="">
<p><strong>type: Microsoft.Network/virtualNetworks</strong> - VNet.</p>
</li>
<li class="">
<p><strong>type: Microsoft.Compute/virtualMachines</strong> - tworzenie maszyny wirtualnej z Windows i Managed Disk.</p>
<ul>
<li class=""><strong>type: Microsoft.Compute/virtualMachines/extensions</strong> - instalacja agenta VSTS oparta na skrypcie z GitHuba (vstsagent.ps1); peÅ‚na komenda znajduje siÄ™ w polu "commandToExecute".</li>
</ul>
</li>
<li class="">
<p><strong>type: Microsoft.DevTestLab/schedules</strong> - dziÄ™ki temu nasza maszynie bÄ™dzie wyÅ‚Ä…czana codziennie o 18:00 zona: W. Europe Standard Time - ten feature dziaÅ‚a tylko kiedy maszyna jest wÅ‚Ä…czona pozwoli to nam zapomnieÄ‡ o wyÅ‚Ä…czaniu, a mimo wszystko nie bÄ™dziemy traciÄ‡ pieniÄ™dzy za jej bezczynnoÅ›Ä‡.</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sekcja-outputs"><strong>Sekcja Outputs</strong><a href="https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool#sekcja-outputs" class="hash-link" aria-label="Direct link to sekcja-outputs" title="Direct link to sekcja-outputs" translate="no">â€‹</a></h2>
<ul>
<li class=""><strong>PublicDNS</strong> - po wykonaniu deploymentâ€™u wyÅ›wietli nam publiczny adres DNS dla VM,</li>
<li class=""><strong>Hostname</strong> - wyÅ›wietli nazwÄ™ maszyny, ktÃ³rÄ… wprowadziliÅ›my w parametrach,</li>
<li class=""><strong>VSTSAgentName</strong> - wyÅ›wietli nazwÄ™ agenta jaka bÄ™dzie widoczna w VSTS,</li>
<li class=""><strong>VSTSProjectName</strong> - wyÅ›wietli nazwÄ™ projektu VSTS jaki zostaÅ‚ wprowadzony,</li>
<li class=""><strong>ScriptURI</strong> - wyÅ›wietli ÅºrÃ³dÅ‚o z jakiego zostaÅ‚ pobrany skrypt do instalacji Agenta,</li>
<li class=""><strong>AccessRDPFrom</strong> - wyÅ›wietli adres IP ktÃ³ry zostaÅ‚ dodany do NSG, aby miaÅ‚ dostÄ™p do RDP</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="szablon">Szablon<a href="https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool#szablon" class="hash-link" aria-label="Direct link to Szablon" title="Direct link to Szablon" translate="no">â€‹</a></h2>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"$schema"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"contentVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"1.0.0.0"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"parameters"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"adminUsername"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Username for the Virtual Machine."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"adminPassword"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"securestring"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Password for the Virtual Machine."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"dnsLabelPrefix"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"defaultValue"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat('x', uniqueString(resourceGroup().id))]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Unique DNS Name for the Public IP used to access the Virtual Machine."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"vmName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Unique DNS Name for the Public IP used to access the Virtual Machine."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"urlvsts"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"URL for your VSTS Project ex. https://project1.visualstudio.com."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"auth"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"defaultValue"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"pat"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Unique DNS Name for the Public IP used to access the Virtual Machine."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"token"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"securestring"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Security token for VSTS project."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"pool"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Pool name in VSTS - Default is a main."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"AccessIPNSG"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Your public IP it will added for NSG for connection via RDP."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"numberagents"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"int"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Numbers of agents for installation"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"tag"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Tag Values"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"variables"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"storageAccountName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat('stor', uniquestring(resourceGroup().id))]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"windowsOSVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"2019-Datacenter"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"vmsize"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Standard_B2ms"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"publicIPAddressName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat(parameters('vmName'), '-pip')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"virtualNetworkName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat(parameters('vmName'), '-vnet')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"NSGname"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat(parameters('vmName'), '-nsg')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"nicName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat(parameters('vmName'), '-nic')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"subnetName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat(parameters('vmName'), '-subnet')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"addressPrefix"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"10.0.0.0/16"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"subnetPrefix"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"10.0.0.0/24"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"subnetRef"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceId('Microsoft.Network/virtualNetworks/subnets', variables('virtualNetworkName'), variables('subnetName'))]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"urldonwloadagent"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"https://vstsagentpackage.azureedge.net/agent/2.155.1/vsts-agent-win-x64-2.155.1.zip"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"filescriptURI"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"https://raw.githubusercontent.com/RogalaPiotr/JustCloudPublic/master/simple-vm-with-installation-vsts-agent/vstsagent.ps1"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"filescriptURISplit"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[split(variables('filescriptURI'), '/')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"filescriptName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[last(variables('filescriptURISplit'))]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"agentname"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('vmName')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"resources"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Microsoft.Storage/storageAccounts"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[variables('storageAccountName')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"apiVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"2015-06-15"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"location"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceGroup().location]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"tags"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"Project"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('tag')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"accountType"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Standard_LRS"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Microsoft.Network/networkSecurityGroups"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[variables('NSGName')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"location"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceGroup().location]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"tags"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"Project"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('tag')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"apiVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"2018-03-01"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"securityRules"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"RDP"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Allow IP for RDP"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"protocol"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"TCP"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"sourcePortRange"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"*"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"destinationPortRange"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3389"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"sourceAddressPrefix"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('AccessIPNSG')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"destinationAddressPrefix"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"*"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"access"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Allow"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"priority"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"direction"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Inbound"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"apiVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"2016-03-30"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Microsoft.Network/publicIPAddresses"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[variables('publicIPAddressName')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"location"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceGroup().location]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"tags"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"Project"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('tag')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"publicIPAllocationMethod"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Dynamic"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"dnsSettings"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"domainNameLabel"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('dnsLabelPrefix')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"apiVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"2016-03-30"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Microsoft.Network/virtualNetworks"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[variables('virtualNetworkName')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"dependsOn"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"[resourceId('Microsoft.Network/networkSecurityGroups/', variables('NSGName'))]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"location"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceGroup().location]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"tags"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"Project"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('tag')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"addressSpace"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"addressPrefixes"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">"[variables('addressPrefix')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"subnets"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[variables('subnetName')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"addressPrefix"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[variables('subnetPrefix')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"networkSecurityGroup"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"id"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceId('Microsoft.Network/networkSecurityGroups',variables('NSGName'))]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"apiVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"2016-03-30"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Microsoft.Network/networkInterfaces"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[variables('nicName')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"location"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceGroup().location]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"tags"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"Project"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('tag')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"dependsOn"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"[resourceId('Microsoft.Network/publicIPAddresses/', variables('publicIPAddressName'))]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"[resourceId('Microsoft.Network/virtualNetworks/', variables('virtualNetworkName'))]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"ipConfigurations"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ipconfig1"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"privateIPAllocationMethod"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Dynamic"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"publicIPAddress"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"id"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceId('Microsoft.Network/publicIPAddresses',variables('publicIPAddressName'))]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"subnet"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"id"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[variables('subnetRef')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"apiVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"2016-04-30-preview"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Microsoft.Compute/virtualMachines"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('vmName')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"location"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceGroup().location]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"tags"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"Project"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('tag')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"dependsOn"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"[resourceId('Microsoft.Network/networkInterfaces/', variables('nicName'))]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"[concat('Microsoft.Storage/storageAccounts/', variables('storageAccountName'))]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"licenseType"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Windows_Server"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"hardwareProfile"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"vmSize"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[variables('vmsize')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"osProfile"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"computerName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('vmName')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"adminUsername"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('adminUsername')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"adminPassword"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('adminPassword')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"storageProfile"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"imageReference"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"publisher"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"MicrosoftWindowsServer"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"offer"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"WindowsServer"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"sku"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[variables('windowsOSVersion')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"version"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"latest"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"osDisk"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat(parameters('vmName'),'-os')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"vhd"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"uri"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat('http://',variables('storageAccountName'),'.blob.core.windows.net/vhds/',parameters('vmName'),'-vm-os.vhd')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"caching"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ReadWrite"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"createOption"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"FromImage"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"networkProfile"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"networkInterfaces"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"id"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceId('Microsoft.Network/networkInterfaces',variables('nicName'))]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"resources"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat(parameters('vmName'),'/AzureDevOpsAgentInstall')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Microsoft.Compute/virtualMachines/extensions"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"location"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceGroup().location]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"tags"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"Project"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('tag')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"dependsOn"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">"[concat('Microsoft.Compute/virtualMachines/', parameters('vmName'))]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"apiVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"2015-06-15"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"publisher"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Microsoft.Compute"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"CustomScriptExtension"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"typeHandlerVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"1.9"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"autoUpgradeMinorVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"settings"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"fileUris"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">"[variables('filescriptURI')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"protectedSettings"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"commandToExecute"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat('powershell -ExecutionPolicy Unrestricted -File ',variables('filescriptName'),' -url ',variables('urldonwloadagent'),' -urlvsts ',parameters('urlvsts'),' -auth ',parameters('auth'),' -token ',parameters('token'),' -pool ',parameters('pool'),' -agentname ',variables('agentname'), ' -numberagents ',parameters('numberagents'))]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"apiVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"2016-05-15"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Microsoft.DevTestLab/schedules"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat('shutdown-computevm-', parameters('vmName'))]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"location"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceGroup().location]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"tags"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"Project"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('tag')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"dependsOn"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"[resourceId('Microsoft.Compute/virtualMachines/', parameters('vmName'))]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"status"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"Enabled"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"timeZoneId"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"W. Europe Standard Time"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"taskType"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"ComputeVmShutdownTask"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"notificationSettings"</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"status"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"Disabled"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"timeInMinutes"</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"webhookUrl"</span><span class="token operator" style="color:#393A34">:</span><span class="token null keyword" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"targetResourceId"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"[resourceId('Microsoft.Compute/virtualMachines', parameters('vmName'))]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"dailyRecurrence"</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"time"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"1800"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"outputs"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"PublicDNS"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[reference(variables('publicIPAddressName')).dnsSettings.fqdn]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"HostName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('vmName')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"VSTSAgentName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[variables('agentname')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"VSTSProjectName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('urlvsts')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"ScritpURI"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[variables('filescriptURI')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"AccessRDPFrom"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"value"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[parameters('accessIPNSG')]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="przykÅ‚ad">PrzykÅ‚ad<a href="https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool#przyk%C5%82ad" class="hash-link" aria-label="Direct link to PrzykÅ‚ad" title="Direct link to PrzykÅ‚ad" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="aby-wykonaÄ‡-deployment-naleÅ¼y-utworzyÄ‡-resource-groupÄ™">Aby wykonaÄ‡ deployment naleÅ¼y utworzyÄ‡ Resource GroupÄ™<a href="https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool#aby-wykona%C4%87-deployment-nale%C5%BCy-utworzy%C4%87-resource-group%C4%99" class="hash-link" aria-label="Direct link to Aby wykonaÄ‡ deployment naleÅ¼y utworzyÄ‡ Resource GroupÄ™" title="Direct link to Aby wykonaÄ‡ deployment naleÅ¼y utworzyÄ‡ Resource GroupÄ™" translate="no">â€‹</a></h3>
<p><code>New-AzureRMResourceGroup -Name VSTS -Location westeurope</code></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="wykonanie-deploymentu">Wykonanie deploymentu<a href="https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool#wykonanie-deploymentu" class="hash-link" aria-label="Direct link to Wykonanie deploymentu" title="Direct link to Wykonanie deploymentu" translate="no">â€‹</a></h3>
<p><code>New-AzureRMResourceGroupDeployment -ResourceGroupName VSTS -TemplateURI "https://raw.githubusercontent.com/RogalaPiotr/JustCloudPublic/master/simple-vm-with-installation-vsts-agent/azuredeploy.json" -Verbose</code></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="efekt-w-portalu-po-deploymencie">Efekt w portalu po deploymencie<a href="https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool#efekt-w-portalu-po-deploymencie" class="hash-link" aria-label="Direct link to Efekt w portalu po deploymencie" title="Direct link to Efekt w portalu po deploymencie" translate="no">â€‹</a></h3>
<p><img decoding="async" loading="lazy" alt="Zrzut ekranu - efekt w portalu" src="https://blog.justcloud.pl/assets/images/Clipboard21-8d851887072ff59a7d848fb97d94ba0e.jpg" width="1360" height="637" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="widok-puli-agentÃ³w-w-vsts">Widok puli agentÃ³w w VSTS<a href="https://blog.justcloud.pl/auto-deployment-vm-with-vsts-agent-for-pool#widok-puli-agent%C3%B3w-w-vsts" class="hash-link" aria-label="Direct link to Widok puli agentÃ³w w VSTS" title="Direct link to Widok puli agentÃ³w w VSTS" translate="no">â€‹</a></h3>
<p><img decoding="async" loading="lazy" alt="Zrzut ekranu - pula agentÃ³w" src="https://blog.justcloud.pl/assets/images/Clipboard22-1b82d9e149275cd7f3aa92dc67e94dc2.jpg" width="925" height="335" class="img_ev3q"></p>
<p>Maszyna jest gotowa do deploymentÃ³w, jeÅ›li potrzebujesz wiÄ™cej maszyn moÅ¼esz bez oporu deployowaÄ‡ wiÄ™kszÄ… iloÅ›Ä‡ ğŸ˜Š</p>
<p>Czas deplymentu to: 15 minutes 46 seconds.</p>]]></content:encoded>
            <category>arm</category>
            <category>automation</category>
            <category>azure</category>
            <category>deployment</category>
            <category>json</category>
            <category>microsoft</category>
            <category>vsts</category>
            <category>ado</category>
            <category>vm</category>
            <category>template</category>
        </item>
        <item>
            <title><![CDATA[Google Cloud Platform deployment VM z Ubuntu]]></title>
            <link>https://blog.justcloud.pl/google-cloud-platform-deployment-vm-z-ubuntu</link>
            <guid>https://blog.justcloud.pl/google-cloud-platform-deployment-vm-z-ubuntu</guid>
            <pubDate>Sun, 08 Oct 2017 00:00:00 GMT</pubDate>
            <description><![CDATA[Pierwszy deployment w Google Cloud Platform nie musi byÄ‡ trudny. Zapraszam to sprawdzenia rozwiÄ…zaÅ„ dostÄ™pnyw GCP, a zaczniemy od wdroÅ¼enia wirtualnej maszyny za pomocÄ… szablonu.]]></description>
            <content:encoded><![CDATA[<p>ZastanawialiÅ›cie siÄ™ jak dziaÅ‚ajÄ… szablony w Google Cloud Platform? MiaÅ‚em jakiÅ› czas temu moÅ¼liwoÅ›Ä‡ dowiedzieÄ‡ siÄ™ jak to dziaÅ‚a, dlatego postanowiÅ‚em zrobiÄ‡ maÅ‚y wpis na ten temat.</p>
<p>Czym jest GCP (Google Cloud Platform)? JeÅ›li wiesz czym jest Azure i Amazon Web Services (AWS) to GCP jest kolejnym dostawcÄ… z podobnymi rozwiÄ…zaniami. Od ponad roku GCP jest prÄ™Å¼nie rozwijane w stronÄ™ rynku wirtualnych maszyn i web serwisÃ³w wychodzÄ…c na przeciw AWS'owi i Azure'owi powstaÅ‚ portal analogicznie podobny do zarzÄ…dzania wÅ‚asnymi projektami moÅ¼na to odwzorowaÄ‡ tak jakby do subskrypcji w Azure.</p>
<p>Portal: <a href="https://console.cloud.google.com/" target="_blank" rel="noopener noreferrer" class="">https://console.cloud.google.com</a></p>
<p><a href="https://blog.justcloud.pl/assets/files/capture_010_08102017_140927-9dda36b0a5f67893ca2a13bfbdcaba6a.jpg" target="_blank" class=""><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/capture_010_08102017_140927-9dda36b0a5f67893ca2a13bfbdcaba6a.jpg" width="1904" height="946" class="img_ev3q"></a></p>
<p>Google udostÄ™pnia wÅ‚asne CLI do zarzÄ…dzania projektami:&nbsp;<a href="https://cloud.google.com/sdk/" target="_blank" rel="noopener noreferrer" class="">https://cloud.google.com/sdk/</a> po instalacji SDK moÅ¼emy uÅ¼ywaÄ‡ komend np. do deploymentu. Deploment wirtualnej maszyny rÃ³Å¼ni siÄ™ znaczÄ…co od tych ktÃ³rych uÅ¼ywamy w Azure i AWS, majÄ… one rozszerzenia. jinja lub. yaml gdzie moÅ¼emy wspomagaÄ‡ nasz deployment plikami python'owymi .py. Daje to nam duÅ¼e moÅ¼liwoÅ›ci konstruowania skomplikowanych delpoymentÃ³w.</p>
<p>Zajrzyjmy do przygotowanego przeze mnie deploymentu VM z systemem ubuntu:&nbsp;<a href="https://github.com/RogalaPiotr/JustCloudPublic/blob/master/gcloud-simple-ubuntu" target="_blank" rel="noopener noreferrer" class="">https://github.com/RogalaPiotr/JustCloudPublic/blob/master/gcloud-simple-ubuntu</a></p>
<p>W poniÅ¼szym kodzie naleÅ¼y zaktualizowaÄ‡ go o wartoÅ›ci nazwy projektu podmieniajÄ…c "wartoÅ›Ä‡ your-project-name", plik vm .yaml:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> compute.v1.instance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> simple</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ubuntu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">zone</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> europe</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">west1</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">machineType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> projects/your</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">project</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name/zones/europe</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">west1</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">c/machineTypes/f1</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">micro</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">disks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">deviceName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> boot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PERSISTENT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">boot</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">autoDelete</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">initializeParams</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">sourceImage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> projects/your</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">project</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name/global/images/ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">1604</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">xenial</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">v20170815a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">diskType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> projects/your</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">project</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name/zones/europe</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">west1</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">c/diskTypes/pd</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">standard</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">networkInterfaces</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">network</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> projects/your</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">project</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name/global/networks/default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">accessConfigs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> External NAT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ONE_TO_ONE_NAT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Na pierwszy rzut oka plik nie jest skomplikowany, poniewaÅ¼ plik .yaml jest tylko skrÃ³tem definicji ktÃ³re sÄ… wysyÅ‚ane dalej do schematu gdzie pod spodem ma duÅ¼o wiÄ™cej funkcji, ktÃ³rych nie musimy definiowaÄ‡.</p>
<p>Po zalogowaniu siÄ™ z cmd do GCP moÅ¼emy wywoÅ‚aÄ‡ powyÅ¼szy deployment uÅ¼ywajÄ…c polecenia:</p>
<p><code>gcloud deployment-manager deployments create simple-ubuntu --config vm.yaml</code></p>
<p>Po wykonaniu tego polecenia rozpocznie siÄ™ deployment a nastÄ™pnie zostanie uruchomiona maszyna z systemem ubuntu. Zapraszam do testowania i zadawani pytaÅ„.</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/capture_012_08102017_145512-3b50e7a61b62877d75884b25d100dce0.jpg" width="1279" height="587" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/capture_013_08102017_145520-92105ab0554ba04be699dfa98d5ccd44.jpg" width="896" height="228" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/capture_014_08102017_145606-7a18296796b1ffe41fcde1edeeeb44c3.jpg" width="1018" height="600" class="img_ev3q"></p>]]></content:encoded>
            <category>gcloud</category>
            <category>gcp</category>
            <category>google cloud-platform</category>
            <category>ubuntu</category>
        </item>
        <item>
            <title><![CDATA[Delete VM and create again based on .vhd]]></title>
            <link>https://blog.justcloud.pl/delete-vm-and-create-again-based-on-vhd</link>
            <guid>https://blog.justcloud.pl/delete-vm-and-create-again-based-on-vhd</guid>
            <pubDate>Sat, 30 Sep 2017 00:00:00 GMT</pubDate>
            <description><![CDATA[Rekreowanie maszyny z istniejÄ…cego dysku moÅ¼e byÄ‡ konieczne kiedy mamy migracjÄ™Â lub problemy z maszynÄ…. Ten artykuÅ‚ opisuje jak sprawnie przejÅ›Ä‡ przed ten proces.]]></description>
            <content:encoded><![CDATA[<p>W tej czÄ™Å›ci tytuÅ‚ jest angielski, poniewaÅ¼ nie stosuje spolszczeÅ„ dla technicznego jÄ™zyka. Ten post jest spowodowany tym co Microsoft niestety przestaÅ‚ wspieraÄ‡ w Azure a mianowicie breaklease dla blobÃ³w podpiÄ™tych do wirtualnej maszyny.</p>
<p>ByÅ‚o mi to potrzebne do jednego zadania, dlatego byÅ‚em zmuszony zrobiÄ‡ coÅ› innego. Mianowicie potrzebne mi byÅ‚o usuniÄ™cie maszyny i stworzenie jej bazujÄ…c na istniejÄ…cych vhd'kach w innym kontenerze dodatkowo moje zaÅ‚oÅ¼enie wymagaÅ‚o powershell'a. W skrÃ³cie odtworzenie maszyny z jakiegoÅ› stanu, ktÃ³ry jest przechowywany jako kopia dyskÃ³w wirtualnej maszyny. MyÅ›lÄ™, Å¼e sÄ… osoby, ktÃ³rym siÄ™ to przyda.</p>
<p>KrÃ³tki opis:</p>
<ol>
<li class="">Podajemy nazwÄ™ maszyny lub listÄ™ maszyn z naszej subskrypcji.</li>
<li class="">Na podstawie nazwy maszyny znajdujemy resource groupe.</li>
<li class="">WyÅ‚Ä…czamy maszynÄ™.</li>
<li class="">Na podstawie RG i nazwy VM sprawdzamy jakie dyski sÄ… podpiÄ™te do maszyny.</li>
<li class="">Znajdujemy sobie context dla dyskÃ³w.</li>
<li class="">MajÄ…c wszystkie dane przechodzimy do usuwania maszyny.</li>
<li class="">Usuwany obecny vhd z OS.</li>
<li class="">Kopiujemy w jego miejsce wczeÅ›niej skopiowany vhd z kontenera "images".</li>
<li class="">Przeprowadzamy dalej tÄ… samÄ… operacje dla wszystkich podpiÄ™tych dyskÃ³w data.</li>
<li class="">Na podstawie wszystkich zebranych wczeÅ›niej danych tworzymy wirtualnÄ… maszynÄ™.</li>
</ol>
<p>Puenta jest taka. JeÅ›li okaÅ¼e siÄ™, Å¼e ktÃ³regoÅ› razu Microsoft Support powie wam, Å¼e trzeba usunÄ…Ä‡ maszynÄ™ i stworzyÄ‡ jÄ… ponownie dziÄ™ki temu skryptowi moÅ¼ecie to zrobiÄ‡ zaledwie w 5 minut i potwierdziÄ‡, czy to pomogÅ‚o czy diagnoza Supportu byÅ‚a niewÅ‚aÅ›ciwa. Zdarza siÄ™, Å¼e MS sugeruje usuniÄ™cie maszyny i stworzenie jej ponownie i majÄ…c np. 5 maszyn wiecie, Å¼e nie jest to zabawa na 5 minut. Ale teraz wykorzystujÄ…c ten skrypt moÅ¼ecie to zrobiÄ‡. WczeÅ›niejszym etapem bÄ™dzie poprawienie skryptu, aby nie usuwaÄ‡ dyskÃ³w vhd tylko uÅ¼yÄ‡ obecnych. Natomiast jeÅ›li chcecie zrobiÄ‡ sobie kopie bezpieczeÅ„stwa dyskÃ³w vhd to bÄ™dzie naleÅ¼eÄ‡ przeprowadziÄ‡ procedurÄ™ wyÅ‚Ä…czenia maszyn skopiowania vhd'kÃ³w np. do kontenera "images" i puÅ›ciÄ‡ poniÅ¼szy skrypt.</p>
<p>Skrpyt w bardziej czytelnej formie na github:&nbsp;<a href="https://github.com/RogalaPiotr/JustCloudPublic/tree/master/recreate-vm-from-vhd" target="_blank" rel="noopener noreferrer" class="">https://github.com/RogalaPiotr/JustCloudPublic/tree/master/recreate-vm-from-vhd</a></p>
<div class="language-ps1 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ps1 codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$vms = @("SimpleWindowsVM")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$sourcecontainerimage = "images"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function recreatevms {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach ($vm in $vms) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Write-Host "VM name: "$vm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $vmrg = Get-AzureRmResource | Where-Object {$_.Name -like $vm}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Write-Host "VM Resource Group: "$vmrg.ResourceGroupName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $vmsize = (Get-AzureRmVM -ResourceGroupName $vmrg.ResourceGroupName -VMName $vm).HardwareProfile.VmSize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Write-Host "VM size: "$vmsize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $nicvm = Get-AzureRmNetworkInterface -ResourceGroupName $vmrg.ResourceGroupName | Where-Object {$_.VirtualMachine.Id -like "*$vm*"}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Write-Host "VM NIC name: "$nicvm.Name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $vmstatus = Get-AzureRmVM -ResourceGroupName $vmrg.ResourceGroupName -Name $vm -Status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Write-Host "VM status is: "$vmstatus.Statuses.DisplayStatus[1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if($vmstatus.Statuses.DisplayStatus -like "*running*"){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Write-Host "VM stopping: "$vm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $tmp = Stop-AzureRmVM -ResourceGroupName $vmrg.ResourceGroupName -Name $vm -Force</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $vmdiskos = ((Get-AzureRmVM -ResourceGroupName $vmrg.ResourceGroupName -Name $vm).StorageProfile).OsDisk 3&gt; $null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $vmdisksdata = ((Get-AzureRmVM -ResourceGroupName $vmrg.ResourceGroupName -Name $vm).StorageProfile).DataDisks 3&gt; $null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Write-Host "Get VM disk os: "$vmdiskos.Name </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Write-Host "Get VM disk data: "$vmdisksdata.Name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Write-Host "Get VM disk data count: "$vmdisksdata.Count</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $storagediskosname = ($vmdiskos.Vhd.Uri.Split("/")[2]).Replace(".blob.core.windows.net","")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $containerdiskos = ($vmdiskos.Vhd.Uri.Split("/")[3])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $vmdiskosname = ($vmdiskos.Vhd.Uri.Split("/")[4])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $storageaccountos = Get-AzureRmResource | Where-Object {$_.Name -like "$storagediskosname"}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $storageaccountkeyos = (Get-AzureRmStorageAccountKey -Name $storageaccountos.Name -ResourceGroupName $storageaccountos.ResourceGroupName).Value[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $storagecontext = New-AzureStorageContext -StorageAccountName $storageaccountos.Name -StorageAccountKey $storageaccountkeyos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $container = Get-AzureStorageContainer -Name $containerdiskos -context $storagecontext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $containerdiskosimage = $vmdiskos.Vhd.Uri -replace("vhds",$sourcecontainerimage)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Remove-AzureRmVM -Name $vm -ResourceGroupName $vmrg.ResourceGroupName -Force</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Write-Host "Removing VM: "$vm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Remove-AzureStorageBlob -Blob $vmdiskosname -Container vhds -Context $storagecontext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Write-Host "Removing VM os disk uri: "$vmdiskos.Vhd.Uri</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $tmp = Start-AzureStorageBlobCopy -srcUri $containerdiskosimage -SrcContext $storagecontext -DestContainer $containerdiskos -DestBlob $vmdiskosname -DestContext $storagecontext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Write-Host  "Copying new os disk uri: "$containerdiskosimage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (![string]::IsNullOrEmpty($vmdisksdata)){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            foreach ($vmdiskdata in $vmdisksdata){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $storagediskdataname = ($vmdiskdata.Vhd.Uri.Split("/")[2]).Replace(".blob.core.windows.net","")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $containerdiskdata = ($vmdiskdata.Vhd.Uri.Split("/")[3])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $vmdiskdataname = ($vmdiskdata.Vhd.Uri.Split("/")[4])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $storageaccountdata = Get-AzureRmResource | Where-Object {$_.Name -like "$storagediskdataname"}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $storageaccountkeydata = (Get-AzureRmStorageAccountKey -Name $storageaccountdata.Name -ResourceGroupName $storageaccountdata.ResourceGroupName).Value[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $storagecontext = New-AzureStorageContext -StorageAccountName $storageaccountdata.Name -StorageAccountKey $storageaccountkeydata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $container = Get-AzureStorageContainer -Name $containerdiskdata -context $storagecontext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $containerdiskdataimage = $vmdiskdata.Vhd.Uri -replace("vhds",$sourcecontainerimage)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Remove-AzureStorageBlob -Blob $vmdiskdataname -Container vhds -Context $storagecontext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Write-Host "Removing VM data disk uri: "$vmdiskdata.Vhd.Uri</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $tmp = Start-AzureStorageBlobCopy -srcUri $containerdiskdataimage -SrcContext $storagecontext -DestContainer $containerdiskdata -DestBlob $vmdiskdataname -DestContext $storagecontext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Write-Host  "Copying new os disk uri: "$containerdiskdataimage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Write-Host "Creating VM"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $vmConfig = New-AzureRmVMConfig -VMName $vm -VMSize $vmsize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $vmConfig = Set-AzureRmVMOSDisk -VM $vmConfig -Name $vmdiskos.Name -VhdUri $vmdiskos.Vhd.Uri -CreateOption Attach -Windows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($vmdisksdata.count -ge 0){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $i = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            foreach ($vmdiskdatavm in $vmdisksdata){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $vmConfig = Add-AzureRmVMDataDisk -VM $vmConfig -VhdUri $vmdiskdatavm.Vhd.Uri -CreateOption Attach -Lun $i -Name $vmdiskdatavm.Name -Caching ReadWrite</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $i++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $vmConfig = Add-AzureRmVMNetworkInterface -VM $vmConfig -Id $nicvm.Id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $vmConfig = Set-AzureRmVMBootDiagnostics -VM $vmConfig -Disable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $vm = New-AzureRmVM -VM $vmConfig -Location $vmrg.Location -ResourceGroupName $vmrg.ResourceGroupName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################################################################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Recreate VM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################################################################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">recreatevms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>]]></content:encoded>
            <category>azure</category>
            <category>blob</category>
            <category>devops</category>
            <category>powershell</category>
            <category>storage</category>
            <category>vm</category>
            <category>migracja</category>
        </item>
        <item>
            <title><![CDATA[Deployment maszyny z funkcjÄ… Auto-Shutdown  za pomocÄ… szablonu arm]]></title>
            <link>https://blog.justcloud.pl/deployment-maszyny-z-funkcja-auto-shutdown-za-pomoca-szablonu-arm</link>
            <guid>https://blog.justcloud.pl/deployment-maszyny-z-funkcja-auto-shutdown-za-pomoca-szablonu-arm</guid>
            <pubDate>Sun, 03 Sep 2017 00:00:00 GMT</pubDate>
            <description><![CDATA[Jak wyÅ‚Ä…czyÄ‡ maszynÄ™ automatycznie o danej godzinie? ZapomocÄ… tego skryptu zrobisz to!]]></description>
            <content:encoded><![CDATA[<p>Szablony ARM majÄ… nam pomaÄ‡ w pracy dlatego kiedy testujÄ™ wiele szablonÃ³w zdarza mi siÄ™, Å¼e zapominam o resource'ach, ktÃ³re utworzyÅ‚em w Azure co powoduje, Å¼e marnujÄ™ pieniÄ…dzÄ™ na subskrypcji. Powodem sÄ… zazwyczaj pÃ³Åºne godziny pracy i przemÄ™czenie, a pÃ³Åºniej te z deploy'owane wirtualki dziaÅ‚ajÄ… przez parÄ™ dni nic nie robiÄ…c.</p>
<p>Dlatego postanowiÅ‚em sobie pomÃ³c i do kaÅ¼ego deploy'mentu dodajÄ™ wpis ktÃ³ry wyÅ‚Ä…czy wirtualkÄ™ o jakiejÅ› godzinie. PoniÅ¼szy przykÅ‚ad zaprezentuje deplyment Windows'a 2016 z manage disk'iem i "Microsoft.DevTestLab/schedules".</p>
<p>W poprzendich moich postach moÅ¼esz przeczytaÄ‡ jak zalogowaÄ‡ siÄ™ do Azure za pomocÄ… PowerShell i CLI oraz jak uÅ¼ywaÄ‡ do deploymentÃ³w Visual Studio Code i Visual Studio.</p>
<p><strong>Przydatne linki:</strong></p>
<ul>
<li class="">Wygodny profil logowania:&nbsp;<a href="https://justcloud.azurewebsites.net/blog/profil-logowania-do-azure/" target="_blank" rel="noopener noreferrer" class="">https://justcloud.azurewebsites.net/blog/profil-logowania-do-azure/</a></li>
<li class="">Logowanie za pomacÄ… CLI:&nbsp;<a href="https://justcloud.azurewebsites.net/blog/azure-cli-logowanie/" target="_blank" rel="noopener noreferrer" class="">https://justcloud.azurewebsites.net/blog/azure-cli-logowanie/</a></li>
<li class="">Visual Studio Code:&nbsp;<a href="https://justcloud.azurewebsites.net/blog/visual-studio-code-i-git-zamiast-powershell-ise/" target="_blank" rel="noopener noreferrer" class="">https://justcloud.azurewebsites.net/blog/visual-studio-code-i-git-zamiast-powershell-ise/</a></li>
<li class="">Visual Studio:&nbsp;<a href="https://justcloud.azurewebsites.net/blog/tworzenie-szablonu-arm-visual-studio-2017/" target="_blank" rel="noopener noreferrer" class="">https://justcloud.azurewebsites.net/blog/tworzenie-szablonu-arm-visual-studio-2017/</a></li>
</ul>
<p><strong>Å¹rÃ³dÅ‚a:</strong></p>
<ul>
<li class="">Dokumentacja: <a href="https://docs.microsoft.com/en-us/azure/templates/microsoft.devtestlab/schedules" target="_blank" rel="noopener noreferrer" class="">https://docs.microsoft.com/en-us/azure/templates/microsoft.devtestlab/schedules</a></li>
<li class="">Zones: <a href="https://msdn.microsoft.com/en-us/library/gg154758.aspx" target="_blank" rel="noopener noreferrer" class="">https://msdn.microsoft.com/en-us/library/gg154758.aspx</a></li>
</ul>
<p><strong>Kod:</strong></p>
<ul>
<li class="">Szablon dostÄ™pny jest na moim github'ie: <a href="https://github.com/RogalaPiotr/JustCloudPublic/blob/master/simple-vm-shutdown-on-time/azuredeploy.json" target="_blank" rel="noopener noreferrer" class="">https://github.com/RogalaPiotr/JustCloudPublic/blob/master/simple-vm-shutdown-on-time/azuredeploy.json</a></li>
</ul>
<p>Szablon jest bezobsÅ‚ugowy dlatego wystarczy wywoÅ‚aÄ‡ go komendÄ…:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">New-AzureRMResourceGroupDeployment -ResourceGroupName XXX -TemplateURI "https://raw.githubusercontent.com/RogalaPiotr/JustCloudPublic/master/simple-vm-shutdown-on-time/azuredeploy.json" -adminUsername XXX -adminPassword XXX -vmName XXX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>PoniÅ¼ej mamy zaprezentowanÄ… sekcjÄ™ parameters. W niej moÅ¼emy zdefiniowaÄ‡ nazwÄ™ VM'ki jaka ma powstaÄ‡ oraz nazwÄ™ uÅ¼ytkownika i hasÅ‚o. Aby uÅ‚atwiÄ‡ sobiÄ™ pracÄ™ to dla DNS'u wykorzystaÅ‚em funkcjÄ™ unicqueString, aby generowaÄ‡ sobiÄ™ unikatowÄ… nazwÄ™ dla powstajÄ…cego serwera.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"parameters"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"adminUsername"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Username for the Virtual Machine."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"adminPassword"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"securestring"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Password for the Virtual Machine."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"dnsLabelPrefix"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"defaultValue"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat('x', uniqueString(resourceGroup().id))]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Unique DNS Name for the Public IP used to access the Virtual Machine."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"vmName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"metadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Unique DNS Name for the Public IP used to access the Virtual Machine."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Sekcja variables. W tej sekcji zefiniowane zostaÅ‚y wszystkie istotne wartoÅ›ci dla deploy'mentu. WielkoÅ›Ä‡ maszyny, wersje Windows'a, adresacje itp. moÅ¼esz modyfikowaÄ‡ tutaj.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"variables"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"windowsOSVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"2016-Datacenter"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"vmsize"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Standard_A1"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"publicIPAddressName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat(parameters('vmName'), '-pip')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"virtualNetworkName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat(parameters('vmName'), '-vnet')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"nicName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat(parameters('vmName'), '-nic')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"subnetName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat(parameters('vmName'), '-subnet')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"diskname"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat(parameters('vmName'), '-disk')]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"addressPrefix"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"10.0.0.0/16"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"subnetPrefix"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"10.0.0.0/24"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"subnetRef"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceId('Microsoft.Network/virtualNetworks/subnets', variables('virtualNetworkName'), variables('subnetName'))]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>NajwaÅ¼niejsza sekcja odpowidajÄ…ca za wyÅ‚Ä…czenie maszyny to "type":"Microsoft.DevTestLab/schedules" w niej definiujemy strefÄ™ czasowÄ… wedÅ‚ug ktÃ³rej powinien byÄ‡ wyÅ‚Ä…czony serwer oraz godzinÄ™.</p>
<p>Link do wszystkich stref znajdziesz na gÃ³rze posta.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"apiVersion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"2016-05-15"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Microsoft.DevTestLab/schedules"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[concat('shutdown-computevm-', parameters('vmName'))]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"location"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[resourceGroup().location]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"dependsOn"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"[resourceId('Microsoft.Compute/virtualMachines/', parameters('vmName'))]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"status"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"Enabled"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"timeZoneId"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"W. Europe Standard Time"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"taskType"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"ComputeVmShutdownTask"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"notificationSettings"</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"status"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"Disabled"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"timeInMinutes"</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">35</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"targetResourceId"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"[resourceId('Microsoft.Compute/virtualMachines', parameters('vmName'))]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"dailyRecurrence"</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"time"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"1800"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Efekt widoczny w portalu:</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/capture_001_03092017_160447-fa5d61f71417740d1bb82288fdba9b2b.jpg" width="840" height="265" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/capture_002_03092017_160519-6298ce6a37f3940b351c6041824928a4.jpg" width="1060" height="503" class="img_ev3q"></p>
<p>Mam nadziÄ™jÄ™, Å¼e siÄ™ przyda :)</p>]]></content:encoded>
            <category>arm</category>
            <category>auto-shutdown</category>
            <category>azure-resource-manager</category>
            <category>deplyment</category>
        </item>
        <item>
            <title><![CDATA[Profil logowania do Azure]]></title>
            <link>https://blog.justcloud.pl/profil-logowania-do-azure</link>
            <guid>https://blog.justcloud.pl/profil-logowania-do-azure</guid>
            <pubDate>Fri, 18 Aug 2017 00:00:00 GMT</pubDate>
            <description><![CDATA[Pracujesz duÅ¼o w konsoli PowerShell? Nie chcesz logowaÄ‡Â siÄ™Â co chwilÄ™? Wykorzystaj plik z kontekstem, ktÃ³ry uÅ‚atwi Ci pracÄ™ z konsolÄ…!]]></description>
            <content:encoded><![CDATA[<p>SpotkaÅ‚em siÄ™ ostatnio z bardzo ciekawym feature'm zwiÄ…zanym z zapisaniem swojego profilu logowania do Azure. W skrÃ³cie opisujÄ…c jeÅ›li uÅ¼ywasz czÄ™sto PowerShella, a dodatkowo masz MFA zapewne wiesz jak denerwujÄ…ce jest ciÄ…gÅ‚e pytanie o login i hasÅ‚o.</p>
<p>KiedyÅ› pojawiÅ‚a siÄ™ opcja zwiÄ…zana z zapisaniem credential'i do pliku a nastÄ™pnie za pomocÄ… skryptu moÅ¼na byÅ‚o sobie zautomatyzowaÄ‡ proces logowania. Aczkolwiek przestaÅ‚o to dziaÅ‚aÄ‡ po wprowadzeniu ARM'a itd. Aby nie rozwodziÄ‡ siÄ™ nad tym przedstawiÄ™ Ci jak moÅ¼emy sobie uÅ‚atwiÄ‡ Å¼ycie i pracÄ™ ze skryptami, ale o tym pÃ³Åºniej. Na poczÄ…tku proszÄ™ CiÄ™ o wykonanie aktualizacji PowerShell Azure poniewaÅ¼ poniÅ¼sze polecenia sÄ… dostÄ™pne od wersji 3.8.0 oraz 4.2.0 w celu aktualizacji moÅ¼esz uÅ¼yÄ‡ Web Installer'a z linku poniÅ¼ej.</p>
<p><strong>Dokumentacja:</strong> Add-AzureRmAccount: <a href="https://docs.microsoft.com/en-us/powershell/module/azurerm.profile/add-azurermaccount?view=azurermps-3.8.0" target="_blank" rel="noopener noreferrer" class="">https://docs.microsoft.com/en-us/powershell/module/azurerm.profile/add-azurermaccount?view=azurermps-3.8.0</a> Save-AzureRmContext: <a href="https://docs.microsoft.com/en-us/powershell/module/azurerm.profile/save-azurermcontext?view=azurermps-3.8.0" target="_blank" rel="noopener noreferrer" class="">https://docs.microsoft.com/en-us/powershell/module/azurerm.profile/save-azurermcontext?view=azurermps-3.8.0</a> Import-AzureRmContext: <a href="https://docs.microsoft.com/en-us/powershell/module/azurerm.profile/import-azurermcontext?view=azurermps-4.2.0" target="_blank" rel="noopener noreferrer" class="">https://docs.microsoft.com/en-us/powershell/module/azurerm.profile/import-azurermcontext?view=azurermps-4.2.0</a> WebInstaller: <a href="https://www.microsoft.com/web/downloads/platform.aspx" target="_blank" rel="noopener noreferrer" class="">https://www.microsoft.com/web/downloads/platform.aspx</a></p>
<p>W moim przypadku mamy dwie subskrypcje i zapisujÄ…c swÃ³j profil mogÄ™ zdefiniowaÄ‡ jaka ma zostaÄ‡ wybrana subskrypcja w momencie kiedy bÄ™dÄ™ go importowaÅ‚ w dalszej czÄ™Å›ci. Na poczÄ…tku pobiore ID Subskrypcji w klasyczny sposÃ³b: otwieram okno PowerShella logujÄ™ siÄ™ uÅ¼ywajÄ…c <em>Login-AzureRmAccount</em>, a nastÄ™pnie wpisujÄ™ <em>Get-AzureRmSubscrpytion</em> i dostaje taki wynik:</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/loginazure1-3fe0cd6c04d1e158f1d20aa6e266b459.jpg" width="459" height="244" class="img_ev3q"></p>
<p>NastÄ™pnie mogÄ™ przejÅ›Ä‡ do wykonania polecenia, ktÃ³re mnie zaloguje, a pÃ³Åºniej umoÅ¼liwi mi zapisanie profilu:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Add-AzureRmAccount -SubscriptionId "yyyy-yyyy-yyyy-yyyy"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Wynik:</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/loginazure2-e20fe9f949caa707b688f621aa0d8566.jpg" width="650" height="190" class="img_ev3q"></p>
<p>NastÄ™pne polecenie - zapisanie profilu:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Save-AzureRmContext -Path C:\\temp\\progala-mas.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/loginazure3-c56c6350ce0457b03971d805cacb03bf.jpg" width="1133" height="294" class="img_ev3q"></p>
<p>W tym momencie zapisaÅ‚em swÃ³j profil z odwoÅ‚aniem do wczeÅ›niej wskazanej subskrypcji. Jako hint mogÄ™ powiedzieÄ‡, Å¼e moÅ¼emy uÅ¼yÄ‡ funkcji 2w1 jak poniÅ¼ej:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Save-AzureRmContext -Profile (Add-AzureRmAccount -SubscriptionId "yyyy-yyyy-yyyy-yyyy") -Path C:\\temp\\progala-mas.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Å»eby mÃ³c zaimportowaÄ‡ zapisany profil wystarczy uÅ¼yÄ‡ polecenia:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Import-AzureRmContext -Path C:\\temp\\progala-mas.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/loginazure4-71ea87c67de8a8095dbb574859bddca1.jpg" width="530" height="195" class="img_ev3q"></p>
<p>W taki sposÃ³b moÅ¼emy swÃ³j profil wywoÅ‚aÄ‡ gdy korzystamy z rÃ³znych skryptÃ³w itp. MoÅ¼e to byÄ‡ dla kogoÅ› maÅ‚o atrakcyjne aczkolwiek mogÄ™ zdradziÄ‡ do czego bardzo ta wiedza siÄ™ przydaje. MajÄ…c zagnieÅ¼dÅ¼one skrypty PowerShellowâ€™e, ktÃ³re wykonujÄ™ jako Job'y majÄ… one to do siebie, Å¼e wywoÅ‚ane skrypty w tle majÄ… problem z przejÄ™ciem sesji z poprzedniego okna gdyÅ¼ sesja nie jest dziedziczona. Gdy uÅ¼yjemy polecenia Import-AzureRmContex mamy "gwarancjÄ™", Å¼e wywoÅ‚ane okno w tle bÄ™dzie mogÅ‚o swobodnie korzystaÄ‡ z sesji Azure'owej.</p>]]></content:encoded>
            <category>azure</category>
            <category>azurermaccount</category>
            <category>azurermcontext</category>
            <category>import-azurermcontext</category>
            <category>powershell</category>
            <category>subscryption</category>
        </item>
        <item>
            <title><![CDATA[Visual Studio Code i Git zamiast PowerShell ISE - UPDATED]]></title>
            <link>https://blog.justcloud.pl/visual-studio-code-i-git-zamiast-powershell-ise</link>
            <guid>https://blog.justcloud.pl/visual-studio-code-i-git-zamiast-powershell-ise</guid>
            <pubDate>Wed, 02 Aug 2017 00:00:00 GMT</pubDate>
            <description><![CDATA[Wykorzystaj w peÅ‚ni Visual Studio Code oraz GIT! W tym artykule dowiesz siÄ™ jak skonfigurowaÄ‡Â swoje Å›rodowisko do pracy.]]></description>
            <content:encoded><![CDATA[<p>WiÄ™kszoÅ›Ä‡ z was zapewne widziaÅ‚a juÅ¼ Visual Studio Code taki Visual Studio w wersji "light". Program jest dostÄ™pny na platformy Windows, Linux, Mac moÅ¼na powiedzieÄ‡, Å¼e to dosyÄ‡ dziwne i takie nie Microsoft'owe a zarazem jest bardzo powaÅ¼ny krok w stronÄ™ DevOps'Ã³w.</p>
<p>JeÅ›li uÅ¼ywaÅ‚eÅ› wczeÅ›niej rÃ³Å¼nych edytorÃ³w tekstowych to pewnie miaÅ‚eÅ› bÄ…dÅº nadal uÅ¼ywasz programu Sublime Text. MyÅ›lÄ™, Å¼e jak uÅ¼yje okreÅ›lenia odpowiednik to zapewne juÅ¼ wiesz o czym tutaj piszÄ™.</p>
<p>Czym jest Visual Studio Code? Jest to edytor tekstowy z moÅ¼liwoÅ›ciÄ… zainstalowania rÃ³Å¼nych moduÅ‚Ã³w. Z defaultu program ma kontrolÄ™ wersji (wymagana instalacja Git'a) i debug. PonoÄ‡ w niedalekiej przyszÅ‚oÅ›ci VSC ma zastÄ…piÄ‡ PowerShell ISE dlatego przejdÅºmy do konfiguracji, aby mÃ³c z niego korzystaÄ‡.</p>
<p>Do Å›ciÄ…gniÄ™cia z:&nbsp;<a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer" class="">https://code.visualstudio.com/</a></p>
<p>Instruktarz video:&nbsp;<a href="https://channel9.msdn.com/Blogs/MVP-Azure/Transitioning-from-PowerShell-ISE-to-VS-Code" target="_blank" rel="noopener noreferrer" class="">https://channel9.msdn.com/Blogs/MVP-Azure/Transitioning-from-PowerShell-ISE-to-VS-Code</a></p>
<p>Instalacja bardzo prosta: "next/next/next"</p>
<p>Aby korzystaÄ‡ z comand line'u PowerShella naleÅ¼y doinstalowaÄ‡ moduÅ‚:&nbsp;<a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.PowerShell" target="_blank" rel="noopener noreferrer" class="">https://marketplace.visualstudio.com/items?itemName=ms-vscode.PowerShell</a></p>
<p>W VSC naciskamy Ctrl +P i wklejamy:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ext install PowerShell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/capture_016_02082017_195824-317b225cdbb911d0cf729293749fa4b8.jpg" width="1147" height="709" class="img_ev3q"></p>
<p>Restartujemy VSC i klikamy New file, Å¼eby nasz plik byÅ‚ uÅ¼ywany jako skrypt PowerShellâ€™owy moÅ¼emy go zapisaÄ‡ jako .ps1 lub wybraÄ‡ w dolny prawym rogu "Plain Text" i wpisaÄ‡ powershell. Dopiero teraz moÅ¼emy uÅ¼ywaÄ‡ obszaru roboczego jak w dotychczasowym PowerShell ISE i dziaÅ‚ajÄ… skrÃ³ty F5 i F8 do wykonywania poleceÅ„. JeÅ›li jakimÅ› cudem nie widzisz okna Terminal moÅ¼esz je wÅ‚Ä…czyÄ‡ View &gt; Integrated Terminal.</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/capture_015_02082017_195549-6aa01bac3eae55f7cfe4261a801cf30e.jpg" width="841" height="582" class="img_ev3q"></p>
<p>PrzykÅ‚ad z "Get-Service" + F8</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/capture_017_02082017_200027-0090502f04a1663589750a94f687bd42.jpg" width="1048" height="708" class="img_ev3q"></p>
<p>Chcesz uÅ¼ywaÄ‡ Git'a? PoniÅ¼ej przedstawiÄ™ jednÄ… z szybkich opcji jak sobie poradziÄ‡ z uÅ¼ywaniem Git'a z poziomu Visual Studio Code - tutaj tylko dodam, Å¼e nie jest to jedyna opcja i zaleÅ¼y to oczywiÅ›cie od umiejÄ™tnoÅ›ci pracy z Git'em. Aby szybko sobie skonfigurowaÄ‡ Å›rodowisko do pracy z Git'em Å›ciÄ…gamy instalkÄ™ z: <a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer" class="">https://git-scm.com/downloads</a></p>
<p>InstalacjÄ™ przeprowadzamy z default'owymi ustawieniami. NastÄ™pnie restartujemy VSC i klikamy File &gt; Open Folder - teraz otwÃ³rz lokalizacje, gdzie bÄ™dziesz chciaÅ‚ sklonowaÄ‡ swoje repozytorium. W moim przykÅ‚adzie utworzyÅ‚em sobie folder Git w Documents (C:\Users\Admin\Documents\Git). Przechodzimy do okna Terminala, jeÅ›li nie jest on u Ciebie widoczny to moÅ¼esz wybraÄ‡ View &gt; Integrated Terminal, aby go wyÅ›wietliÄ‡. W polu terminala wpisujemy:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone link_do_projektu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/capture_002_18022018_231506-bebf2131707a9dce12103985d3079cbd.jpg" width="716" height="153" class="img_ev3q"></p>
<p>JeÅ›li nie wiesz, gdzie jest ten link, poniÅ¼szy screen powinien to wyjaÅ›niÄ‡. Na stronie&nbsp;<a href="https://your-project-name.visualstudio.com/" target="_blank" rel="noopener noreferrer" class="">https://your-project-name.visualstudio.com</a> jest moÅ¼liwoÅ›Ä‡ sprawdzenia dokÅ‚adnie adresu repozytorium klikajÄ…c po prawej stronie na gÃ³rze "Clone"</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/capture_001_18022018_231008-0522ff828b920bfa41d599483e3a8bb9.jpg" width="434" height="466" class="img_ev3q"></p>
<p>Po klikniÄ™ciu enter wyskoczy okno do zalogowania siÄ™ a pÃ³Åºniej rozpocznie siÄ™ klonowania do wskazanej lokalizacji. Po zakoÅ„czeniu klonowania nasza konfiguracja dobiegÅ‚a koÅ„ca. Teraz moÅ¼emy wrzuciÄ‡ do folderu jakiÅ› skrypt a nastÄ™pnie zauwaÅ¼ymy go w VSC na ikonie gaÅ‚Ä™zi w celu wysÅ‚ania go do naszego repozytorium jak na poniÅ¼szym screenie. JeÅ›li mamy plik, ktÃ³ry zostaÅ‚ utworzony lub z edytowany naleÅ¼y go za commitowac dodajÄ…c opis zmiany i kliknÄ…Ä‡ ptaszek. Po zatwierdzeniu na dole naleÅ¼y zrobiÄ‡ synchronizacje. Trzeba pamiÄ™taÄ‡, aby zawsze przed commitem wykonaÄ‡ synchronizacje, aby mieÄ‡ pewnoÅ›Ä‡ Å¼e pracujemy zawsze na najnowszych plikach z repozytorium.</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/capture_010_01082017_205024-86512d1ade1c7598e6d3f4bf21377af0.jpg" width="444" height="310" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAzAL8DASIAAhEBAxEB/8QAHAAAAgIDAQEAAAAAAAAAAAAAAAYBBQMEBwII/8QAQhAAAQIEAwQGBwQJBAMAAAAAAQIDAAQFEQYSIRMxQVEHFBdVYaQiMoGRodLTFUJx0RYjJDNSVHKSlDRDRJOxwfH/xAAaAQABBQEAAAAAAAAAAAAAAAAAAQIDBAUG/8QANxEAAQMCAgYHBgYDAAAAAAAAAQACAwQRBRITFCExUdEGFVRhcZGSIjJBUmKBFmNyobHhQpPB/9oADAMBAAIRAxEAPwDjA0FhuvePUefaIPaIdlSZkRIiPaIn2iDKlzKuc/eKjzHp0jaL1G+BhAdfbbzAZ1BN+VzCEWFynMBkcGN3nYvMQdx14RfPy9LlVJbf0XlvqVa+OkYwaNuuNf64o64HN9ljiPBdOejT4H5JKmFrhvBfYj7WXS8KzAZk6VMKPotlCiBvIFo7SrFOF8QMty9UCUlPqiYTaxPIx8xS+IkSkullmaytIFgnZk218RG3L4hcmDkanWiT91WRJ+IjLDponOsw5TxC3n4XSzxtaamMObweF9QMMYOobTLwXKld87d1Z1X4WhW6RcTS9dRLolEOpDClFRcTlvcRxV2tVGSaBdnGmkEaFRbivcxg4bpVP3B32bFveBCSPmkGVjLA77BMhwWlgkEslVGSN13hVOPF5q+ofwthJhdhhnZunTr6n5pzO6si59IfARr3o3Me9caME5jYGujd5LHqsCE0rnirhsfzP6VNBccSE+Ji5vRuY964M1GH3re1cTa3+W7yVb8ON7XD/s/pU1j62VWW1gQLXvAkaAAiw8D7ofZ2UmJyQYZmWg5LpaDzaQEg5NwOmvGMM5LzTtOTRGghIDqMqTbQ3tqeO+AVgzBrmOFzbaEP6NvET5Ip4n5AXENfc2G82skgWvwSTwUb6fnBYgWN/aLQzqw0yVzbUlUy/OSdlOM7PKBrrY8bRd4kozNXqTSETuxm0yaXG2dl6KgE3N1cDF3KuczNXPf/ALEWhpkMJmck1OofmUrSyXTdgbPQagKvf4R6l8KMuNU7a1MtvTySppsM31HAm8Fkl2pV5+O+IUnMDyJ1POGn9FEvMrVIVBMw428GHUlvKlCvx4x7qODn5SVddl3nHHGlhCkOICAq/EG5uILIu1XXUJQ7pZn+2J+z5b+VZ/ti4o9FqVW2gpsmuY2RRtMlgEA7rkmN1/CuIGmJh1+kTQZYKtqdPQA32F93iI7ginb72UeS4AOqXbWk2+6Weoyt7dWZv/TB1CV/lmefqwxS+GqvNSIm5aQcelAjaKyLRqkb/Rvf4QN4arL8imdYp76pRYzBaShIUN1wCbmEcaUcP2QHVDrWLv3S0aZJZtZRnUX9WPLlNlG2y4mUZSQCUkJ1Bh2ruC6nS5mUZQy8/wBZQjLcJBLhFygAE7uJinq9Aq0g3lm5B1srbWoXWlQypSVKNwbCw4XivO+ldC8ttuPDgr2HaxrkNyfebx4hL0tJS0ygqfYbcWDYFQubRl+y5G3+jl/ai8ZKckiWzqsGyspBJ42HC8bBuE2VobfCIMCgjdQROIF7cFq9NZpW49VAOPvce4LSNMkQcvU2Bx/dxP2ZImw6pL77W3RfYcpa63WpWntKKC+uxVa5CQLk+6Hg1DCFLqiaK1RpaZl0L2czPTayCCN5TYGLU7oo3ZQzMe4BYUDpXguMmUeJXKRTafa/U2LXy7uMejSpK+knL34+heHXHcvh+Wm5D9GJjaS2xyLUCoknMT6xGsZsH02g1mak6W5JTHXlsrcenA+oJQsXKTktYjdvhuki0YkybPAJzzNnyB5P3SEmlyBOklL8tW4lVJkR/wANjl6sX7dMC6HUp/bKzyj6GkItcEKWUk356RnwhS2KxV1In1rEkyw4+8UGyilAuU34XiYmANLiBs7lBmnLgMx296V/syR0/Y2P7YkUyQvrJsWtfROsPNQo1KnaDI1elJVTJdyaMm+madK0gg6Kzb7c4rMU0Vmh1QysvOszqAN6E5Sg8lCGQvglNso8k+Vs8YLi42HeqVACVNlBsptGRKgNyeQjSJP2qVWAVmze2143Qq3MeIjewfRkV/HMlTHFltt9SsxRvslsqNvEgfGMzpBHHEyndYWErf8Aq6/oRJJI6vaSbmml+P6VWtNMtPOutIQ245o4b+koHnGQCz4e/wB8AtBzknl7uEdoD2DpaSepxw3eqtO9WRIrbu+7fTNm4i1zeEDH+GDhmsNsNKV1OZb2jG09ZA4oUeNt14uU9TBM/Jktw2BcvPBPCzPnvx2pWXZTgcsSu2RKuITxHgI8ZU5miEjM1o2f4RyEONKpdGlsPU2oVlh+adqM1sW0NPFoNJBylWm/WKfFdLFDxDPU9Dm0DKgW1n1ilQuBfjFiN0D35A0eQVdxna3OXHzVSyBLrcLA2alK2iraZjzjB1KVS8XlSzZeV6Slg6m/jDp0dURmo1h+cn2s9NpzKpqYBR64SPUA3cPbEdIlCRRq23MSLZap1QaTMy33cgULlJ8fCG6SDT6DKL+AT9HPotNmNvErToVRYlcMYjlXHw1NTRl9kjXM6Ek5vDlDVI4lkRi6WmZqpXlWqKJYOLuQHSDmTbmdI5qSnLbaNf8Aan84LpJOZxk33jaJ/OCSlhkJJdtKGSzssA3curYUrGGKTKyK2pumSyzLLRNlxkqmS4QdM1tE/hC+mepk5hNDGIpqmvzEpLnqIlysTTKuDahbKoc9YSgtNrKcbVy/Wp0+MRnTawca3De4k6898Q6hD8Xfwpdan2WZuXTZDENHl8SUuqrqEsptUiiUcTkUVy7gQQVKBFin8Ipq1WFmSMs5VqLNyIbmlJap8qWcq1MrSlStOOb3wl5kne40Ta1y6k/+48PuBTLgLrZGUmwdTvt+PwiGehhETyHfA8OCuYdUzmriBb/k3+Qten/uiRvzH/xG0nThp4C8aUm+hpohSrG990ZxNsjcog8CAdIhwXEaOKhiY+VoIG4kLf6X9H8VqcbqZoaWRzS7YQxxB8CAr7CTqGsS05brrrbYcCNq05s1Ivpv5Q9VzAdOnptt7DNTkW5RRVtVzEwVLz5jmsDvjk5m2Te6t5v6pjz1iWNr5Tbmm8TT1lG94fHUNB/UOaxoej+MNYWPopCD9DuSfcf1WRclKVRaO51iVpaVIL9rFTh9a3hGVh+Rl8PS8lRq5SJF6Yb/AG52YLgeUb+oCE2CY5+mbYSbhSr87GJM61a2YkciDCaxQiMMFQ3fc+0OaDgWNF+Y0Um63uO5JxlHqMjBVUkZiffE446ghhpoELUgkgoPFPMnWNfBVSlZKruJqjmykZmXcl3Xk65QoaEwqCcbBHpaDcLbonrjY3KN+Gm6JdboCHNM7dv1N5qIdHcZBBFFJs+h/JOdZm5CQwlK0OQqDNQWqb65MTDIIQgX9EC+t4rsXzrM9iObmZR0PMqtZadx0G6F4TrYFgbC9xodDxMR1tr+PQabjCQVWHxG+nb6hzUkuA45I0s1OSx+h3JZ9dSYssDVdihY+p9Rm8xl2SoLKRqApopuB4Xv7IphNtD759xjA24lVSC0qCU3vcm1tPGM/HKylqxBFFIHEyN3EHZtHwXTdEcIxHDtemqoHsbq8oBc0gX9k2uRv2Fd/ew9Izyl144obVVVPB1idCglKEDcjJ/TeOfdJ2JWMRVxCpRe2lZNotIeAyl0k3UoDhqNByhPOzvopkfg4n84krF9FtWG79anT46xp01EyJ+dz723LiJ53ysyNYRfaU5Ut6kz2GaNKVCps06ap0wVkOpJDrSlZiE2B14RS4uqjVaxLPT7KShhyyW76eigWHvtFMFpBNltC5vo6n84gqQb3W0bm5/WJ1PvizHTxRvzh39Ku50z25C1d9wJTadJdHL7Dcyy9Mz0q4pwIWkKUpSSAkAkWPDXS8ZMdUum1nBcpKrnZeVmJNtnZrccSchsEkKAPLT8Y+fVBlWYq2RKvWO1Tr8d3hEANpczgslZ3kuJN/jFDq46bSmTbvWjrxEWiEexdx7Fej/uDzsx9SDsV6P+4POzH1IIIw87uK6OwR2K9H/cHnZj6kHYr0f9wedmPqQQQZ3cUWCjsV6P+4POzH1InsV6P+4POzH1IIIZpH8SiwVl2YYQ7o8y988HZhhDujzL3zwQRV1WH5B5BanXeJdof63c0dmGEO6PMvfPB2YYQ7o8y988EESarB8g8gjrvEu0P9buaOzDCHdHmXvng7MMId0eZe+eCCDVYPkHkEdd4l2h/rdzR2YYQ7o8y988R2Y4Q7o8y988EER6rD8g8gjrvEu0P9buanswwh3R5l754OzDCHdHmXvnggiTVYPkHkEdd4l2h/rdzR2YYQ7o8y988YpnopwZMsqaeo2ZtVrjrTw434LgghW00LSHNYAR3BNkxevkaWPneQdhBc6xHA7VpdivR/3B52Y+pB2K9H/cHnZj6kEEWc7uKzbBHYr0f9wedmPqRHYtgDuDzsx9SCCI9I/iUWCnsXwB3Cf82Y+pB2L4A7hP+bMfUggg0j+JTbBf/9k=" width="191" height="51" class="img_ev3q"></p>]]></content:encoded>
            <category>microsoft</category>
            <category>powershell</category>
            <category>powershell-ise</category>
            <category>sublime</category>
            <category>visual-studio</category>
            <category>visual-studio-code</category>
        </item>
        <item>
            <title><![CDATA[Grupa specjalistÃ³w CloudPoland na Slack'u]]></title>
            <link>https://blog.justcloud.pl/grupa-specjalistow-cloudpoland-na-slacku</link>
            <guid>https://blog.justcloud.pl/grupa-specjalistow-cloudpoland-na-slacku</guid>
            <pubDate>Sun, 30 Jul 2017 00:00:00 GMT</pubDate>
            <description><![CDATA[Grupa specjalistÃ³w CloudPoland na Slack'u]]></description>
            <content:encoded><![CDATA[<p>ChciaÅ‚em zaprosiÄ‡ wszystkich miÅ‚oÅ›nikÃ³w chmur, devops, automatyzacji doÅ‚Ä…czenia do grupy CloudPoland na #slacku. Grupa zostaÅ‚a stworzona z myÅ›lÄ… o wszystkich tych, ktÃ³rzy chcÄ… siÄ™ udzielaÄ‡ i pomagaÄ‡ sobie w rÃ³Å¼nych problemach.</p>
<p>Grupa dotyczy wielu dostawcÃ³w chmur przez co jest to kanaÅ‚ ogÃ³lny o chmurach gdzie mamy podziaÅ‚ na grupy #aws, #azure, #gcp dziÄ™ki czemu moÅ¼emy porozmawiaÄ‡ z wieloma specjalistami na rÃ³Å¼ne tematy. ZachÄ™cam do korzystania, wymiany wiedzy, dzielenia siÄ™ problemami i nowoÅ›ciami technicznymi.</p>
<p>Dlaczego #slack? PoniewaÅ¼ jest to neutralne miejsce gdzie nie trzeba mieÄ‡ kont typu Facebook, Gmail, aby siÄ™ zalogowaÄ‡ ponad to jest aplikacja mobilna, ktÃ³ra uÅ‚atwia komunikacjÄ™ z rÃ³Å¼nych urzÄ…dzeÅ„. CzÄ™sto dostajÄ™ pytania takie jak: Po co slack jeÅ›li jest grupa na Facebookâ€™u? Spotykam siÄ™ osobiÅ›cie z wieloma specjalistami IT, ktÃ³rzy naturalnie nie majÄ… konta na Facebookâ€™u co za czym idzie, Å¼e oni automatycznie z tego nie korzystajÄ…. Natomiast fajnie byÅ‚oby zwiÄ™kszaÄ‡ zasiÄ™g naszej dziaÅ‚alnoÅ›ci poniewaÅ¼ mamy naprawdÄ™ wielu doskonaÅ‚ych specjalistÃ³w w rÃ³Å¼nych dziedzinach IT, ale brakuje nam kanaÅ‚u komunikacyjnego. Czasami bywa teÅ¼ tak, Å¼e ludzie nie chcÄ… siÄ™ udzielaÄ‡ na Facebookâ€™u poniewaÅ¼ jest to widziane przez wielkÄ… rzeszÄ™ innych odbiorcÃ³w nie bÄ™dÄ…cych w temacie.</p>
<p>Na grupie znajdziesz takie dziaÅ‚y jak:</p>
<ul>
<li class="">cloud-aws</li>
<li class="">cloud-azure</li>
<li class="">cloud-gcp</li>
<li class="">cloud-onpromise</li>
<li class="">devops</li>
<li class="">events</li>
<li class="">job-offers</li>
</ul>
<p>Grupy z dopiskiem cloud dotyczÄ… stricte konkretnych dostawcÃ³w jak: AWS (Amazon Web Services), Azure (Microsoft Azure), GCP (Google Cloud Platform), On Promise (Wasze prywatne chmury). DevOps ma na celu wymiany wiedzy na tematy devopsâ€™owe linux/windows, Events dzielania siÄ™ informacjami na temat Meet-upÃ³w czy konferencji oraz Job Offers czyli aktualne oferty pracy.</p>
<p>Adres do zaproszenia na grupÄ™ CloudPoland na slackâ€™u:</p>
<p><strong>Adres do zaproszenia na grupÄ™ CloudPoland na slack'u:</strong></p>
<p><a href="https://cloudpoland.azurewebsites.net/" target="_blank" rel="noopener noreferrer" class="">https://cloudpoland.azurewebsites.net</a></p>
<p><strong>Adres grupy na slack'u:</strong></p>
<p><a href="https://cloudpoland.slack.com/" target="_blank" rel="noopener noreferrer" class="">https://cloudpoland.slack.com</a></p>
<p><a href="https://cloudpoland.azurewebsites.net/" target="_blank" rel="noopener noreferrer" class=""><img decoding="async" loading="lazy" src="https://cdn.worldvectorlogo.com/logos/slack.svg" alt="Image result for slack logo" class="img_ev3q"></a></p>]]></content:encoded>
            <category>channel</category>
            <category>cloud</category>
            <category>cloudpoland</category>
            <category>slack</category>
        </item>
        <item>
            <title><![CDATA[Tworzenie szablonu ARM - Visual Studio 2017]]></title>
            <link>https://blog.justcloud.pl/tworzenie-szablonu-arm-visual-studio-2017</link>
            <guid>https://blog.justcloud.pl/tworzenie-szablonu-arm-visual-studio-2017</guid>
            <pubDate>Sun, 02 Apr 2017 00:00:00 GMT</pubDate>
            <description><![CDATA[Jak tworzyÄ‡ wdroÅ¼yÄ‡]]></description>
            <content:encoded><![CDATA[<p>Ten wpis jest przeznaczony dla osÃ³b&nbsp;chcÄ…cych&nbsp;nauczyÄ‡ siÄ™ tworzenia szablonÃ³w ARM'owych do deploy'owania w Azure. Visual Studio ma tylko nam pomÃ³c w pracy z szablonem natomiast moim zdaniem przydaje siÄ™ na poczÄ…tku pracy z ARM oraz przy rozbudowanych szablonach. Po pierwsze podczas edycji plikÃ³w .json w VS zobaczymy strukturÄ™ caÅ‚ego szablonu co pomoÅ¼e nam zrozumieÄ‡ co potrzebujemy, Å¼eby dziaÅ‚aÅ‚ poprawnie. Po drugie gdy mamy bardzo duÅ¼e szablony VS pomaga nam odnaleÅºÄ‡ siÄ™ w nim poprzez JSON Outline, w ktÃ³rym w wygodny sposÃ³b moÅ¼emy sprawdziÄ‡ wszystkie&nbsp;elementy: parameters, variables, resources.</p>
<p>Cel: StworzyÄ‡ czysty szablon ARM z wykorzystaniem Visual Studio 2017.</p>
<p>Do realizacji celu potrzebujemy:</p>
<ul>
<li class="">Visual Studio 2017 Community <strong>(FREE)</strong>:&nbsp;<a href="https://www.visualstudio.com/thank-you-downloading-visual-studio/?sku=Community&amp;rel=15" target="_blank" rel="noopener noreferrer" class="">https://www.visualstudio.com/thank-you-downloading-visual-studio/?sku=Community&amp;rel=15</a></li>
<li class="">Uwaga: podczas instalacji naleÅ¼y dodaÄ‡ moduÅ‚: <strong>"Azure development"</strong></li>
</ul>
<p>Utworzenie projektu nie jest niczym nadzwyczajnym poza wybraniem odpowiedniego template'a. Aby utworzyÄ‡ projekt zwiÄ…zany z szablonem ARM naleÅ¼y wybraÄ‡ z grupy Cloud: Azure Resource Group.</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/Screenshot-from-2017-04-02-00-06-17-bcec954697908c8253d60648d4044cfb.png" width="942" height="654" class="img_ev3q"></p>
<p>NastÄ™pnie wybieramy template: Blank, ktÃ³ry utworzy nam czysty szablon ARM.</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/Screenshot-from-2017-04-02-00-07-52-d9a440b98d04e16bb9a5f2e1636169d9.png" width="787" height="594" class="img_ev3q"></p>
<p>Gdy szablon siÄ™ utworzy w prawej czÄ™Å›ci zobaczymy pliki *.json oraz *.ps1. Plik azuredeploy.json jest gÅ‚Ã³wnym plikiem zwiÄ…zanym z tworzeniem zasobÃ³w w resouce group'ie, azuredeplyment.parameters.json jest plikiem definiujÄ…cym parametry potrzebne do wykonania gÅ‚Ã³wnego pliku azuredeploy. Plik Deploy-AzureResourceGroup.ps1 odpowiada za sprawdzenie czy Resource Group'a jest utworzona&nbsp;i ewentualne utworzenie jej przed wykonaniem deploymentu,&nbsp;a koÅ„cu&nbsp;zdeploy'owanie projektu.</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/Screenshot-from-2017-04-02-00-09-02-86de1e7464760f2bd0db14caae9c0702.png" width="354" height="214" class="img_ev3q"></p>
<p>Plik azuredeploy.json jest zbudowany z 4 sekcji: parameters, variables, resources, output. Sekcja parameters zwiÄ…zana jest z zdefiniowaniem parametrÃ³w, ktÃ³re majÄ… byÄ‡ uÅ¼yte w dalszej czÄ™Å›ci projektu. Sekcja variables to zmienne gdzie definiujemy na "sztywno", ktÃ³re sÄ… wykorzystywane w sekcji resources. Sekcja resources jest najwaÅ¼niejsza poniewaÅ¼ w niej definiujemy wszystkie zasoby, ktÃ³re majÄ… zostaÄ‡ utworzone w czasie deploy'mentu. Sekcja output nie jest wymagana natomiast w niej moÅ¼emy zdefiniowaÄ‡ jakie dane wyÅ›wietliÄ‡, ktÃ³re zobaczymy po utworzeniu deploy'mentu np. IP serwera, nazwa serwera, itp.</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/Screenshot-from-2017-04-02-00-09-23-cedd2bca0aefd25c8f8b5d22305e59dd.png" width="796" height="213" class="img_ev3q"></p>
<p>Plik azuredeploy.parameters.json jest plikiem ze zmiennymi w celu modyfikacji parametrÃ³w gÅ‚Ã³wnego pliku z szablonem(azuredeploy.json). Tak naprawdÄ™ nie musimy z niego korzystaÄ‡ moÅ¼emy tworzyÄ‡ projekt w oparciu o zdefiniowane parametry w pliku z deploy'mentem. JeÅ›li chcemy tworzyÄ‡ projekt, ktÃ³ry bÄ™dzie wykonywany czÄ™sto z VS moÅ¼emy skupiÄ‡ siÄ™ na tworzeniu tego pliku, aby mÃ³c w estetyczny sposÃ³b edytowaÄ‡ parametry podczas deploy'mentu. DokÅ‚adnie zostanie to opisane w kolejnym wpisie na blogu.</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/Screenshot-from-2017-04-02-00-12-21-290f8c13c8083f2871612e23eb022c8f.png" width="806" height="163" class="img_ev3q"></p>
<p>Po lewej stronie mamy zasoby szablonu w wizualnej formie. MoÅ¼emy rÃ³wnieÅ¼ dodawaÄ‡ nowe zasoby lub je usuwaÄ‡ za poÅ›rednictwem widocznych dwÃ³ch ikonek z plusem i&nbsp;z&nbsp;x'ksem.</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALMAAACYCAIAAAAgHU9RAAAAA3NCSVQICAjb4U/gAAAAGXRFWHRTb2Z0d2FyZQBnbm9tZS1zY3JlZW5zaG907wO/PgAAFelJREFUeJztnXlUVFeex3+3VpYCAdkKLSANJ2BnM6HAaDR0nBhPhBgTIOkTAcUeW9M9Qo70nMnoJAQ9ZOlWW8g5nagTVMD0RJYmCmZobZ1qEFssTNLJTKgE0sVaoCCLUFDrnT9eURRwawFfYQH3c/jj1V2Lqm/97n3vfd+96JFHVgKFMg2en1/g/X4PlPvAnTu3pqR888J/Wr7kEQtRFjaOhAPOHLwPynyEKoNChiqDQoYqg0KGd7/fAMUqdXUyy5dr18bPZe+EmIHx6qzTeSmhGADwmj3FxaeKi0+dPr1nDcamAuOJxcWn3k+RWNQqPJ21mtjOpPZJ1e1ibg2HJr9PanZBsnZtvCOCyMraU1cnS0lJtkxMSUmuq5NlZe2ZXde2YgYOTf5gF3yUuq0eIRya/MpTAPWA1+wp2hV8bv+20jaEseSVD3Lfh5w3S9sBAEClEu/MWlOfX4+stmmr+rTCePUbRYldb+0rbZtoELWVvbmtDMBqF4uQ/PwPAYARQWlpGQCkpCRnZe0pLS1jsmaBzXnGcrFYpeoAAADUVlZajzCWvLL58ZvHTF8VQu1n/3ABEreYw0njuQvizSmhmPyDtlt9LhGLQ5x6bAnzm57yN+tfM5H8/A9LS8uysvakpCTfuyzAjjKuym+KN/3qldCJlLBVMeIvb1y1KNN6vVEVvCxs/GVH6TnV5CqWWK8+aQgzHa9+o2inlLNsc95p4iBlOkjZM3VcC01+/3ThlBFwOipVl1OPLWG+NsuUe/zabPSSlbXn3mUBtpWB0LWj6TmNMbnFxaey1ox/xONRxAJxyPKJF1ePnlAl7rY6D7BX3YL6o+kn5MbOc/u3bcu/ZuU9ihND5Glp21M/ahQnblmDMcar3zj4eONbGWlp29OPwWZrGjXXd3K0MGMpDmfIgqGrSzXlYNbYOTdBqL30zR1nQ5M/OHgyCzKOdgCIxcsB2iaVUnV1WFa5dvSYtOilNWePklq0V32GqKr+VA+A4Kr85q7EZWEAsEwMYmne6c0AAGCUywHIkxhTfSdHC0vManBEFsyJieXpSV2dzPZs1DyIwOQ5x2wIDnHorBW1lf2h6vGDsWvg6vVGVW7sU1BfP54XtipG3H2udXKFq5VVm3PfeOrE1IZaHat+r3z5UWpBPbIzRRWLQ8xfpzOOiTgeKswisCsIhulzi3sSh9iNNJo8JX1C9eX1VsBrkscHfsmqGLGqqwOh9rPnvnxiVyYzfmO8+o2Dm6CqcsrXwEwtxbt2PjG5YZvVO7pU48PKU9IpFWdAa6cKHrc7iMDczjOczXRZWE5IZ9Piza5JMQPj1W8U7XwCVFVvFbQhBFc7Q4pOFnM4AGCUH9tW2g4AqP7DdNhTUnL6dQAAkH+07U3SOaopzCROS7dSnRFNyeuni18Ho7zxJlMYXbtxc+freacT5cfSiWPT9H7RtaNvLfvgYG7x5vG3bXWOsnAoLS2bHhvy8z+c/WwGjaH4+OfoXXhXxsHRZEb4+QXa9WfQ+yauzhxfFDdDlUEhQ5VBIUOVQSFD78JTTMRf3Yex3vySxgwKGaoMChmqDAoZqgwKGaoMCpm5OTfBFuY8S98Gdey5LvZjxvYzr20/8xrP22N2HQQHB/n7+wMAAEYI+fr68vl8AERl4eLMeDThcnkPP/xTLtfBYINHR0c9PDxEIk8ulxsUFDg6OqrX6z09Z6kzypxh6wvefuY183HqR1sA4NTWTw8ezPH39+/t7T1//vy1aw322keDg0MYY19fXx8fn4GBAR6PJxaL+Xy+Tqfr6+u7e/cuxpjGDxdkxjGDGRr8/f0zMjJycv7jsccesVcDa7VaAOBwOFqt1tPTk8/nAwCfzw8ODg4LC/Py8po8+aC4BNzw8IjR0RFi3reXWv5e3fRoYjQAnPlN5dd/+g5r9C+8MOHG8fb2XrnysZ6ebpWq20r72NPTMyAgYHh4eGRkxM/P79atWx4eHjyeKVZxuVyRSKTX6zUaDY0cc4a7u+f0L93d3RPAaH5pazTRD6nNx3gEXk3cvHbt2olcvb6uru7ixcurVkkBviK24O3t7ePjo1arh4eHDQaDwWBYunRpV1dXaGgoj8fDGA8NDfX393t5ec3m/6M4E1sxg+Grim++qvjGqNH5+vqUl1d6erqHhIQ0NDScOFEoEPB27Nj+2GOPnT9fTaqKAwMDNRpNX19fWFiYj4+PVqsdGRlxd3cfGBhACHV3dyOEgoODRSJRX18fjRlzxr3GDDPHj3/EHHR3d1dWVn766WcrVjz461/vDg4Otl2xs7MTY4wxZoaPoKCg4eHh27dv63S63t7e5cuXCwSCGfxDlDlkZjPQ4ODg3bt3I4R277YvCwBkNOIpD4mJRKIHHngAAH7yk59QWbgys7k6PvXbpixEHFKGwWCYdS6DbTFRqbkgDikjL+89pVJJzFIqlXl579lrALW1tY2NjRHzxsbG2tra6PTT1XBoBtrR0fnee7999tlnXnzxRfPkQKvVfv7555cuXXHkF6/RaNva2nx9fZcuXcrhmORoNBr7+vr6+/upLFwQR++1YowvXrx88+bX6elbAeC7774rKjrT19c3k75Qf3//8PBwUFAQAKjV6p6eHp1OR2XhmtyXZ9TMMYZq4v5AfEbNzy9weHjip35fvONUEPMA6umikKHKoJChyqCQocqgkOEBwNiY2m45ymKDxgwKGaoMChmqDAoZqgwKGaoMChknKsPNP0T6+/Mxhyq5HiLn9UJxEiwrgyNw43mYjOA+j64GAMTl+q1cx6QIfAO57p7s9khxEmzeUeMI3B7cneuxLOJ2/QXd3cGg+C1Meshzr3L4QqG/OGD1c+qOlu8/fttAr6C4PGzGDK6bm8fyCI5AGPSzl5a/sJ3v7cOk85cslWz5ReDaTYjLcwsORZyFea81KrOs4XACAOCEQ3L5Dbn8RnlmFAAkHL7OHMwv2FSGbmjgdv0Xtsv01n+hV9t6vGXuwTjhcENZZtQ9eVFxVOa78X9N21uFccKRHMiJkcbEvKNMzcuMwlV702XxeffY/tzD8jxD0zuxrYbmzu3OCyWdF0o0d26bE3XDQ+z26CJEb3waZDUKhCDxmXW1V6oRQqj6eAnEb4xGSJFfqEz95bQ12F0b1pTB9RD5P7kxeH0S81Jz5/a3eTtVFz9TXfzs27ydZnEExW8JXp/k5k/YJ8b0203ILG+4bg7FAJBw+DoTnE2xGiccbig7fLisoeFQAsbEXHMjhxNwVGaZZWwHABxlym1oOJSAE47ceDueE5Z+Rm5qYVIuntxdVGa5qbvDCdjinUdtjAdZTRMAREeEt7c2M+lNLUpJWCQAQHNbe3hE1LyyyLOmjJUHSsJf/ReBr2nD8d6/1WCj6WkDbDT0/q2GOeZ7+yx/YfvD+49ZaUaSugP2xcbFbC2GVFMErs5eJZXGxsS8U7suYzwmS8Jb98fF/aYaIWKuqZEcWXyu/F3YL5XGxuTIJKk7mW/6SPHTsrQ4qTQ2Nhd2ZDXvjT0gM7YWbZXGZVdPy4227K4qcWeq8oBUGiuVxmZXW86WIsMkypYm659OU4tSEho5u0/2PsHauQnich0vjK0+otJesi9fgRBSFBTWbl0fCaAAnHCoMTceAIzG1vEtctplNU2Ma5CYyzQCVVdkOeGtTMmqK7U5GRHRABARDpL4M/J0AAAwyq5M6j+amDveXXNbe87b5ZnNSQUKx/9ZAABobm3PiIgGmGm9+wdryvg2b5fPo6uD4rcwpyT+T27s/ksZEzYQh+v/5EammG6wr+vPn935qtZ2axhHRYQDAOCozIocyImRVkF0VkXe1GI2c61TmxOTXT2xW0+Cg7lIUZAUVxCVWSaXh8lypJPDhommFqWEUfSkkSUyTKK83DSfLLCsjSZjvV3dl8t7ZJXMS6FfwMP7T4g3vCre8OrD+08I/QKY9O4rlbfrvzCoh600I4nfGA0AEL0xXlJ7uQogMlTS3tZsSplW3HYukaYWJawbHyZmmAsAAIqC5K1FreERlmWaW9vHE5rb2tc9wwxbv0w1TT4gOiKceZ/zB5a943yRt/lY6BewbFPqlAJCf7HNBtqVYXlyeRgAyHKk1QhB1YmSHUVnGtOMrbLa6Vvl2c4lgVD13rSIiuIieToHAIyyd+Kyqy/Xvp17Rp4qeycue2pu7N6JuhYjlyw3tgnG4wpCihoZvLsxukChQIqCl3MPNTbKcwFkOdICBQIAiAyVKK8o7G3t5lKg+PjnurqUrLTF8/B85O2TXKG7jTLYoP8mb5e2n/CEC8YJR25ktKYlmT7NeQWOyqx4F/a9nD/968c4KqsiD/a50P8VEhJu93kTNq9nYCMe627DBv2tugvtlZ/oBk3d6IYGOs6f6rlSYdCMqjtaDGOudaWLFZCiYJ/s6eIjhIsWiUeKUpUnXUcWDsLmaGIYU39/LIfr5smEBKNOE5byKwDokVV2Xy4HANWls9iIF+pNE0VBchwpvTp7FXFFIheH5WughtER80hx56ta5ux04O+m3Q/16hEbskCoOjsued79thYqTnx60aAebvzNFue1T3Eq1NNFIUOVQSHjLGXweDx3d3ehcNIabXw+z9NzYplYiivD/pfE4/FEIk+hUMjhcJhVdfR6AwB4eHgsWeINAFqttq/vDuv9UtiF/Zih1+sHBgZ7em5ptToOh+Ph4QEA7u7ubm5ug4NDIyPqkRF2zlpxVGa5FccN0Ywza4fOAjNrOYgT5xl3794FAKFQyONxPT09+vv71Wr10NCQtaXcZgpSFCQ5/yx34Zm1HMSJytBqtczqwb6+vgMDg/N0aceFZ9ZyEOeem2g0GgAYG9Po9XrbJTGOyiy/bjZK4YRDDeWZUVYsW+MOq4nRYUoxE5FZU+xhE91NNW4tIrOWgzhXGczOJlyu/V4QUuQX1q5bb/r9Ja5fV1uYr7Bi2TI5rCyq23J2WdjDGAjGrcVk1nIQ5ypDKBQCgKPri1ddqR13NqwPP3O8CmB80tfY+M66iXLtJtODBcRiFvYw0y/cRHREOEjSz8jl8huNufGSsEhobmtf9/asppMWzoyFhTOfXnQTjo1pjEYjl8vlOuAFRKj6eEn4jqzo6KyMcFmNAiGzZSsmJrXEuv3CdjGzPWwytTkxUiZIxGVXI0VBUtyqfZA3ZTSxZGIEmWbWshVU5i3OUgZCSCAQqNVqrVYHFmED2XSvNNX8FeJ3/jJeWZjfBOCwZYtcbJo9bKIbsnFrkZi1HMRZlyO9vLyGh4cBQKvVuLkJhULh6OioQCDg8/kjI9b9GU01MihKVR7IZgTkoGWLXGyaPWw8Fky3dcVefmbxmLUchE1Pl0Ag8Pb2GhlR83hcjUbLTD/5fJ6/v7/RaBwcHBQIhEND8+xJpPll1nKQufZ08fl8Pp/v47MEY9NZCQDodHqdTsfhcEQiEXPta36x8MxaDsJmzGDmFnq9fvqOJwKBwKwVyn3HkZjB5jwDY8xc2poOlcW8g/ozKGSoMihknGii4Xgt9Xw6mesnHrnyqa7je+d1RHEGTlEG4gvdYze5xz2PeAIAWPLzfRrFjRHZZ8ahXmd0R3EGbCsDIbcVT3o8/QpH5GuZLIyKFUSsHGusUf/tPNaRZ6kUl4LNeQbiCZb8fL9o064pshjP5buvSvT959/yQ+bxvcnF4+9i9elFvXb44ild23fWChhHBkfqKnSqH1nsdC5ZVP4u1pSBuLzozN+5i0SDZz8YqiwwDEy6kIIN+tGGC/2f/Bun9esX9+asfD6JrX7nkkXl72JPGRyO6IHo6MzfPrA1G99u7T+5b0R2FmtHAUD7g3yg8N/VdeVrk9P+9ZOyJ9dv8BB5TW9hygJcdm1X5gITKRYuL/Px1Gatt0P9XZawPwNdKv2Z76OrVX8p67lSofm/q1yfAF1n84p1Gzbt+LV/YKC9+pLw1vS4bAWGRMZ2VaBAOOFQRVZ0VcvOVOUBaRLz8DDCOOFI8VZlblxSNcJRmRXF5ZnNSflWfRLmZqOzKoriZelS03JKyOzvstaRRSP21s1palFKnomcTysu2cIpV7o4AuGy57c+9ObHHgEh3MFbvzj0SfqbuQ7IAib8WnZtV9ER4WByXRBcW1ab3RgvqS20VBD1d1nBiVe6hH4BXpEPgYATuWLFrBqYtF4WArBcI2svm24ZWx0t7MW4bOCqV8ft2q6aWpRgMhTjqMwd65j40dzaPh48Ep9ZB9NoqpG1T26W+rus4KKPmNq1XSGk2JsWUVHcIM/lGI2tJWlJ1QghUOQX1jbmyuW5YJTJpq8fiJAi/+UDYTdMzcpypNnV1N9FhjV/BkKcyJ05S1Y8YZnYWXUK2psyf3/CMnFocKjkvf3t3zTee6dzzILxd82ppwtj4w/Hc344njt2q2MidfInqNPpZNWVh3a8NB9lAYvM38XyaDL4nXxQcTNwbWLIxtd4HhOb3GCMv228ceHjQwOqDhvVXZ8FthiXDZwwzzAab/31XJ/88rLntxp1WjDoO1qV548dbfu6gf2+KE6DTR8oZb4w195xykKCKoNChiqDQobNGahI5PnThx6yljswMPi9YmHcbFoUsKmMJUt8N2x4bvpjSADA4XB+/PEf80UZUZllxWEn47KrzZsTtBalJhUoEg5f39GaPvNtb+Yl7J+1niws7OnpmZKYnPIKi4s9zm5XAwdrmYxbL1dhSDxi2lYn8ciNvMyapPy96REVeZk18+NC5z3ilHmGiLdEwHEjdCZwEwYQ9tZzKRaVccsGbCrj9u1bp06eunPnjo9w6fOSrZ68iV1wLv/l0sU/12CjISxpt2RzhrUWHLNpTdotkbhjowO1qHHLDqxF+Ef8VgMAjIKflwQANMbRZ5enXOw4y5FIvB9cyZQRA6g7fwz+2UtGnbbzizNTWnDYplW1NxYsxoUEZkmutNi4puisiuK8zBoHaiUeosYt27AWM4zYYPmHMTatZIKN2KC1+NMDAPknNzObliXWl+SyBjVu2YM1Zfxvf8MPI18NeHR9P/zlkK5PyHW/1FWq1t8dVjapLpVpbl7Wfnml+38+F4VHqy6Xdf331IDBClaW5CJAF+ayC5vzjICAwO0Z2/38/HpHu79oLxnRTSyvs/6fnt3w3EaEOP/4Y0FndTG5/uxsWgCkJbkcqUWNW7Zg/6w1IiJiwH9wSqK3t5daPWrUaYh76zGM+7js27QQmtgtMXYvTF+Sy34tatyyB5v3WpctW749Y7u13JaWH//rj5+y0pElrO/YuGCMWzaY6zV3VKqu/KO/t5ZLvDbqgiBFwT5ZWfGRlrjsqV6cxCNFqcoDcfNcFg7CpjKMRuPw8ELYcXPxGLds4KLeccdBqDo7rnqBPOPhStC78BQyVBkUMlQZFDJUGRQyVBkUMlQZFDJUGRQyVBkUMlQZFDJUGRQyVBkUMlQZFDJUGRQyVBkUMlQZFDJUGRQyVBkUMlQZFDJUGRQyVBkUMlQZFDJUGRQyVBkUMlQZFDJUGRQyVBkUMlQZFDL/D3LIiZmocFKtAAAAAElFTkSuQmCC" width="179" height="152" class="img_ev3q"></p>
<p>Po wybraniu ikony z dodaniem zasobu moÅ¼emy wybraÄ‡ spoÅ›rÃ³d gotowej grupy interesujÄ…cy nas zasÃ³b i go dodaÄ‡. Po wybraniu w zaleÅ¼noÅ›ci od wybranego zasobu naleÅ¼y podaÄ‡ dane typu Name.</p>
<p><img decoding="async" loading="lazy" src="https://blog.justcloud.pl/assets/images/Screenshot-from-2017-04-02-00-14-46-7bf30002072cd6ee49a85fe6ac3c06be.png" width="794" height="600" class="img_ev3q"></p>
<p>W ten oto sposÃ³b utworzyÅ‚eÅ› nowy projekt, ktÃ³ry po dodaniu zasobÃ³w jest gotowy do deploy'owania. W kolejnym wpisie utworzymy przykÅ‚adowy plik szablonu.</p>]]></content:encoded>
            <category>arm</category>
            <category>azure</category>
            <category>devops</category>
            <category>json</category>
            <category>microsoft</category>
            <category>template</category>
            <category>visual-studio</category>
        </item>
        <item>
            <title><![CDATA[Azure Resource Manager - JSON Automation]]></title>
            <link>https://blog.justcloud.pl/azure-resource-manager-json-automation</link>
            <guid>https://blog.justcloud.pl/azure-resource-manager-json-automation</guid>
            <pubDate>Fri, 02 Dec 2016 00:00:00 GMT</pubDate>
            <description><![CDATA[Nagranie z North Poland 2016 - super techniczna sesja dostÄ™pna online!]]></description>
            <content:encoded><![CDATA[<p>JeÅ›li nie mogliÅ›cie byÄ‡ na AzureDay North Poland 2016 zapraszam do obejrzenia mojej sesji ktÃ³ra zostaÅ‚a umieszczona na 9channel. Podczas sesji dowiecie siÄ™ jak dziaÅ‚a ARM w Azure oraz jakimi sposobami moÅ¼na deployowaÄ‡ wÅ‚asne Å›rodowiska.</p>
<p>Podczas sesji zauwaÅ¼ycie trochÄ™ error-Ã³w, ktÃ³re sÄ… spowodowane bÅ‚Ä™dnymi nazwami uÅ¼ywanymi w konsoli. JeÅ›li masz problem z deploymentami, zapraszam do dyskusji w komentarzach. DziÄ™kujÄ™ wszystkim ktÃ³ry przybyli na mojÄ… sesjÄ™ i do zobaczenia na meetupach, ktÃ³re organizuje we WrocÅ‚awiu wiÄ™cej informacji tutaj: <a href="http://www.meetup.com/Microsoft-Azure-Users-Group-Poland/" target="_blank" rel="noopener noreferrer" class="">http://www.meetup.com/Microsoft-Azure-Users-Group-Poland/</a> .</p>
<p>(<a href="https://channel9.msdn.com/Events/Azure-Day-Poland/AzureDay-North-Poland-2016/Azure-Resource-Manager-JSON-Automation/player" target="_blank" rel="noopener noreferrer" class="">https://channel9.msdn.com/Events/Azure-Day-Poland/AzureDay-North-Poland-2016/Azure-Resource-Manager-JSON-Automation/player</a>)</p>]]></content:encoded>
            <category>9channel</category>
            <category>arm</category>
            <category>azure</category>
            <category>cloud</category>
            <category>microsoft</category>
            <category>resource-manager</category>
        </item>
        <item>
            <title><![CDATA[Sesje AzureDay North Poland 2016]]></title>
            <link>https://blog.justcloud.pl/sesje-azureday-north-poland-2016</link>
            <guid>https://blog.justcloud.pl/sesje-azureday-north-poland-2016</guid>
            <pubDate>Fri, 30 Sep 2016 00:00:00 GMT</pubDate>
            <description><![CDATA[PrzeglÄ…d sesji na konferencji AzureDay North Poland 2016. ZnajdÅºÂ Å›cieÅ¼kÄ™ dla siebie!]]></description>
            <content:encoded><![CDATA[<p>JuÅ¼ w najbliÅ¼szy PoniedziaÅ‚ek 3.10.2016 rusza AzureDay w Gdyni. PeÅ‚nÄ… agendÄ™ znajdziesz na stronie: <a href="http://azureday.pro/agenda" target="_blank" rel="noopener noreferrer" title="http://azureday.pro/agenda" class="">http://azureday.pro/agenda</a> .JeÅ›li nie wiesz jakie sesje wybraÄ‡ zrobiÅ‚em dla Ciebie zestawienie dla trzech grup w zaleÅ¼noÅ›ci czy jesteÅ› IT Pro, Developer-em czy IT Manager-em.</p>
<p><strong>JeÅ›li jesteÅ› IT Pro:</strong></p>
<p>PoniedziaÅ‚ek:</p>
<ol>
<li class="">What is Machine Learning? - Åukasz Grala lub: How Microsoft Operations Management Suite can help you manage and monitor your hybrid environment - Andrzej KokociÅ„ski</li>
<li class="">Azure Web Jobs and SDK - Kris van der Mast</li>
<li class="">Azure Resource Manager - JSON Automation - Piotr Rogala</li>
<li class="">Infrastructure as Code - DevOps for IT administrators - Dariusz Porowski</li>
<li class="">Azure Cloud ID in Allegro - Patryk Szudrowicz</li>
</ol>
<p>Wtorek:</p>
<ol>
<li class="">Access Management in Azure - Marek Krupa</li>
<li class="">Azure Blockchain as a Service - Maciej Stopa</li>
<li class="">Azure Backup and Site Recovery - SÅ‚awomir Stanek lub Azure Storage performance tips &amp; tricks - Anton Boyko</li>
<li class="">TBA - MichaÅ‚ SmereczyÅ„ski</li>
<li class="">TBA - Emil Wasilewski</li>
</ol>
<p><strong>JeÅ›li jesteÅ› Developer-em:</strong></p>
<p>PoniedziaÅ‚ek:</p>
<ol>
<li class="">What is Machine Learning? - Åukasz Grala</li>
<li class="">Azure Web Jobs and SDK - Kris van der Mast</li>
<li class="">Know Your Customers, Know Your Apps! - Alex Mang lub Azure Resource Manager - JSON Automation - Piotr Rogala</li>
<li class="">Introduction to Big Data analytics - Åukasz Grala</li>
<li class="">Creating Custom BI Solutions with Power BI Embedded - Mihail Mateev</li>
</ol>
<p>Wtorek:</p>
<ol>
<li class="">TBA</li>
<li class="">Business Continuity and Disaster Recovery in database service - Wojciech Wencel lub Mobile DevOps receipt with VSTS, Xamarin Cloud and Hockey apps - Ihor Leontiev</li>
<li class="">Azure Storage performance tips &amp; tricks - Anton Boyko</li>
<li class="">Running Akka.NET Cluster on Service Fabric - Maciej Misztal</li>
<li class="">Building intelligent bots with Microsoft Bot Framework, Azure and Cognitive services - Oleksandr Krakovetskyi</li>
</ol>
<p><strong>JeÅ›li jesteÅ› IT Manager-em:</strong></p>
<p>PoniedziaÅ‚ek:</p>
<ol>
<li class="">How Microsoft Operations Managemetn Suite can help you manage and monitor your hybrid environment - Andrzej KokociÅ„ski</li>
<li class="">Azure Web Jobs and SDK - Kris van der Mast</li>
<li class="">Azure Resource Manager - JSON Automation - Piotr Rogala</li>
<li class="">Data protection regulation, cloud apps and cloud service providers - main challenges for 2018 - RafaÅ‚ Malujda</li>
<li class="">Azure Cloud ID in Allegro - Patryk Szudrowicz lub Partner Presentation - VEEAM - How turn Azure with Veeam tools to Disaster Recovery Center - Mariusz Rybusinski</li>
</ol>
<p>Wtorek:</p>
<ol>
<li class="">TBA - Roman Nedzelsky</li>
<li class="">Business Continuity and Disaster Recovery in database service - Wojciech Wencel lub Azure Blockchain as a Service - Maciej Stopa</li>
<li class="">Azure? No kidding, I really care about security - Piotr Boninski lub Azure Backup and Site Recovery - SÅ‚awomir Stanek</li>
<li class="">Flash Talks - 3x 15min lub TBA - MichaÅ‚ SmereczyÅ„ski</li>
<li class="">SAP on Microsoft Azure cloud - Marcin Kaczmarek lub TBA - Emil Wasilewski</li>
</ol>
<p>OczywiÅ›cie to wszystko co widzisz powyÅ¼ej jest jedynie propozycjÄ…. Nie musisz iÅ›Ä‡ sugerowanÄ… Å›cieÅ¼kÄ….
Masz pytania? zapraszam do komentowania.</p>]]></content:encoded>
            <category>azureday</category>
            <category>konferencja</category>
            <category>microsoft</category>
        </item>
        <item>
            <title><![CDATA[#3 Spotkanie grupy Microsoft Group Poland za nami]]></title>
            <link>https://blog.justcloud.pl/3-spotkanie-grupy-microsoft-group-poland-za-nami</link>
            <guid>https://blog.justcloud.pl/3-spotkanie-grupy-microsoft-group-poland-za-nami</guid>
            <pubDate>Sun, 18 Sep 2016 00:00:00 GMT</pubDate>
            <description><![CDATA[#3 meetup grupy Microsoft Azure User Group Poland za nami. Chcesz uczestniczyÄ‡ w lokalnych spotkaniach grupy we WrocÅ‚awiu? Zapraszamy do udziaÅ‚u w naszych wydarzeniach.]]></description>
            <content:encoded><![CDATA[<p>WrocÅ‚awska grupa Azure powoli siÄ™ rozwija i pojawia siÄ™ na niej coraz wiÄ™cej ciekawych osÃ³b. JeÅ›li chcecie byÄ‡ na bieÅ¼Ä…co ze wszystkimi news'ami podam wam parÄ™ linkÃ³w jak dotrzeÄ‡ do grupy i jak monitorowaÄ‡ wszystkie wydarzenia.</p>
<ol>
<li class="">
<p><strong>Meetup - kliknij Join us.</strong></p>
<ul>
<li class=""><a href="http://www.meetup.com/Microsoft-Azure-Users-Group-Poland/" target="_blank" rel="noopener noreferrer" class="">http://www.meetup.com/Microsoft-Azure-Users-Group-Poland/</a></li>
</ul>
</li>
<li class="">
<p><strong>Facebook Page Like grupy MAUGP</strong></p>
<ul>
<li class=""><a href="https://www.facebook.com/groups/azureugpl/" target="_blank" rel="noopener noreferrer" class="">https://www.facebook.com/groups/azureugpl/</a></li>
</ul>
</li>
<li class="">
<p><strong>Facebook Page Like grupy&nbsp;JustCloud</strong> (informacje o spotkaniach WrocÅ‚awskiej grupy)</p>
<ul>
<li class=""><a href="https://www.facebook.com/justcloudpl/" target="_blank" rel="noopener noreferrer" class="">https://www.facebook.com/justcloudpl/</a></li>
</ul>
</li>
</ol>
<p>Ponadto za nami wiele ciekawych tematÃ³w gdzie udzielajÄ… siÄ™ gÅ‚Ã³wnie <strong>Piotr Rogala</strong> i <strong>Marek Zalewski</strong>. Prezentacje w ostatnim czasie dotoczyÅ‚y takich tematÃ³w jak: ARM, Docker, Licencjonowanie w Azure, Azure Web Apps, CDN, OMS. Prezentacje moÅ¼ecie odszukaÄ‡ za pomocÄ… poniÅ¼szego linku:</p>
<ul>
<li class=""><a href="http://maugp.justcloud.azurewebsites.net/" target="_blank" rel="noopener noreferrer" class="">http://maugp.justcloud.azurewebsites.net</a></li>
</ul>
<p>JeÅ›li chcecie siÄ™ udzielaÄ‡ i rozwijaÄ‡ w stronÄ™ nowych rozwiÄ…zaÅ„ doÅ‚Ä…cz do nas i zaprezentuj siÄ™! Na koniec dziÄ™kujÄ™ za sponsoring ostatniego spotkania firmie SOFTSERVE i zapraszam kolejne zainteresowane nowymi rozwiÄ…zaniami w oparciu o chmury: Azure, AWS, GPC.</p>
<p><img decoding="async" loading="lazy" alt="softserve_logo_new" src="https://blog.justcloud.pl/assets/images/SoftServe_logo_new-e494355d7e3fcfa75264c9513650e1b8.png" width="1747" height="526" class="img_ev3q"></p>]]></content:encoded>
            <category>azure</category>
            <category>cdn</category>
            <category>microsoft-azure-group-user-poland</category>
            <category>oms</category>
            <category>softserve</category>
            <category>web-apps</category>
        </item>
        <item>
            <title><![CDATA[AzureDay North Poland 2016 - JustCloud]]></title>
            <link>https://blog.justcloud.pl/azureday-north-poland-2016</link>
            <guid>https://blog.justcloud.pl/azureday-north-poland-2016</guid>
            <pubDate>Sun, 18 Sep 2016 00:00:00 GMT</pubDate>
            <description><![CDATA[NajwiÄ™ksza konferencja Microsoft Azure w Polsce AzureDay North Poland 2016!]]></description>
            <content:encoded><![CDATA[<p>Wiesz Å¼e <strong>3-4 PaÅºdziernika</strong> jest konferencja <strong>AzureDay</strong> w Gdyni? I piszÄ™ o tym nie bez powodu na Å‚amach bloga poniewaÅ¼ bÄ™dÄ™ miaÅ‚ przyjemnoÅ›Ä‡ poprowadziÄ‡ tam swojÄ… autorkÄ… sesjÄ™ na temat: Azure Resource Manager â€“ zautomatyzowane powoÅ‚ywanie wirtualnych maszyn w chmurze.</p>
<p><strong>KrÃ³tki opis mojej prezentacji</strong>: Sesja bÄ™dzie techniczna, a zarazem prezentujÄ…ca Azure Resource Manager gdzie dowiemy siÄ™, co to tak naprawdÄ™ jest i jakie wniosÅ‚o zmiany w Azure. Zostanie omÃ³wiony i zaprezentowany proces automatyzacji z wykorzystaniem skryptÃ³w .json. Podczas demo na Å¼ywo obejrzymy jak dziaÅ‚a z bliska konfigurowanie wÅ‚asnego skryptu .json, ktÃ³ry powoÅ‚a maszyny wirtualne w Azure. Deployment zostanie zaprezentowany z wykorzystaniem Visual Studio oraz konsoli PowerShell. JeÅ›li interesujÄ… CiÄ™ tematy uÅ‚atwiajÄ…ce administracjÄ™ i chcesz uproÅ›ciÄ‡ swojÄ… pracÄ™ to ta sesja zaprezentuje Ci, Å¼e praca Administratora nie sprowadza siÄ™ tylko do przeglÄ…dania logÃ³w ğŸ™‚ Podczas prezentacji zobaczysz: czym jest ARM, organizacjÄ™ pracy z Azure, pracÄ™ nad skryptami .json, PowerShell ARM, Visual Studio do deployment'Ã³w w Azure.</p>
<p>Czy wiecie juÅ¼ o ARM wystarczajÄ…co Å¼eby ominÄ…Ä‡ mojÄ… sesjÄ™? nie wydaje mi sie&nbsp;ğŸ™‚&nbsp;Dlatego szybko kupujcie bileciki na konferencje! Dla wszystkich fanÃ³w bloga JustCloud 20% zniÅ¼ki na wstÄ™p z kodem:&nbsp;WROAZURE</p>
<p>Dlaczego dostajesz taki kod? PoniewaÅ¼ mam nadziejÄ™ Å¼e wzbudzÄ™ w Tobie chÄ™Ä‡ przyjechania i budowania nowej spoÅ‚ecznoÅ›ci wraz z nami, ktÃ³ra rozwija siÄ™ w Polsce. JeÅ›li masz pytania nie wahaj siÄ™ wpisuj w komentarzach na dole.</p>
<p><strong>Link do strony konferencji:</strong></p>
<ul>
<li class="">
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="httpazuredaypro"><a href="http://azureday.pro/" target="_blank" rel="noopener noreferrer" class="">http://azureday.pro/</a><a href="https://blog.justcloud.pl/azureday-north-poland-2016#httpazuredaypro" class="hash-link" aria-label="Direct link to httpazuredaypro" title="Direct link to httpazuredaypro" translate="no">â€‹</a></h3>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="azureday north poland" src="https://blog.justcloud.pl/assets/images/maxresdefault-077d39259579d0176b9403a9fe5b999e.jpg" width="1920" height="1080" class="img_ev3q"></p>]]></content:encoded>
            <category>azureday</category>
            <category>konferencja</category>
            <category>microsoft</category>
        </item>
    </channel>
</rss>