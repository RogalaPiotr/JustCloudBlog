"use strict";(self.webpackChunkjustcloudblog=self.webpackChunkjustcloudblog||[]).push([[9450],{6029:function(e){e.exports=JSON.parse('{"blogPosts":[{"id":"how to deploy azure pipelines agent","metadata":{"permalink":"/how to deploy azure pipelines agent","source":"@site/blog/2022-01-31-how-to-deploy-azure-devops-agent/index.md","title":"Jak wdro\u017cy\u0107 Azure Pipelines agenta? (How to deploy Azure Pipelines agent?)","description":"Potrzebujesz stworzy\u0107 w\u0142asny serwer z agentem do deployment\xf3w w Azure DevOps? W tym artykule opisa\u0142em ca\u0142y proces oraz skrypty umo\u017cliwiaj\u0105ce bardzo szybkie wdro\u017cenie.","date":"2022-01-31T00:00:00.000Z","formattedDate":"January 31, 2022","tags":[{"label":"deploy","permalink":"/tags/deploy"},{"label":"azure","permalink":"/tags/azure"},{"label":"devops","permalink":"/tags/devops"},{"label":"agent","permalink":"/tags/agent"},{"label":"agents","permalink":"/tags/agents"},{"label":"pipelines","permalink":"/tags/pipelines"}],"readingTime":5.26,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"how to deploy azure pipelines agent","title":"Jak wdro\u017cy\u0107 Azure Pipelines agenta? (How to deploy Azure Pipelines agent?)","description":"Potrzebujesz stworzy\u0107 w\u0142asny serwer z agentem do deployment\xf3w w Azure DevOps? W tym artykule opisa\u0142em ca\u0142y proces oraz skrypty umo\u017cliwiaj\u0105ce bardzo szybkie wdro\u017cenie.","authors":["progala"],"date":"2022-01-31","tags":["deploy","azure","devops","agent","agents","pipelines"],"keywords":["azure","devops","agent","pipelines"]},"nextItem":{"title":"Nowa ods\u0142ona","permalink":"/welcome"}},"content":"Azure DevOps pozwala na wdra\u017canie rozwi\u0105za\u0144 za po\u015brednictwem agent\xf3w tak zwanych [\\"Microsoft-hosted\\"](https://docs.microsoft.com/en-us/azure/devops/pipelines/agents/agents?view=azure-devops&tabs=browser#microsoft-hosted-agents) przez 1800 minut (30 godzin) na miesi\u0105c. W momencie przekroczenia tego czasu nie mo\u017cemy wykonywa\u0107 deployment\'\xf3w. Jedyna opcja to dokupi\u0107 unlimited access do agenta za $40 na miesi\u0105c minuty albo korzysta\u0107 ze swojego serwera, laptopa po zainstalowaniu agenta - ta opcja wdra\u017cania zwana jest w dokumentacji [\\"Self-Hosted\\"](https://docs.microsoft.com/en-us/azure/devops/pipelines/agents/agents?view=azure-devops&tabs=browser#install). Dodam tylko, \u017ce wykorzystywania w\u0142asnego laptopa do wdra\u017cania nie jest rozwi\u0105zaniem produkcyjnym \ud83d\ude43.\\n\\nPricing page Azure DevOps: <https://azure.microsoft.com/en-us/pricing/details/devops/azure-devops-services/>\\n\\nBardzo cz\u0119sto s\u0142ysz\u0119 pytanie, a po co mi w\u0142asny serwer do wdra\u017cania?\\n\\n[![](https://img.youtube.com/vi/OO3FANjwKHY/0.jpg)](https://www.youtube.com/watch?v=OO3FANjwKHY)\\n\\nKlasyczna odpowied\u017a: to zale\u017cy... Robi\u0105c prace dyplomow\u0105 na uczelnie albo projekt PoC dla znajomego, mo\u017cecie wybra\u0107 opcje postawienia agenta na swoim laptopie. Je\u015bli pracujecie w grupie paru os\xf3b najlepiej by\u0142oby skorzysta\u0107 z w\u0142asnego serwera. Je\u015bli jeste\u015bcie firm\u0105 i dostarczacie rozwi\u0105zania to napewno powinni\u015bcie rozwa\u017cy\u0107 w\u0142asny serwer lub dokupienie \\"Microsoft-hosted\\" za $40 - je\u015bli czas wdra\u017cania przekracza 1800 minut na miesi\u0105c.\\nAle jest jeszcze jedna sytuacja kiedy wybierzecie w\u0142asny serwer z agentami. Wiele firm korzysta z prywatnych kontrolowanych wewn\u0119trznych sieci z ograniczonym dost\u0119pem z zewn\u0105trz. Wdro\u017cenie w\u0142asnego serwera w waszej sieci pozwoli wam na \u0142atw\u0105 komunikacje z wdro\u017conymi rozwi\u0105zaniami na platformie Microsoft Azure, ale zwi\u0119kszycie te\u017c bezpiecze\u0144stwo procesowanych danych. Pami\u0119tajmy \u017ce agent [\\"Microsoft-hosted\\"](https://docs.microsoft.com/en-us/azure/devops/pipelines/agents/agents?view=azure-devops&tabs=browser#microsoft-hosted-agents) to agent \\"publiczny\\" odizolowany od waszej sieci. [\\"Self-Hosted\\"](https://docs.microsoft.com/en-us/azure/devops/pipelines/agents/agents?view=azure-devops&tabs=browser#install) mo\u017ce zosta\u0107 wdro\u017cony tak samo jako agent odizolowany, ale te\u017c mo\u017cecie go po\u0142\u0105czy\u0107 lub wdro\u017cy\u0107 we w\u0142asnej sieci.\\n\\n\x3c!--truncate--\x3e\\n\\nPoni\u017cej odsy\u0142am was do dokumentacji gdzie mo\u017cecie szczeg\xf3\u0142owo dowiedzie\u0107 si\u0119 co Microsoft oferuje w kwestii Azure Pipelines agent.\\n\\n[MS Docs - Azure Pipelines agents](https://docs.microsoft.com/en-us/azure/devops/pipelines/agents/agents?view=azure-devops&tabs=browser)\\n\\n![Communication to deploy to target servers\\n](https://docs.microsoft.com/en-us/azure/devops/pipelines/agents/media/agent-connections-devops.png?view=azure-devops)\\n\\nPrzechodzimy zatem do wdro\u017cenia w\u0142asnego serwera z agentem.\\n\\nPrzygotowa\u0142em ilustracje zwi\u0105zan\u0105 z ca\u0142ym projektem dla wdro\u017cenia Azure Pipelines agent w oparciu o ten post oraz potrzebne materia\u0142y do jego wdro\u017cenia.\\n\\n![steps](images/image1.jpg)\\n\\n1. Linki - za pomoc\u0105 tych link\xf3w macie dost\u0119p do mojego przyk\u0142adowego wdro\u017cenia\\n\\n* Azure Repos: <https://dev.azure.com/justcloudpublic/_git/How%20to%20deploy%20ADO%20agent?path=/vm-azure-devops-self-hosted-agents>\\n* Azure Pipeline: <https://dev.azure.com/justcloudpublic/How%20to%20deploy%20ADO%20agent/_build?definitionId=2>\\n\\n[![Build Status](https://dev.azure.com/justcloudpublic/How%20to%20deploy%20ADO%20agent/_apis/build/status/vm-azure-devops-self-hosted-agents?branchName=main)](https://dev.azure.com/justcloudpublic/How%20to%20deploy%20ADO%20agent/_build/latest?definitionId=2&branchName=main)\\n\\n1. Scripts\\n   1. Parametry\\n        1. [azuredeploy.param.json](https://dev.azure.com/justcloudpublic/_git/How%20to%20deploy%20ADO%20agent?path=/vm-azure-devops-self-hosted-agents/scripts/azuredeploy.param.json&version=GBmain&_a=contents) - te parametry mo\u017cesz przerobi lub zmieni\u0107 tak, aby odpowiada\u0142y temu co zostanie wdro\u017cone. Wa\u017cne - te dane test\xf3w s\u0105\xa0nadpisywane podczas deployment\'u - sprawd\u017a to w pliku: [vm-azure-devops-self-hosted-agents-ci.yml](https://dev.azure.com/justcloudpublic/_git/How%20to%20deploy%20ADO%20agent?path=/vm-azure-devops-self-hosted-agents/pipelines/vm-azure-devops-self-hosted-agents-ci.yml&version=GBmain&_a=contents) \\"overrideParameters\\".\\n           1. Opis zmiennych\\n              1. adminUsername [User name]\\n              2. adminPassword [Password for user]\\n              3. dnsLabelPrefix (default set: generated based on ResourceGroup.Id) [Public DNS for connection RDP]\\n              4. vmName [VM Name for resource]\\n              5. AccessIPNSG [IP will be added to NSG rule for RDP access]\\n              6. tag [default set: \\"Project: AzureDevOpsAgent\\"]\\n              7. DiskForVM [StorageAccount or Managed - choose disk for deployment VM]\\n            ```\\n            \\"parameters\\": {\\n                \\"adminUsername\\": {\\n                    \\"value\\": \\"test-user\\"\\n                },\\n                \\"adminPassword\\": {\\n                    \\"value\\": \\"test-P@ssw0rd12345\\"\\n                },\\n                \\"vmName\\": {\\n                    \\"value\\": \\"ado-agents\\"\\n                },\\n                \\"AccessIPNSG\\": {\\n                    \\"value\\": \\"192.168.1.1\\"\\n                },\\n                \\"tag\\": {\\n                    \\"value\\": \\"AzureDevOpsAgent\\"\\n                },\\n                \\"DiskForVM\\": {\\n                    \\"value\\": \\"StorageAccount\\"\\n                }\\n            }\\n            ```\\n        2. [createresourcegroup-adoagent.param.json](https://dev.azure.com/justcloudpublic/_git/How%20to%20deploy%20ADO%20agent?path=/vm-azure-devops-self-hosted-agents/scripts/createresourcegroup-adoagent.param.json&version=GBmain&_a=contents) - parametry definiuj\u0105 resource group\u0119.\\n           ```\\n           \\"parameters\\": {\\n               \\"ResourceGroupLocation\\": {\\n                   \\"value\\": \\"westeurope\\"\\n               },\\n               \\"ResourceGroupName\\": {\\n                   \\"value\\": \\"vm-azure-devops-self-hosted-agents\\"\\n               },\\n               \\"tag\\": {\\n                   \\"value\\": {\\n                       \\"key1\\": \\"Project\\",\\n                       \\"value1\\": \\"AzureDevOpsAgent\\"\\n                   }\\n               }\\n           }\\n            ```\\n        3. [script-post-configuration.ps1](https://dev.azure.com/justcloudpublic/_git/How%20to%20deploy%20ADO%20agent?path=/vm-azure-devops-self-hosted-agents/scripts/script-post-configuration.ps1&version=GBmain&_a=contents) - skrypt odpowiada za instalacj\u0119\xa0agenta oraz przygotowanie potrzebnych paczek. Je\u015bli potrzebujesz doinstalowa\u0107 dodatkowe paczki dadaj je w sekcji: # Install Packages - najpro\u015bciej jest skorzysta z paczek choco: <https://docs.chocolatey.org/en-us/choco/commands/list>\\n           1. Opis zmiennych\\n               1. urlProjectADO [URL for your ADO project]\\n               2. auth (default set: PAT) [Authentication method for your ADO]\\n               3. token [Security token for your ADO]\\n               4. pool (default set: default) [Pool name for agent in ADO]\\n               5. agentname [default is same as VM name]\\n               6. numberagents [default is 1 - you can deploy from 1 to 20 agent on one server]\\n               7. instalAddtionalPackages [default is $true and is installing all what is needed for simple deployment to Azure - if you need .NET etc. please add manually]\\n\\n            ```\\n            param(\\n                [Parameter(Mandatory = $true)][string] $urlProjectADO,\\n                [Parameter(Mandatory = $false)][string] $auth = \\"pat\\",\\n                [Parameter(Mandatory = $true)][string] $token,\\n                [Parameter(Mandatory = $false)][string] $pool,\\n                [Parameter(Mandatory = $false)][string] $agentname,\\n                [Parameter(Mandatory = $false)][ValidateRange(1, 20)][int] $numberagents = 1,\\n                [Parameter(Mandatory = $false)][bool] $instalAddtionalPackages = $true\\n            )\\n            begin {\\n            }\\n            process {\\n                try {\\n                    if (!(Test-Path \\"c:\\\\temp\\")) { $null = mkdir \\"c:\\\\temp\\" }\\n                    $log | % {\\n                        # Install Additional Packages\\n                        if ($instalAddtionalPackages) {\\n                            try {\\n\\n                                # Install Packages\\n                                [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\n                                Install-PackageProvider -Name \\"Nuget\\" -Force\\n                                # FIX: WARNING: Not setting tab completion: Profile file does not exist at \'C:\\\\Users\\\\USER\\\\Documents\\\\WindowsPowerShell\\\\Microsoft.PowerShellISE_profile.ps1\'.\\n                                if (!(Test-Path -Path $PROFILE)) {\\n                                    New-Item -ItemType File -Path $PROFILE -Force\\n                                }\\n                                Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString(\'https://chocolatey.org/install.ps1\'))\\n                                choco feature enable -n allowGlobalConfirmation\\n                                choco install -y powershell-core\\n                                Start-Sleep 3\\n                                choco install -y azure-cli\\n                                Start-Sleep 3\\n                                choco install -y az.powershell\\n                                Start-Sleep 3\\n                                choco install -y azcopy\\n                                Start-Sleep 3\\n                                choco install -y iiscrypto\\n                                Start-Sleep 3\\n                                #Install AzureRM in Powershell 5.1\\n                                C:\\\\Windows\\\\system32\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe -Command \\"Install-Module -Name AzureRM -AllowClobber -Force -Confirm:`$false\\"\\n                                # END Install Packages\\n\\n                            }\\n                            catch {\\n                                throw $_\\n                                break\\n                            }\\n                        }\\n                        # Get latest version install agent\\n                        $getLatestVersion = Invoke-WebRequest https://api.github.com/repos/Microsoft/azure-pipelines-agent/releases/latest -UseBasicParsing\\n                        $tag = ($getLatestVersion | ConvertFrom-Json)[0].tag_name\\n                        $tag = $tag.Substring(1)\\n                        $downloadInstallURL = \\"https://vstsagentpackage.azureedge.net/agent/$tag/vsts-agent-win-x64-$tag.zip\\"\\n\\n                        # Creating Pool in Azure DevOps\\n                        $encodedPat = [System.Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes( \\":$token\\"))\\n                        $body = \\"{name:`\\"$pool`\\", autoProvision: `\\"true`\\"}\\"\\n                        if (!($pool -match \\"default\\" -or $pool -match \\"Azure Pipelines\\" -or $((Invoke-WebRequest -Method GET -Uri \\"$urlProjectADO/_apis/distributedtask/pools?api-version=5.1\\" -UseBasicParsing -Headers @{Authorization = \\"Basic $encodedPat\\" }).content | ? { $_ -like \\"*$pool*\\" }))) {\\n                            $tmp = $(Invoke-WebRequest -Method POST -Uri \\"$urlProjectADO/_apis/distributedtask/pools?api-version=5.0-preview.1\\" -UseBasicParsing -Headers @{Authorization = \\"Basic $encodedPat\\" } -Body $body -ContentType \\"application/json\\") 2>$null\\n                        }\\n\\n                        # Install agenets\\n                        $filename = $urlProjectADO.Split(\'/\')[-1]\\n                        if (!(Test-Path \\"c:\\\\temp\\\\$filename\\")) { Invoke-WebRequest -Uri $downloadInstallURL -OutFile \\"c:\\\\temp\\\\$filename\\" }\\n\\n                        for ($i = 1; $i -le $numberagents; $i++) {\\n                            if (!(Test-Path \\"c:\\\\agent-$i\\")) { mkdir \\"c:\\\\agent-$i\\" }else { rm c:\\\\agent-$i -recurse -force; mkdir \\"c:\\\\agent-$i\\" }\\n                            Add-Type -AssemblyName System.IO.Compression.FileSystem ; [System.IO.Compression.ZipFile]::ExtractToDirectory(\\"c:\\\\temp\\\\$filename\\", \\"c:\\\\agent-$i\\")\\n                            .\\"c:\\\\agent-$i\\\\config.cmd\\" --unattended --url $urlProjectADO --auth $auth --token $token --pool $pool --agent \\"$agentname-$i\\" --runAsService\\n                        }\\n                    } | Out-File \\"c:\\\\temp\\\\ADOagent-$((Get-Date).ToString(\\"s\\").Replace(\\":\\",\\"-\\")).log\\"\\n                    Remove-Item -Recurse -Force c:\\\\temp -Exclude *.log\\n                }\\n                catch {\\n                    throw $_\\n                    break\\n                }\\n                Write-Verbose \\"Successfully installed Azure DevOps Job Agents\\"\\n            }\\n            ```\\n    1. Pipelines\\n       1. [vm-azure-devops-self-hosted-agents-ci.yml](https://dev.azure.com/justcloudpublic/_git/How%20to%20deploy%20ADO%20agent?path=/vm-azure-devops-self-hosted-agents/pipelines/vm-azure-devops-self-hosted-agents-ci.yml&version=GBmain&_a=contents) - w tym pliku zdefiniuj dok\u0142adnie dane potrzebne do instalacji agent\xf3w - adres Twojego projektu ADO, nazw\u0119 pool, ilo\u015b\u0107 agent\xf3w. Group oznacza grup\u0119 Library w Azure DevOps gdzie przekazujemy bezpiecznie poufne dane.\\n            ```\\n            variables:\\n            - name: SPNName\\n              value: \'Subscription-JustCloudPublic\'\\n            * name: location\\n              value: \'westeurope\'\\n            * name: urlProjectADO\\n              value: \'https://justcloudpublic.visualstudio.com\'\\n            * name: pool\\n              value: \'Default\'\\n            * name: numberagents\\n              value: 3\\n            * group: \'justcloudpublickeyvault\'\\n    2. Requirements - potrzebujesz zanim zaczniesz wdra\u017ca\u0107\\n       1. Azure Subskrypcja\\n       2. PAT - Personal Access Token - <https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops&tabs=Windows#create-a-pat>\\n       3. Key Vault - <https://docs.microsoft.com/en-us/azure/devops/pipelines/release/azure-key-vault?view=azure-devops>\\n\\nPo wdro\u017ceniu:\\n1. Azure DevOps agents\\n![](images/2022-02-26_20-11-11.jpg)\\n2. Azure Portal\\n![](images/2022-02-27_21-35-04.jpg)\\n\\nJe\u015bli masz jakie\u015b\xa0pytania zapraszam do komentowania \ud83d\ude42."},{"id":"welcome","metadata":{"permalink":"/welcome","source":"@site/blog/2022-01-22-welcome.md","title":"Nowa ods\u0142ona","description":"Nowy rok 2022 b\u0119dzie czasem zmian dla moich aktywno\u015bci w Internecie. Rozpoczynam od zmian zwi\u0105zanych z blogiem i aktywno\u015bciami IT w community.","date":"2022-01-22T00:00:00.000Z","formattedDate":"January 22, 2022","tags":[{"label":"welcome","permalink":"/tags/welcome"},{"label":"first post","permalink":"/tags/first-post"},{"label":"blog","permalink":"/tags/blog"}],"readingTime":0.305,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"welcome","title":"Nowa ods\u0142ona","description":"Nowy rok 2022 b\u0119dzie czasem zmian dla moich aktywno\u015bci w Internecie. Rozpoczynam od zmian zwi\u0105zanych z blogiem i aktywno\u015bciami IT w community.","authors":["progala"],"tags":["welcome","first post","blog"],"keywords":["justcloud","nowa ods\u0142ona","2022"]},"prevItem":{"title":"Jak wdro\u017cy\u0107 Azure Pipelines agenta? (How to deploy Azure Pipelines agent?)","permalink":"/how to deploy azure pipelines agent"},"nextItem":{"title":"Przyspieszenie pracy nad tagowaniem zasob\xf3w za pomoc\u0105 PowerShell - Tag raport Microsoft Azure","permalink":"/tags-in-azure"}},"content":"Witam na nowej stronie gdzie b\u0119d\u0119 wrzuca\u0142 nowe posty zwi\u0105zane z Microsoft Azure oraz Cloud\u2601\ufe0f. Nowy rok 2022 mam nadziej\u0119 \u017ce przyniesie wiele pozytywnych zmian. Dlatego zapraszam do kontaktu i odwiedzin mojej strony.\\n\\nNowe linki i ma\u0142e zmiany:\\n\\n* [JustCloud \u2601\ufe0f Page](https://web.justcloud.pl)\\n* [JustCloud \u2601\ufe0f Blog](https://blog.justcloud.pl)\\n\\nW najbli\u017cszym czasie\xa0ogarn\u0119\xa0r\xf3wnie\u017c uzupe\u0142nienie bloga o stare posty \ud83d\ude43.\\n\\nDzi\u0119ki i do zobaczenia!\\n\\n![welcome](https://images.unsplash.com/photo-1472898965229-f9b06b9c9bbe?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80)\\n\\n\x3c!--truncate--\x3e"},{"id":"tags-in-azure","metadata":{"permalink":"/tags-in-azure","source":"@site/blog/2021-06-03-tags-in-azure/index.md","title":"Przyspieszenie pracy nad tagowaniem zasob\xf3w za pomoc\u0105 PowerShell - Tag raport Microsoft Azure","description":"Zastanawiasz si\u0119 jak tagowa\u0107 zasoby w Azure? W tym artykule dok\u0142adnie opisuje jak to zrobi\u0107 dla ma\u0142ych i du\u017cych \u015brodowisk w Auzre.","date":"2021-06-03T00:00:00.000Z","formattedDate":"June 3, 2021","tags":[{"label":"azutomation","permalink":"/tags/azutomation"},{"label":"csv","permalink":"/tags/csv"},{"label":"microsoft azure","permalink":"/tags/microsoft-azure"},{"label":"raport","permalink":"/tags/raport"},{"label":"report","permalink":"/tags/report"},{"label":"tag","permalink":"/tags/tag"},{"label":"tagging","permalink":"/tags/tagging"},{"label":"tags","permalink":"/tags/tags"}],"readingTime":2.995,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"tags-in-azure","title":"Przyspieszenie pracy nad tagowaniem zasob\xf3w za pomoc\u0105 PowerShell - Tag raport Microsoft Azure","description":"Zastanawiasz si\u0119 jak tagowa\u0107 zasoby w Azure? W tym artykule dok\u0142adnie opisuje jak to zrobi\u0107 dla ma\u0142ych i du\u017cych \u015brodowisk w Auzre.","date":"2021-06-03","authors":["progala"],"tags":["azutomation","csv","microsoft azure","raport","report","tag","tagging","tags"],"keywords":["justcloud","powershell","api","tagowanie","tags","automatyzacja","automation","csv","azure","microsoft azure"]},"prevItem":{"title":"Nowa ods\u0142ona","permalink":"/welcome"},"nextItem":{"title":"Wys\u0142anie \u017c\u0105dania API z PowerShell do Azure DevOps","permalink":"/wyslanie-zadania-api-z-powershell-do-azure-devops"}},"content":"Kiedy\u015b przygotowa\u0142em ten skrypt \u017ceby szybko m\xf3c otagowa\u0107 wiele zasob\xf3w wdro\u017conych na platformie Microsoft Azure. Jest wiele mo\u017cliwo\u015bci jak to zrobi\u0107 szybko, prosto, ale stara\u0142em si\u0119 zrobi\u0107 uniwersalne rozwi\u0105zanie b\u0119d\u0105ce \u0142atwe oraz bezpieczne w u\u017cyciu. Dlatego postanowi\u0142em zrobi\u0107 jeden skrypt, kt\xf3ry generuje nam wszystkie zasoby do pliku CSV. A drugi skrypt na podstawie pliku CSV b\u0119dzie pobiera\u0142 z niego dane zasob\xf3w i nadpisywa\u0142 je na platformie.\\n\\nSkrypty s\u0105 dost\u0119pne na GitHub:\\n\\n- [https://github.com/RogalaPiotr/JustCloudPublic/tree/master/azure-tags-report](https://github.com/RogalaPiotr/JustCloudPublic/tree/master/azure-tags-report)\\n\\nOpis skrypt\xf3w:\\n\\n- GetAllTags.ps1- generuje dwa pliki CSV. Jeden plik dla Resource Group, a drugi plik dla Resources. Jest to istotne poniewa\u017c mamy oddzielone grupy i mo\u017cemy inaczej tagowa\u0107 grupy od zasob\xf3w bez szukania typ\xf3w zasob\xf3w.\\n- SetTagsResourceGroups.ps1 - skrypt, kt\xf3ry pobiera dane z pliku CSV gdzie jest spis Resource Group z tagami do wdro\u017cenia.\\n- SetTagsResources.ps1- skrypt, kt\xf3ry pobiera dane z pliku CSV gdzie zapisane mamy zasoby z tagami do wdro\u017cenia.\\n\\n\x3c!--truncate--\x3e\\n\\nTaki podzia\u0142 daje nam:\\n\\n1. Zapis stanu obecnego tag\xf3w zapisanych do pliku CSV. Jest to raport tag\xf3w czyli obecny stan wdro\u017cony tag\xf3w.\\n2. Podzia\u0142 na grupy i zasoby.\\n3. Mo\u017cliwo\u015b\u0107 poprawiania tag\xf3w tylko na zasobach lub tylko na grupach zasob\xf3w.\\n\\nJak dzia\u0142aj\u0105 skrypty?\\n\\n1. GetAllTags\\n    1. Zapis do pliku odbywa si\u0119 automatycznie do lokalizacji gdzie wykonujemy skrypt lub mo\u017cemy u\u017cy\u0107 opcji -path gdzie maj\u0105 by\u0107 zapisane pliki.\\n    2. Nazwa pliku zawiera dat\u0119, je\u015bli plik istnieje zostanie on nadpisany.\\n    3. Skrypt sprawdza czy jeste\u015b zalogowany do Azure. Podczas wykonywania skryptu mo\u017cesz poda\u0107 parametr -tenantId, aby mie\u0107\xa0pewno\u015b\u0107\xa0\u017ce logujesz si\u0119\xa0do odpowiedniego Azure Directory i -subId w celu wybrania subskrypcji.\\n2. SetTagsResourceGroups oraz SetTagsResources\\n    1. Import danych z plik\xf3w odbywa si\u0119 automatycznie na podstawie konwencji nazewniczej wygenerowanego wcze\u015bniej pliku. Skrypt importuje najnowszy plik CSV we wskazanym katalogu. Istnieje podanie \u015bcie\u017cki poprzez parametr -path.\\n    2. Tagi powinny by\u0107 oddzielone mi\u0119dzy sob\u0105 przecinkami.\\n    3. Tagi zapisane w pliku CSV dzia\u0142aj\u0105 na zasadzie par \u201cKey:Value\u201d w osobnych kolumnach.\\n    4. Skrypt pobiera wszystkie elementy z pliku CSV. Nast\u0119pnie skrypt usuwa tagi w Microsoft Azure nast\u0119pnie wprowadzony z pliku CSV.\\n    5. Je\u015bli nie chcemy danego zasobu rusza\u0107, wystarczy go usun\u0105\u0107 z pliku CSV.\\n    6. Skrypt dzia\u0142a w trybie parallel co pozwala na szybsze wprowadzanie zmian. Throttle dla zapisu tag\xf3w wynosi 5, pami\u0119taj, \u017ce jest to optymalna warto\u015b\u0107.\\n    7. Skrypt sprawdza czy jeste\u015b zalogowany do Azure. Podczas wykonywania skryptu mo\u017cesz poda\u0107 parametr -tenantId.\\n    8. Je\u015bli chcesz wyczy\u015bci\u0107 tagi na zasobach wystarczy \u017ce zostawisz pust\u0105 kom\xf3rk\u0119\xa0lub wpiszesz \u201cempty\u201d.\\n    9. Wprowadzanie tag\xf3w mo\u017cemy testowa\u0107\xa0wprowadzaj\u0105c w pliku CSV tylko ten zas\xf3b kt\xf3ry chcemy zmieni\u0107. Reszta zasob\xf3w nie b\u0119dzie brana pod uwag\u0119\xa0podczas wdra\u017cania tag\xf3w.\\n\\nPoni\u017cej przedstawiam przyk\u0142ad jak to dzia\u0142a na mojej subskrypcji.\\n\\nUruchomienie skryptu:\\n\\n- GetAllTags.ps1\\n\\n`Komenda: ./GetAllTags.ps1 -path /tags`\\n\\n![](https://lh6.googleusercontent.com/g2uknxvVr-r8zuu_JNgHwzMEWXDS_lCkJkvP0w2nsaraF1iUI-PfsBGgFDAMnSqGiPEN-oG5sg0RR5aQWAqnixT1BRO0RBcsIWEpJ48Jfztk-ioLi0NlKg-fFfHPUxjXg60DReVG)\\n\\nNa printscreenie mo\u017cesz zauwa\u017cy\u0107 output z informacjami jakie generowane s\u0105 przez skrypt.\\n\\n- Czy jeste\u015b zalogowany, je\u015bli nie to poprosi Ci\u0119 o zalogowanie si\u0119\\n- Ilo\u015b\u0107\xa0znalezionych grup zasob\xf3w oraz zasob\xf3w\\n- Informacja gdzie i jakie pliki s\u0105\xa0tworzone\\n- Lista zasob\xf3w\\n\\nPliki CSV wygl\u0105daj\u0105 nast\u0119puj\u0105co:\\n\\n- Resource Group\\n\\n![](https://lh3.googleusercontent.com/XiatuhcE3vx4Lr6g5rkz-JP48TjhJ-ydCdwySuAGgBccaVpVZKD9CfPF5xVpIuzU6IFM7PNj939dMpEviYAR3287SCr6F5y2cM4pu1i8500uzKNdRNSh16t8dX9GSosf7J2oDJFa)\\n\\n- Resources\\n\\n![](https://lh4.googleusercontent.com/m5u5NLpGw8DNyroSByMny-rIZsH11sZMs4tgFMixm_Lepfn0rjNf4XqLET6MvsT3YnK48PesD9GJQUkDtWJIuDKsUh7IolWD7BCDfHSQN4Ug_f6qdWpuPF2ns-8vRmnlRNtWptbp)\\n\\nPoni\u017cej przedstawi\u0119 edycj\u0119 tag\xf3w dla pliku z zasobami.\\n\\n_Uwaga! Je\u015bli chcesz zachowa\u0107 kopi\u0119 obecnego stanu, zabezpiecz wygenerowany plik lub zmie\u0144 jego nazw\u0119 na zupe\u0142nie inn\u0105._\xa0\\n\\nPoprawiony plik wygl\u0105da nast\u0119puj\u0105co. Zauwa\u017c, \u017ce wype\u0142ni\u0142em tagi dla wszystkich obiekt\xf3w oraz doda\u0142em nowy tag: Test:Key, aby pokaza\u0107 jak wygl\u0105da przypisywanie wielu tag\xf3w.\\n\\n![](https://lh6.googleusercontent.com/q4_FhHhAden4hD-gq6IJjhVRras8g-lAgwqCo4evhui6_dSF1wjIt6rZwHV23YbOWIuvlJihRbleddX46VkkUudBByLuX_lfGlrab1_U8Ya14-pdg9Xhrqd7hdzoQqpsxwaseZle)\\n\\nWynik skryptu z wykonanymi zmianami:\\n\\n`Komenda: ./SetTagsResources.ps1 -path /tags`\\n\\n![](https://lh4.googleusercontent.com/49zIzivJeCzwtGRSBFcnzG4X0nr3nbtc1dxgJag7q3_tocRbvBcgu0m_DUf11179BBt1GWpHQalOmsyis3CDnEX3xCpgt-1w1Ic_-bR8KFREpnCOP-aXCxmAjefbS7mU7qJbRvkL)\\n\\nEfekt zmian w Portalu Azure:\\n\\n![](https://lh4.googleusercontent.com/O0XGlppGQzJYWYNOJcfKkxTo0ZcT4Hstc46TWolZUIr4Bi80Tq8P60Z1IwlMDgU-vwQ4yLvuj1cYWb9RYy67Z4BDPvFGjx704b9ZYUVbGNb9EFUatChC8Vv3YnHQi4g_1Lr1ciL2)\\n\\nSkrypt mo\u017cna dostosowa\u0107\xa0do swoich cel\xf3w tak, aby dzia\u0142a\u0142 na przyk\u0142ad dla wielu subskrypcji. Jest wiele opcji customizacji tego skryptu, kt\xf3re celowo pomin\u0105\u0142em. Skrypty dzia\u0142aj\u0105 modu\u0142owo wi\u0119c mo\u017cna ich \u0142atwo u\u017cy\u0107 z innym skryptem, a reszta zostanie przygotowana i wdro\u017cona na podstawie wprowadzonych danych z pliku.\\n\\nZapraszam do pozostawienia komentarza!"},{"id":"wyslanie-zadania-api-z-powershell-do-azure-devops","metadata":{"permalink":"/wyslanie-zadania-api-z-powershell-do-azure-devops","source":"@site/blog/2020-04-13-wyslanie-zadania-api-z-powershell-do-azure-devops/index.md","title":"Wys\u0142anie \u017c\u0105dania API z PowerShell do Azure DevOps","description":"PowerShell to nie tylko automatyzacja za pomoc\u0105 modu\u0142\xf3w. Mo\u017cemy go r\xf3wnie\u017c wykorzysta\u0107 do wysy\u0142ania zapyta\u0144 za pomoc\u0105 API do r\xf3\u017cnych serwis\xf3w. W tym artykule zobaczysz jak to zrobi\u0107.","date":"2020-04-13T00:00:00.000Z","formattedDate":"April 13, 2020","tags":[{"label":"api","permalink":"/tags/api"},{"label":"automation","permalink":"/tags/automation"},{"label":"azure","permalink":"/tags/azure"},{"label":"azure devops","permalink":"/tags/azure-devops"},{"label":"powershell","permalink":"/tags/powershell"}],"readingTime":1.405,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"wyslanie-zadania-api-z-powershell-do-azure-devops","title":"Wys\u0142anie \u017c\u0105dania API z PowerShell do Azure DevOps","description":"PowerShell to nie tylko automatyzacja za pomoc\u0105 modu\u0142\xf3w. Mo\u017cemy go r\xf3wnie\u017c wykorzysta\u0107 do wysy\u0142ania zapyta\u0144 za pomoc\u0105 API do r\xf3\u017cnych serwis\xf3w. W tym artykule zobaczysz jak to zrobi\u0107.","date":"2020-04-13","authors":["progala"],"tags":["api","automation","azure","azure devops","powershell"],"keywords":["justcloud","powershell","api","automatyzacja","automation","azure","microsoft azure","ado","agents"]},"prevItem":{"title":"Przyspieszenie pracy nad tagowaniem zasob\xf3w za pomoc\u0105 PowerShell - Tag raport Microsoft Azure","permalink":"/tags-in-azure"},"nextItem":{"title":"IaC control via PowerShell module for ARM templates","permalink":"/iac-control-via-powershell-module-for-arm-templates"}},"content":"Cz\u0119sto stajemy przed wyzwaniem zintegrowania ze sob\u0105 wielu narz\u0119dzi. Je\u017celi stosujemy PowerShell w celu automatyzacji swojej infrastruktury b\u0105d\u017a budowy prostych skrypt\xf3w mo\u017ce nam si\u0119 przyda\u0107 zastosowanie u\u017cycia wywo\u0142ania \u017c\u0105dania API za pomoc\u0105 PowerShell. Poni\u017cszy przyk\u0142ad zaprezentuje u\u017cycie wys\u0142ania \u017c\u0105dania za pomoc\u0105 API do Azure DevOps w celu dodania puli agentowej.\\n\\nReferencje API do Azure DevOps s\u0105 dost\u0119pne tutaj:\xa0\\n\\n[https://docs.microsoft.com/en-us/rest/api/azure/devops/distributedtask/pools/add?view=azure-devops-rest-5.1](https://docs.microsoft.com/en-us/rest/api/azure/devops/distributedtask/pools/add?view=azure-devops-rest-5.1)\\n\\nPoni\u017cszy przyk\u0142adowy skrypt mo\u017cemy rozbudowa\u0107 dla innych operacji stosuj\u0105c odpowiedni uri dla potrzebnej operacji z powy\u017cszego linku.  \\n\\nNa pocz\u0105tku definiujemy zmienne:  \\n\\n- $urlvsts - URL do naszego projektu Azure DevOps\\n- $token - PAT token (Instrukcja jak wygenerowa\u0107 token: [https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops&tabs=preview-page](https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops&tabs=preview-page))\\n- $pool - nazwa puli, kt\xf3r\u0105 chcemy utworzy\u0107\\n- $encodedPat - przekonwertowanie tokenu na SecureString\\n- $body - informacje do przekazania w wysy\u0142anym \u017c\u0105daniu\\n\\n\x3c!--truncate--\x3e\\n```\\n$urlvsts = \'https://dev.azure.com/PROJECT-NAME\'\\n$token = \'YOUR-PAT-TOKEN\'\\n$pool = \'YOUR-POOL-NAME\'\\n$encodedPat = [System.Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes( \\":$token\\"))\\n$body = \\"{name:`\\"$pool`\\", autoProvision: `\\"true`\\"}\\"\\n```\\nKomenda `Invoke-WebRequest` wykonuje wys\u0142ania \u017c\u0105dania podaj\u0105c wcze\u015bniej zdefiniowane zmienne oraz zawiera Uri, czyli miejsce, w kt\xf3re zapuka \u017c\u0105danie, aby ustawi\u0107 now\u0105 pul\u0119 w Azure DevOps.\\n```\\nInvoke-WebRequest `\\n    -Method POST `\\n    -Uri \\"$urlvsts/_apis/distributedtask/pools?api-version=5.0-  preview.1\\" `\\n    -UseBasicParsing `\\n    -Headers @{Authorization = \\"Basic $encodedPat\\"} `\\n    -Body $body `\\n    -ContentType \\"application/json\\"\\n```\\nScreens:\\n\\nCode:\\n\\n![](images/2020-04-13_14h12_09.png)\\n\\nOutput:\\n\\n![](images/2020-04-13_14h12_53.png)\\n\\nAzure DevOps:\\n\\n![](images/2020-04-13_14h14_02-1024x604.png)\\n\\nW prosty spos\xf3b mo\u017cemy teraz zautomatyzowa\u0107 operacje w Azure DevOps bez uruchamiania portalu. Niestety referencje API dla Azure DevOps nie pozwalaj\u0105 na wszystko co mo\u017cemy wyklika\u0107 w portalu, ale na pewno pomo\u017ce to w osi\u0105gni\u0119ciu celu. Je\u015bli masz ciekawe przypadki u\u017cycia wspomnianego API lub zastanawiasz si\u0119, gdzie mo\u017cna tego u\u017cy\u0107 zapraszam do komentowania.\\n\\nU\u017cycie skryptu mo\u017cecie r\xf3wnie\u017c sprawdzi\u0107 w deploymencie puli agent\xf3w dla Azure DevOps tutaj: [https://github.com/RogalaPiotr/JustCloudPublic/blob/master/simple-vm-with-installation-vsts-agent/vstsagent.ps1](https://github.com/RogalaPiotr/JustCloudPublic/blob/master/simple-vm-with-installation-vsts-agent/vstsagent.ps1)\\n\\nArtyku\u0142 dost\u0119pny r\xf3wnie\u017c na Medium i LinkedIN:\\n\\n- (EN) [https://medium.com/@piotr.rogala/api-request-to-azure-devops-from-powershell-2e2f525dbd7a](https://medium.com/@piotr.rogala/api-request-to-azure-devops-from-powershell-2e2f525dbd7a)\\n- (PL) [https://www.linkedin.com/pulse/wys%C5%82anie-%C5%BC%C4%85dania-api-z-powershell-do-azure-devops-piotr-rogala](https://www.linkedin.com/pulse/wys%C5%82anie-%C5%BC%C4%85dania-api-z-powershell-do-azure-devops-piotr-rogala)"},{"id":"iac-control-via-powershell-module-for-arm-templates","metadata":{"permalink":"/iac-control-via-powershell-module-for-arm-templates","source":"@site/blog/2019-09-15-iac-control-via-powershell-module-for-arm-templates/index.md","title":"IaC control via PowerShell module for ARM templates","description":"Walidowanie szablon\xf3w ARM za pomoc\u0105 modu\u0142u PowerShell jest mo\u017cliwe dzi\u0119ki nowemu modu\u0142owi. U\u017cycie tego modu\u0142u pomo\u017ce Ci sprawdzi\u0107 czy szablon jest poprawny i jakie zmiany wprowadzi na wdra\u017canym \u015brodowisku Azure.","date":"2019-09-15T00:00:00.000Z","formattedDate":"September 15, 2019","tags":[{"label":"arm","permalink":"/tags/arm"},{"label":"azure","permalink":"/tags/azure"},{"label":"iac","permalink":"/tags/iac"},{"label":"module","permalink":"/tags/module"},{"label":"powershell","permalink":"/tags/powershell"},{"label":"templates","permalink":"/tags/templates"}],"readingTime":1.69,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"iac-control-via-powershell-module-for-arm-templates","title":"IaC control via PowerShell module for ARM templates","description":"Walidowanie szablon\xf3w ARM za pomoc\u0105 modu\u0142u PowerShell jest mo\u017cliwe dzi\u0119ki nowemu modu\u0142owi. U\u017cycie tego modu\u0142u pomo\u017ce Ci sprawdzi\u0107 czy szablon jest poprawny i jakie zmiany wprowadzi na wdra\u017canym \u015brodowisku Azure.","authors":["progala"],"date":"2019-09-15","tags":["arm","azure","iac","module","powershell","templates"],"keywords":["justcloud","powershell","arm","template","szablon","automatyzacja","automation","azure","microsoft azure","iac","module"]},"prevItem":{"title":"Wys\u0142anie \u017c\u0105dania API z PowerShell do Azure DevOps","permalink":"/wyslanie-zadania-api-z-powershell-do-azure-devops"},"nextItem":{"title":"Sk\u0105d uczy\u0107 si\u0119 o Microsoft Azure?","permalink":"/skad-uczyc-sie-o-microsoft-azure"}},"content":"Debug natywnych szablon\xf3w ARM jest ci\u0119\u017ckim procesem dla wielu os\xf3b. Utrzymanie infrastruktury jako kod r\xf3wnie\u017c nie jest prost\u0105 spraw\u0105, dlatego cz\u0119sto u\u017cywa si\u0119 Terraforma dla wdro\u017ce\u0144 w Microsoft Azure.\\n\\nSzablony ARM nie posiadaj\u0105 pliku stanu jak to jest w Terraform dlatego cz\u0119sto spotykam si\u0119 z opini\u0105, \u017ce, ARM\'y s\u0105 beznadziejnie. Po wdro\u017ceniu trudno jest utrzyma\u0107 sta\u0142y rozw\xf3j infrastruktury z tego samego szablonu oraz cz\u0119sto problemem jest przewidywalno\u015b\u0107 co si\u0119 stanie z obiektami, kt\xf3re ju\u017c masz. Nie b\u0119d\u0119 si\u0119 rozwodzi\u0142 co lepsze co gorsze, poniewa\u017c wiele zale\u017cy od naszej wiedzy, podej\u015bcia, problemu lub zlecenia, kt\xf3re wykonujemy. Jako In\u017cynier nie przywi\u0105zuje si\u0119 do rozwi\u0105za\u0144 i uwa\u017cam, \u017ce do ka\u017cdego problemu nale\u017cy podchodzi\u0107 indywidualnie. Moim zdaniem najlepsze rozwi\u0105zania to rozwi\u0105zania natywne nie wymagaj\u0105ce tworzenia ko\u0142a na nowo. St\u0105d zach\u0119cam do pisania szablon\xf3w ARM dla Azure.\\n\\nJako pomoc w tworzeniu infrastruktury jako kod (IaC) w Microsoft Azure polecam zapozna\u0107 si\u0119 z modu\u0142em PowerShell: **ARMHelper**\\n\\n[https://www.powershellgallery.com/packages/ARMHelper/0.6.2](https://www.powershellgallery.com/packages/ARMHelper/0.6.2)\\n\\nZa pomoc\u0105 komendy: Test-ARMExistingResource mo\u017cemy zbudowa\u0107 polecenie, kt\xf3re sprawdzi nam wskazany szablon w kontek\u015bcie z deploy\'owanych zasob\xf3w w Azure i wy\u015bwietli co si\u0119 stanie. Przyk\u0142ad poni\u017cej przedstawia stworzon\u0105 resource groupe bez zasob\xf3w:\\n\\nU\u017cy\u0142em szablonu z mojego repo: [https://github.com/RogalaPiotr/JustCloudPublic/tree/master/simple-vm-shutdown-on-time](https://github.com/RogalaPiotr/JustCloudPublic/tree/master/simple-vm-shutdown-on-time)  \\nWykonuje kolejno komendy:\\n\\n\x3c!--truncate--\x3e\\n\\nTworzenie nowej resource grupy:\\n\\n`New-AzResourceGroup -Name \'simple-vm-shutdown-on-time\' -Location westeurope`\\n\\nSprawdzenie co wy\u015bwietli polecenie Test-ARMExistingResource:\\n\\n`Test-ARMExistingResource -ResourceGroupName \'simple-vm-shutdown-on-time\' -TemplateFile .\\\\azuredeploy.json -TemplateParameterFile .\\\\azuredeploy.parameters.json -Verbose`\\n\\n![](images/2019-09-15_12h46_05.png)\\n\\nWynikiem jest informacja co zostanie utworzone. Super sprawa, to teraz zrobi\u0119 deployment szablonu i sprawdzimy ponownie.\\n\\n`New-AzResourceGroupDeployment -ResourceGroupName \'simple-vm-shutdown-on-time\' -TemplateFile .\\\\azuredeploy.json -TemplateParameterFile .\\\\azuredeploy.parameters.json -Verbose`\\n\\nNiestety mia\u0142em problem z modu\u0142em Shutdown i szablon wdro\u017cy\u0142 si\u0119 niepoprawnie, dlatego sprawdzi\u0142em co wy\u015bwietli Test-ARMExistResource.\\n\\n`Test-ARMExistingResource -ResourceGroupName \'simple-vm-shutdown-on-time\' -TemplateFile .\\\\azuredeploy.json -TemplateParameterFile .\\\\azuredeploy.parameters.json -Verbose`\\n\\n![](images/2019-09-15_13h01_42.png)\\n\\nJak wida\u0107 polecenie poprawnie zwr\xf3ci\u0142o co jest do poprawienia i co zostanie zmienione(inkrementalnie).\\n\\nOstatni test to z argumentem \\"-Mode Complete\\" czyli wykonanie szablonu, kt\xf3ry dostosuje wszystkie zasoby niezale\u017cnie od tego co jest stworzone w resource groupie do mojego szablonu.\\n\\n`Test-ARMExistingResource -ResourceGroupName \'simple-vm-shutdown-on-time\' -TemplateFile .\\\\azuredeploy.json -TemplateParameterFile .\\\\azuredeploy.parameters.json -Verbose -Mode Complete`\\n\\n![](images/2019-09-15_13h02_32.png)\\n\\nTeraz mo\u017cna by\u0107 pewniejszym co si\u0119 stanie z wdro\u017ceniem po ma\u0142ych zmianach w szablonie.\\n\\n\\nMam nadzieje \u017ce przyda Ci si\u0119 ta wiedza :)"},{"id":"skad-uczyc-sie-o-microsoft-azure","metadata":{"permalink":"/skad-uczyc-sie-o-microsoft-azure","source":"@site/blog/2018-11-18-skad-uczyc-sie-o-microsoft-azure/index.md","title":"Sk\u0105d uczy\u0107 si\u0119 o Microsoft Azure?","description":"Chcesz zacz\u0105\u0107 nauke o Microsoft Azure? W tym artykule znajdziesz linki, kt\xf3re napewno Ci\u0119 zainteresuj\u0105!","date":"2018-11-18T00:00:00.000Z","formattedDate":"November 18, 2018","tags":[{"label":"azure","permalink":"/tags/azure"},{"label":"course","permalink":"/tags/course"},{"label":"courses","permalink":"/tags/courses"},{"label":"kurs","permalink":"/tags/kurs"},{"label":"kursy","permalink":"/tags/kursy"},{"label":"learn","permalink":"/tags/learn"},{"label":"microsoft azure","permalink":"/tags/microsoft-azure"},{"label":"nauka","permalink":"/tags/nauka"}],"readingTime":1.075,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"skad-uczyc-sie-o-microsoft-azure","title":"Sk\u0105d uczy\u0107 si\u0119 o Microsoft Azure?","description":"Chcesz zacz\u0105\u0107 nauke o Microsoft Azure? W tym artykule znajdziesz linki, kt\xf3re napewno Ci\u0119 zainteresuj\u0105!","authors":["progala"],"date":"2018-11-18","tags":["azure","course","courses","kurs","kursy","learn","microsoft azure","nauka"],"keywords":["justcloud","nauka","azure","microsoft azure","devops"]},"prevItem":{"title":"IaC control via PowerShell module for ARM templates","permalink":"/iac-control-via-powershell-module-for-arm-templates"},"nextItem":{"title":"Auto deployment VM with VSTS agent for pool","permalink":"/auto-deployment-vm-with-vsts-agent-for-pool"}},"content":"Po ostatniej prezentacji naszed\u0142 mnie pomys\u0142 zwi\u0105zany z utworzeniem miejsca sk\u0105d mo\u017cna si\u0119 uczy\u0107 chmury Microsoft Azure. St\u0105d postanowi\u0142em zebra\u0107 interesuj\u0105ce linki w jednym miejscu gdzie znajdziecie rekomendowane przeze mnie jak i przez innych ekspert\xf3w miejsca do nauki. Wi\u0119kszo\u015b\u0107 z poni\u017cszych link\xf3w jest darmowa i takie b\u0119d\u0119 stara\u0142 si\u0119 udost\u0119pnia\u0107. Je\u015bli chcia\u0142by\u015b doda\u0107 ciekawe miejsce, kt\xf3re rekomendujesz dodaj je w komentarzu, pomo\u017ce to w udoskonaleniu listy.\\n\\nJe\u015bli wiesz czego konkretnie szukasz mo\u017cesz u\u017cy\u0107 wyszukiwarki aby skoncentrowa\u0107 si\u0119 na danym problemie: \\n\\n[![](https://img.youtube.com/vi/Rkxg03z2PEo/0.jpg)](https://www.youtube.com/watch?v=Rkxg03z2PEo)\\n\\n\x3c!--truncate--\x3e\\n\\nA, tak na powa\u017cnie mo\u017cesz zaczerpn\u0105\u0107 wiedzy w poni\u017cszych miejscach.\\n\\nGrupa Microsoft Azure User Group Poland na Facebook\'u:\xa0[https://www.facebook.com/groups/azureugpl/](https://www.facebook.com/groups/azureugpl/)\\n\\n**Video:**\\n\\n- Azure Developer:\xa0[https://docs.microsoft.com/pl-pl/learn/browse/?roles=developer&products=azure](https://docs.microsoft.com/pl-pl/learn/browse/?roles=developer&products=azure)\\n- Azure Administrator:\xa0[https://docs.microsoft.com/pl-pl/learn/browse/?roles=administrator&products=azure](https://docs.microsoft.com/pl-pl/learn/browse/?roles=administrator&products=azure)\\n- Azure Solution Architect:\xa0[https://docs.microsoft.com/pl-pl/learn/browse/?roles=solution-architect&products=azure](https://docs.microsoft.com/pl-pl/learn/browse/?roles=solution-architect&products=azure)\\n- Azure Friday:\xa0[https://channel9.msdn.com/Shows/Azure-Friday](https://channel9.msdn.com/Shows/Azure-Friday)\\n- Microsoft Self-paced Labs:\xa0[https://www.microsoft.com/handsonlabs/selfpacedlabs](https://www.microsoft.com/handsonlabs/selfpacedlabs)\\n- Microsoft Virtual Academy:\xa0[https://mva.microsoft.com/search/SearchResults.aspx#!q=azure&orderby=publishedtime&lang=1033](https://mva.microsoft.com/search/SearchResults.aspx#!q=azure&orderby=publishedtime&lang=1033)\\n- Azure Tips and Tricks:\xa0[https://www.michaelcrump.net/azure-tips-and-tricks-complete-list/](https://www.michaelcrump.net/azure-tips-and-tricks-complete-list/)\\n- Pluralsight:\xa0[https://www.pluralsight.com/search?q=azure](https://www.pluralsight.com/search?q=azure)\\n\\n**Blogi\xa0Polskich ekspert\xf3w:**\\n\\n- Micha\u0142 Furmankiewicz: [http://cloudarchitects.pl/](http://cloudarchitects.pl/)\\n- Micha\u0142 Smereczy\u0144ski: [https://lnx.azurewebsites.net/](https://lnx.azurewebsites.net/)\\n- Emil Wasilewski:\xa0[http://zapytajemila.pl/](http://zapytajemila.pl/)\\n- \u0141ukasz Ka\u0142u\u017cny:\xa0[https://kaluzny.io/](https://kaluzny.io/)\\n- Sebastian Fyda:\xa0[http://blog.spiderweb.pl/](http://blog.spiderweb.pl/)\\n- Piotr Rogala:\xa0[https://justcloud.azurewebsites.net/blog/](https://justcloud.azurewebsites.net/blog/)\\n- Szymon Pulka (DEV):\xa0[https://devincloud.pl/](https://devincloud.pl/)\\n- Mateusz Dudek (DEV):\xa0[https://mateuszdudek.pl/blog/](https://mateuszdudek.pl/blog/)\\n\\n**Book\'s**\\n\\n- Free eBooks from Microsoft Press\\n    - Microsoft Azure Essentials: Fundamentals of Azure, Second Edition\\n    - Introduction to Windows Containers\\n    - Microsoft Azure Essentials Migrating SQL Server Databases to Azure\\n    - Microsoft Azure Essentials: Azure Web Apps for Developers\\n- The Developer\u2019s Guide to Microsoft Azure:\xa0[https://azure.microsoft.com/en-us/blog/free-ebook-the-developer-s-guide-to-microsoft-azure-now-available/](https://azure.microsoft.com/en-us/blog/free-ebook-the-developer-s-guide-to-microsoft-azure-now-available/)\\n\\n**Certyfikaty:**\\n\\n- Lista mo\u017cliwych certyfikat\xf3w do zrobienia dot. Azure:\xa0[https://www.microsoft.com/en-us/learning/azure-exams.aspx](https://www.microsoft.com/en-us/learning/azure-exams.aspx)"},{"id":"auto-deployment-vm-with-vsts-agent-for-pool","metadata":{"permalink":"/auto-deployment-vm-with-vsts-agent-for-pool","source":"@site/blog/2018-05-27-auto-deployment-vm-with-vsts-agent-for-pool/index.md","title":"Auto deployment VM with VSTS agent for pool","description":"Azure DevOps agent to wa\u017cny element wszystkich wdro\u017ce\u0144. Potrzebujesz stworzy\u0107 w\u0142asnego agenta ADO? Zobacz jak to zrobi\u0107 w prosty i automatyczny spos\xf3b! Wszystko znajdziesz we wpisie.","date":"2018-05-27T00:00:00.000Z","formattedDate":"May 27, 2018","tags":[{"label":"arm","permalink":"/tags/arm"},{"label":"automation","permalink":"/tags/automation"},{"label":"azure","permalink":"/tags/azure"},{"label":"deplyoment","permalink":"/tags/deplyoment"},{"label":"json","permalink":"/tags/json"},{"label":"microsoft","permalink":"/tags/microsoft"},{"label":"vsts","permalink":"/tags/vsts"},{"label":"ado","permalink":"/tags/ado"}],"readingTime":6.94,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"auto-deployment-vm-with-vsts-agent-for-pool","title":"Auto deployment VM with VSTS agent for pool","description":"Azure DevOps agent to wa\u017cny element wszystkich wdro\u017ce\u0144. Potrzebujesz stworzy\u0107 w\u0142asnego agenta ADO? Zobacz jak to zrobi\u0107 w prosty i automatyczny spos\xf3b! Wszystko znajdziesz we wpisie.","authors":["progala"],"date":"2018-05-27","tags":["arm","automation","azure","deplyoment","json","microsoft","vsts","ado"],"keywords":["justcloud","ado","azure","microsoft azure","devops","agent","pipelines","deployment","azure devops agents"],"hide_table_of_contents":true},"prevItem":{"title":"Sk\u0105d uczy\u0107 si\u0119 o Microsoft Azure?","permalink":"/skad-uczyc-sie-o-microsoft-azure"},"nextItem":{"title":"Google Cloud Platform deployment VM z Ubuntu","permalink":"/google-cloud-platform-deployment-vm-z-ubuntu"}},"content":"Wszyscy kt\xf3ry robi\u0105 depyolemnty z VSTS spotykaj\u0105 si\u0119 z sytuacj\u0105, kiedy standardowe 240min si\u0119 ko\u0144czy i trzeba stworzy\u0107 sobie tak\u0105 maszyn\u0119. Sam robi\u0142em tak\u0105 maszyn\u0119 par\u0119 razy i kiedy zn\xf3w pojawi\u0142a si\u0119 ta konieczno\u015b\u0107 postanowi\u0142em stworzy\u0107 automatyczny deployment kt\xf3ry nam stworzy z JSON\'a ca\u0142a maszynk\u0119 i podepnie j\u0105 do Agent pool w VSTS.\\n\\nMia\u0142em par\u0119 pomys\u0142\xf3w, aby zrobi\u0107 bardzo uniwersalny template kt\xf3ry nie tylko przyda si\u0119 wam, ale r\xf3wnie\u017c mi w przysz\u0142o\u015bci do budowania innych szablon\xf3w. Tak\u017ce w skr\xf3cie opisz\u0119 ciekawostki kt\xf3re zastosowa\u0142em szablonie, kt\xf3ry znajdziecie na moim GitHubie.\\n\\n##### **GitHub**:\xa0[https://github.com/RogalaPiotr/JustCloudPublic/tree/master/simple-vm-with-installation-vsts-agent](https://github.com/RogalaPiotr/JustCloudPublic/tree/master/simple-vm-with-installation-vsts-agent)\\n\\nZa\u0142o\u017cenie dotycz\u0105ce szablonu: chcia\u0142bym doda\u0107 informacj\u0119, gdzie wa\u017cnym jest zwr\xf3cenie uwagi, \u017ce maszyna ma by\u0107 odizolowana od naszej sieci wewn\u0119trznej, dlatego szablon jest infrastruktura stand alone, aby by\u0142o bezpiecznie i w razie czego mo\u017cna j\u0105 usun\u0105 lub powo\u0142a\u0107 wi\u0119cej agent\xf3w do deployment\u2019\xf3w.\\n\\n\x3c!--truncate--\x3e\\n\\n# Opis szablonu\\n\\n## **Sekcja Parameters:**\\n\\nw tej sekcji podajemy dane kt\xf3re przydadz\u0105 nam si\u0119 do deplyment\u2019u i automatycznego pod\u0142\u0105czenia do VSTS\'a.\\n\\n- **adminUsername**, **adminPassword** - lokalny u\u017cytkownik i has\u0142o,\\n- **dnsLabelPrefix** - zostanie automatycznie wygenerowany podczas deployment\u2019u, wi\u0119c nie ma konieczno\u015bci go zmienia\u0107,\\n- **vmName** - nazwa naszej maszyny oraz na podstawie tej nazwy zostan\u0105 nazwane wszystkie nasze resource jest: VNET, NSG, Storage...\\n- **urlvsts** - adres do naszego projektu VSTS np.: https://project1.visualstudio.com,\\n- **auth** - rodzaj po\u015bwiadczenia - wybrany domy\u015blnie PAT,\\n- **token** - token security kt\xf3ry umo\u017cliwi nam pod\u0142\u0105czenie si\u0119 do projektu. Wi\u0119cej informacji jak stworzy\u0107 Security Token poni\u017cej:\\n    - [**https://docs.microsoft.com/en-us/vsts/build-release/actions/agents/v2-windows?view=vsts**](https://docs.microsoft.com/en-us/vsts/build-release/actions/agents/v2-windows?view=vsts)\\n- **pool** - nazwa puli, do kt\xf3rej zostanie dodana maszyna w VSTS\'ie - ustawiony jest na default\\n- **AccessIPNSG** - adres, kt\xf3ry tutaj podacie zostanie dodany do NSG i tylko z tego adresu dostaniecie si\u0119 po RDP do maszyny,\\n- **Tag** - tagi mog\u0105 ulec waszej modyfikacji ustawione s\u0105 na Project: VSTSAgent.\\n\\n## **Sekcja Variables:**\\n\\n- **vmsize** - ustawiony na \\"Standard_B1s\\" - dosy\u0107 tani i wystarczaj\u0105cy na maszyn\u0119 deployment\u2019owy - pami\u0119taj, aby sprawdzi\u0107, czy masz mo\u017cliwo\u015b\u0107 deploy\u2019owania tej maszyny w swojej subskrypcji w innym przypadku zg\u0142o\u015b request do supportu Microsoft w celu uruchomienia wielko\u015bci B_size.\\n- **urldonwloadagent** - w tym miejscu jest podany link do \u015bci\u0105gni\u0119cia aktualnego zip\'a z agentem VSTS - w razie zmiany wersji nale\u017cy zaktualizowa\u0107 link na aktualny\\n- **filescriptURI** - skrypt napisany przeze mnie w celu automatycznego pobrania i zainstalowania agenta na maszynie:\xa0https://raw.githubusercontent.com/RogalaPiotr/JustCloudPublic/master/simple-vm-with-installation-vsts-agent/vstsagent.ps1\\n- **filescriptURISplit** - bardzo ciekawa funkcja, kt\xf3ra rozbija powy\u017cszy url na tekst tam, gdzie jest slah \\"/\\" co w efekcie generuje nam obiekt\\n    - wi\u0119cej ciekawych informacji w dokumentacji Microsoft:\xa0**[https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-template-functions](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-template-functions)**\\n- **filescriptName** - kolejna fajna funkcja, gdzie na podstawie powy\u017cszego splita zabieramy nazw\u0119 skryptu, kt\xf3ry pos\u0142u\u017cy nam do instalacji w CustomScriptExtension,\\n- **agentname** - ka\u017cdy dodany Agent do puli w VSTS b\u0119dzie nosi\u0142 nazw\u0119 NazwaMaszynyagent.\\n\\n## **Sekcja Resources:**\\n\\n- **type: Microsoft.Network/networkSecurityGroups** - NSG z dost\u0119pem RDP tylko z adresu IP kt\xf3ry dodamy podczas deploy\u2019mentu parametr: AccessIPNSG\\n- **type: Microsoft.Network/publicIPAddresses** - Publiczny adres dla naszej VM, aby m\xf3c si\u0119 do niej pod\u0142\u0105czy\u0107 z zewn\u0105trz.\\n- **type: Microsoft.Network/virtualNetworks** - VNet\\n- **type: Microsoft.Compute/virtualMachines** - tworzenie maszyny wirtualnej z Windows 2016 i Managed Disk\\n    - **type: Microsoft.Compute/virtualMachines/extensions** - instalacja agenta VSTS, bazuj\u0105c na napisanym skrypcie i udost\u0119pnionym na GitHubie:\xa0vstsagent.ps1 zostanie on u\u017cyty podczas deplyoment\u2019u a podczas jego wykonywaniu dodamy informacj\u0119 zwi\u0105zane z url VSTS, tokenem itp. Pe\u0142na komenda w linii 257: \\"commandToExecute\\"\\n- **type: Microsoft.DevTestLab/schedules** - dzi\u0119ki temu nasza maszynie b\u0119dzie wy\u0142\u0105czana codziennie o 18:00 zona: W. Europe Standard Time - ten feature dzia\u0142a tylko kiedy maszyna jest w\u0142\u0105czona pozwoli to nam zapomnie\u0107 o wy\u0142\u0105czaniu, a mimo wszystko nie b\u0119dziemy traci\u0107 pieni\u0119dzy za jej bezczynno\u015b\u0107.\\n\\n## **Sekcja Outputs:**\\n\\n- **PublicDNS** - po wykonaniu deployment\u2019u wy\u015bwietli nam publiczny adres DNS dla VM,\\n- **Hostname** - wy\u015bwietli nazw\u0119 maszyny, kt\xf3r\u0105 wprowadzili\u015bmy w parametrach,\\n- **VSTSAgentName** - wy\u015bwietli nazw\u0119 agenta jaka b\u0119dzie widoczna w VSTS,\\n- **VSTSProjectName** - wy\u015bwietli nazw\u0119 projektu VSTS jaki zosta\u0142 wprowadzony,\\n- **ScriptURI** - wy\u015bwietli \u017ar\xf3d\u0142o z jakiego zosta\u0142 pobrany skrypt do instalacji Agenta,\\n- **AccessRDPFrom** - wy\u015bwietli adres IP kt\xf3ry zosta\u0142 dodany do NSG, aby mia\u0142 dost\u0119p do RDP\\n\\n# Szablon:\\n```\\n{\\n  \\"$schema\\": \\"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\\",\\n  \\"contentVersion\\": \\"1.0.0.0\\",\\n  \\"parameters\\": {\\n    \\"adminUsername\\": {\\n      \\"type\\": \\"string\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"Username for the Virtual Machine.\\"\\n      }\\n    },\\n    \\"adminPassword\\": {\\n      \\"type\\": \\"securestring\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"Password for the Virtual Machine.\\"\\n      }\\n    },\\n    \\"dnsLabelPrefix\\": {\\n      \\"type\\": \\"string\\",\\n      \\"defaultValue\\": \\"[concat(\'x\', uniqueString(resourceGroup().id))]\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"Unique DNS Name for the Public IP used to access the Virtual Machine.\\"\\n      }\\n    },\\n    \\"vmName\\": {\\n      \\"type\\": \\"string\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"Unique DNS Name for the Public IP used to access the Virtual Machine.\\"\\n      }\\n    },\\n    \\"urlvsts\\": {\\n      \\"type\\": \\"string\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"URL for your VSTS Project ex. https://project1.visualstudio.com.\\"\\n      }\\n    },\\n    \\"auth\\": {\\n      \\"type\\": \\"string\\",\\n      \\"defaultValue\\": \\"pat\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"Unique DNS Name for the Public IP used to access the Virtual Machine.\\"\\n      }\\n    },\\n    \\"token\\": {\\n      \\"type\\": \\"securestring\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"Security token for VSTS project.\\"\\n      }\\n    },\\n    \\"pool\\": {\\n      \\"type\\": \\"string\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"Pool name in VSTS - Default is a main.\\"\\n      }\\n    },\\n    \\"AccessIPNSG\\": {\\n      \\"type\\": \\"string\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"Your publif IP it will added for NSG for connection via RDP.\\"\\n      }\\n    },\\n    \\"numberagents\\": {\\n      \\"type\\": \\"int\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"Numbers of agents for installation\\"\\n      }\\n    },\\n    \\"tag\\": {\\n      \\"type\\": \\"string\\",\\n      \\"metadata\\": {\\n          \\"description\\": \\"Tag Values\\"\\n      }\\n  }\\n},\\n  \\"variables\\": {\\n    \\"storageAccountName\\": \\"[concat(\'stor\', uniquestring(resourceGroup().id))]\\",\\n    \\"windowsOSVersion\\": \\"2019-Datacenter\\",\\n    \\"vmsize\\": \\"Standard_B2ms\\",\\n    \\"publicIPAddressName\\": \\"[concat(parameters(\'vmName\'), \'-pip\')]\\",\\n    \\"virtualNetworkName\\": \\"[concat(parameters(\'vmName\'), \'-vnet\')]\\",\\n    \\"NSGname\\": \\"[concat(parameters(\'vmName\'), \'-nsg\')]\\",\\n    \\"nicName\\": \\"[concat(parameters(\'vmName\'), \'-nic\')]\\",\\n    \\"subnetName\\": \\"[concat(parameters(\'vmName\'), \'-subnet\')]\\",\\n    \\"addressPrefix\\": \\"10.0.0.0/16\\",\\n    \\"subnetPrefix\\": \\"10.0.0.0/24\\",\\n    \\"subnetRef\\": \\"[resourceId(\'Microsoft.Network/virtualNetworks/subnets\', variables(\'virtualNetworkName\'), variables(\'subnetName\'))]\\",\\n    \\"urldonwloadagent\\": \\"https://vstsagentpackage.azureedge.net/agent/2.155.1/vsts-agent-win-x64-2.155.1.zip\\",\\n    \\"filescriptURI\\": \\"https://raw.githubusercontent.com/RogalaPiotr/JustCloudPublic/master/simple-vm-with-installation-vsts-agent/vstsagent.ps1\\",\\n    \\"filescriptURISplit\\": \\"[split(variables(\'filescriptURI\'), \'/\')]\\",\\n    \\"filescriptName\\": \\"[last(variables(\'filescriptURISplit\'))]\\",\\n    \\"agentname\\": \\"[parameters(\'vmName\')]\\"\\n  },\\n  \\"resources\\": [\\n    {\\n      \\"type\\": \\"Microsoft.Storage/storageAccounts\\",\\n      \\"name\\": \\"[variables(\'storageAccountName\')]\\",\\n      \\"apiVersion\\": \\"2015-06-15\\",\\n      \\"location\\": \\"[resourceGroup().location]\\",\\n      \\"tags\\": {\\n        \\"Project\\": \\"[parameters(\'tag\')]\\"\\n      },\\n      \\"properties\\": {\\n        \\"accountType\\": \\"Standard_LRS\\"\\n      }\\n    },\\n    {\\n      \\"type\\": \\"Microsoft.Network/networkSecurityGroups\\",\\n      \\"name\\": \\"[variables(\'NSGName\')]\\",\\n      \\"location\\": \\"[resourceGroup().location]\\",\\n      \\"tags\\": {\\n        \\"Project\\": \\"[parameters(\'tag\')]\\"\\n      },\\n      \\"apiVersion\\": \\"2018-03-01\\",\\n      \\"properties\\": {\\n        \\"securityRules\\": [\\n          {\\n            \\"name\\": \\"RDP\\",\\n            \\"properties\\": {\\n              \\"description\\": \\"Allow IP for RDP\\",\\n              \\"protocol\\": \\"TCP\\",\\n              \\"sourcePortRange\\": \\"*\\",\\n              \\"destinationPortRange\\": \\"3389\\",\\n              \\"sourceAddressPrefix\\": \\"[parameters(\'AccessIPNSG\')]\\",\\n              \\"destinationAddressPrefix\\": \\"*\\",\\n              \\"access\\": \\"Allow\\",\\n              \\"priority\\": 100,\\n              \\"direction\\": \\"Inbound\\"\\n            }\\n          }\\n        ]\\n      }\\n    },\\n    {\\n      \\"apiVersion\\": \\"2016-03-30\\",\\n      \\"type\\": \\"Microsoft.Network/publicIPAddresses\\",\\n      \\"name\\": \\"[variables(\'publicIPAddressName\')]\\",\\n      \\"location\\": \\"[resourceGroup().location]\\",\\n      \\"tags\\": {\\n        \\"Project\\": \\"[parameters(\'tag\')]\\"\\n      },\\n      \\"properties\\": {\\n        \\"publicIPAllocationMethod\\": \\"Dynamic\\",\\n        \\"dnsSettings\\": {\\n          \\"domainNameLabel\\": \\"[parameters(\'dnsLabelPrefix\')]\\"\\n        }\\n      }\\n    },\\n    {\\n      \\"apiVersion\\": \\"2016-03-30\\",\\n      \\"type\\": \\"Microsoft.Network/virtualNetworks\\",\\n      \\"name\\": \\"[variables(\'virtualNetworkName\')]\\",\\n      \\"dependsOn\\": [\\n        \\"[resourceId(\'Microsoft.Network/networkSecurityGroups/\', variables(\'NSGName\'))]\\"\\n      ],\\n      \\"location\\": \\"[resourceGroup().location]\\",\\n      \\"tags\\": {\\n        \\"Project\\": \\"[parameters(\'tag\')]\\"\\n      },\\n      \\"properties\\": {\\n        \\"addressSpace\\": {\\n          \\"addressPrefixes\\": [\\n            \\"[variables(\'addressPrefix\')]\\"\\n          ]\\n        },\\n        \\"subnets\\": [\\n          {\\n            \\"name\\": \\"[variables(\'subnetName\')]\\",\\n            \\"properties\\": {\\n              \\"addressPrefix\\": \\"[variables(\'subnetPrefix\')]\\",\\n              \\"networkSecurityGroup\\": {\\n                \\"id\\": \\"[resourceId(\'Microsoft.Network/networkSecurityGroups\',variables(\'NSGName\'))]\\"\\n            }\\n            }\\n          }\\n        ]\\n      }\\n    },\\n    {\\n      \\"apiVersion\\": \\"2016-03-30\\",\\n      \\"type\\": \\"Microsoft.Network/networkInterfaces\\",\\n      \\"name\\": \\"[variables(\'nicName\')]\\",\\n      \\"location\\": \\"[resourceGroup().location]\\",\\n      \\"tags\\": {\\n        \\"Project\\": \\"[parameters(\'tag\')]\\"\\n      },\\n      \\"dependsOn\\": [\\n        \\"[resourceId(\'Microsoft.Network/publicIPAddresses/\', variables(\'publicIPAddressName\'))]\\",\\n        \\"[resourceId(\'Microsoft.Network/virtualNetworks/\', variables(\'virtualNetworkName\'))]\\"\\n      ],\\n      \\"properties\\": {\\n        \\"ipConfigurations\\": [\\n          {\\n            \\"name\\": \\"ipconfig1\\",\\n            \\"properties\\": {\\n              \\"privateIPAllocationMethod\\": \\"Dynamic\\",\\n              \\"publicIPAddress\\": {\\n                \\"id\\": \\"[resourceId(\'Microsoft.Network/publicIPAddresses\',variables(\'publicIPAddressName\'))]\\"\\n              },\\n              \\"subnet\\": {\\n                \\"id\\": \\"[variables(\'subnetRef\')]\\"\\n              }\\n            }\\n          }\\n        ]\\n      }\\n    },\\n    {\\n      \\"apiVersion\\": \\"2016-04-30-preview\\",\\n      \\"type\\": \\"Microsoft.Compute/virtualMachines\\",\\n      \\"name\\": \\"[parameters(\'vmName\')]\\",\\n      \\"location\\": \\"[resourceGroup().location]\\",\\n      \\"tags\\": {\\n        \\"Project\\": \\"[parameters(\'tag\')]\\"\\n      },\\n      \\"dependsOn\\": [\\n        \\"[resourceId(\'Microsoft.Network/networkInterfaces/\', variables(\'nicName\'))]\\",\\n        \\"[concat(\'Microsoft.Storage/storageAccounts/\', variables(\'storageAccountName\'))]\\"\\n      ],\\n      \\"properties\\": {\\n        \\"licenseType\\": \\"Windows_Server\\",\\n        \\"hardwareProfile\\": {\\n          \\"vmSize\\": \\"[variables(\'vmsize\')]\\"\\n        },\\n        \\"osProfile\\": {\\n          \\"computerName\\": \\"[parameters(\'vmName\')]\\",\\n          \\"adminUsername\\": \\"[parameters(\'adminUsername\')]\\",\\n          \\"adminPassword\\": \\"[parameters(\'adminPassword\')]\\"\\n        },\\n        \\"storageProfile\\": {\\n          \\"imageReference\\": {\\n            \\"publisher\\": \\"MicrosoftWindowsServer\\",\\n            \\"offer\\": \\"WindowsServer\\",\\n            \\"sku\\": \\"[variables(\'windowsOSVersion\')]\\",\\n            \\"version\\": \\"latest\\"\\n          },\\n          \\"osDisk\\": {\\n            \\"name\\": \\"[concat(parameters(\'vmName\'),\'-os\')]\\",\\n            \\"vhd\\": {\\n              \\"uri\\": \\"[concat(\'http://\',variables(\'storageAccountName\'),\'.blob.core.windows.net/vhds/\',parameters(\'vmName\'),\'-vm-os.vhd\')]\\"\\n            },\\n            \\"caching\\": \\"ReadWrite\\",\\n            \\"createOption\\": \\"FromImage\\"\\n          }\\n        },\\n        \\"networkProfile\\": {\\n          \\"networkInterfaces\\": [\\n            {\\n              \\"id\\": \\"[resourceId(\'Microsoft.Network/networkInterfaces\',variables(\'nicName\'))]\\"\\n            }\\n          ]\\n        }\\n      },\\n      \\"resources\\": [\\n        {\\n          \\"name\\": \\"[concat(parameters(\'vmName\'),\'/AzureDevOpsAgentInstall\')]\\",\\n          \\"type\\": \\"Microsoft.Compute/virtualMachines/extensions\\",\\n          \\"location\\": \\"[resourceGroup().location]\\",\\n          \\"tags\\": {\\n            \\"Project\\": \\"[parameters(\'tag\')]\\"\\n          },\\n          \\"dependsOn\\": [\\n            \\"[concat(\'Microsoft.Compute/virtualMachines/\', parameters(\'vmName\'))]\\"\\n          ],\\n          \\"apiVersion\\": \\"2015-06-15\\",\\n          \\"properties\\": {\\n            \\"publisher\\": \\"Microsoft.Compute\\",\\n            \\"type\\": \\"CustomScriptExtension\\",\\n            \\"typeHandlerVersion\\": \\"1.9\\",\\n            \\"autoUpgradeMinorVersion\\": true,\\n            \\"settings\\": {\\n              \\"fileUris\\": [\\n                \\"[variables(\'filescriptURI\')]\\"\\n                ]\\n            },\\n            \\"protectedSettings\\": {\\n              \\"commandToExecute\\": \\"[concat(\'powershell -ExecutionPolicy Unrestricted -File \',variables(\'filescriptName\'),\' -url \',variables(\'urldonwloadagent\'),\' -urlvsts \',parameters(\'urlvsts\'),\' -auth \',parameters(\'auth\'),\' -token \',parameters(\'token\'),\' -pool \',parameters(\'pool\'),\' -agentname \',variables(\'agentname\'), \' -numberagents \',parameters(\'numberagents\'))]\\"\\n            }\\n          }\\n        }\\n      ]\\n    },\\n    {\\n      \\"apiVersion\\": \\"2016-05-15\\",\\n      \\"type\\": \\"Microsoft.DevTestLab/schedules\\",\\n      \\"name\\": \\"[concat(\'shutdown-computevm-\', parameters(\'vmName\'))]\\",\\n      \\"location\\": \\"[resourceGroup().location]\\",\\n      \\"tags\\": {\\n        \\"Project\\": \\"[parameters(\'tag\')]\\"\\n      },\\n      \\"dependsOn\\": [\\n        \\"[resourceId(\'Microsoft.Compute/virtualMachines/\', parameters(\'vmName\'))]\\"\\n      ],\\n      \\"properties\\": {\\n        \\"status\\":\\"Enabled\\",\\n        \\"timeZoneId\\":\\"W. Europe Standard Time\\",\\n        \\"taskType\\":\\"ComputeVmShutdownTask\\",\\n        \\"notificationSettings\\":{\\n          \\"status\\":\\"Disabled\\",\\n          \\"timeInMinutes\\":15,\\n          \\"webhookUrl\\":null\\n        },\\n        \\"targetResourceId\\":\\"[resourceId(\'Microsoft.Compute/virtualMachines\', parameters(\'vmName\'))]\\",\\n        \\"dailyRecurrence\\":{\\n          \\"time\\":\\"1800\\"\\n        }\\n      }\\n    }\\n  ],\\n  \\"outputs\\": {\\n    \\"PublicDNS\\": {\\n      \\"type\\" : \\"string\\",\\n      \\"value\\": \\"[reference(variables(\'publicIPAddressName\')).dnsSettings.fqdn]\\"\\n    },\\n    \\"HostName\\": {\\n      \\"type\\" : \\"string\\",\\n      \\"value\\": \\"[parameters(\'vmName\')]\\"\\n    },\\n    \\"VSTSAgentName\\": {\\n      \\"type\\" : \\"string\\",\\n      \\"value\\": \\"[variables(\'agentname\')]\\"\\n    },  \\n    \\"VSTSProjectName\\": {\\n      \\"type\\" : \\"string\\",\\n      \\"value\\": \\"[parameters(\'urlvsts\')]\\"\\n    },  \\n    \\"ScritpURI\\": {\\n      \\"type\\" : \\"string\\",\\n      \\"value\\": \\"[variables(\'filescriptURI\')]\\"\\n    },\\n    \\"AccessRDPFrom\\": {\\n      \\"type\\" : \\"string\\",\\n      \\"value\\": \\"[parameters(\'accessIPNSG\')]\\"\\n    }\\n  }\\n}\\n```\\n\\n# **Przyk\u0142ad:**\\n\\n### **Aby wykona\u0107 deployment nale\u017cy utworzy\u0107 Resource Group\'\u0119:**\\n\\n`New-AzureRMResourceGroup -Name VSTS -Location westeurope`\\n\\n### **Wykonanie deployment\u2019u:**\\n\\n`New-AzureRMResourceGroupDeployment -ResourceGroupName VSTS -TemplateURI \\"https://raw.githubusercontent.com/RogalaPiotr/JustCloudPublic/master/simple-vm-with-installation-vsts-agent/azuredeploy.json\\" -Verbose`\\n\\n**Efekt w portalu po deploy\u2019mencie:**\\n\\n![](images/Clipboard21.jpg)\\n\\n**Widok puli agent\xf3w w VSTS:**\\n\\n![](images/Clipboard22.jpg)\\n\\nMaszyna jest gotowa do deploy\u2019ment\xf3w, je\u015bli potrzebujesz wi\u0119cej maszyn mo\u017cesz bez oporu deploy\u2019owa\u0107 wi\u0119ksz\u0105 ilo\u015b\u0107 :)\\n\\nCzas deplymentu to: 15 minutes 46 seconds."},{"id":"google-cloud-platform-deployment-vm-z-ubuntu","metadata":{"permalink":"/google-cloud-platform-deployment-vm-z-ubuntu","source":"@site/blog/2017-10-08-google-cloud-platform-deployment-vm-z-ubuntu/index.md","title":"Google Cloud Platform deployment VM z Ubuntu","description":"Pierwszy deployment w Google Cloud Platform nie musi by\u0107 trudny. Zapraszam to sprawdzenia rozwi\u0105za\u0144 dost\u0119pnyw GCP, a zaczniemy od wdro\u017cenia wirtualnej maszyny za pomoc\u0105 szablonu.","date":"2017-10-08T00:00:00.000Z","formattedDate":"October 8, 2017","tags":[{"label":"gcloud","permalink":"/tags/gcloud"},{"label":"gcp","permalink":"/tags/gcp"},{"label":"google cloud-platform","permalink":"/tags/google-cloud-platform"},{"label":"ubuntu","permalink":"/tags/ubuntu"}],"readingTime":1.43,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"google-cloud-platform-deployment-vm-z-ubuntu","title":"Google Cloud Platform deployment VM z Ubuntu","description":"Pierwszy deployment w Google Cloud Platform nie musi by\u0107 trudny. Zapraszam to sprawdzenia rozwi\u0105za\u0144 dost\u0119pnyw GCP, a zaczniemy od wdro\u017cenia wirtualnej maszyny za pomoc\u0105 szablonu.","date":"2017-10-08","authors":["progala"],"tags":["gcloud","gcp","google cloud-platform","ubuntu"],"keywords":["justcloud","gcp","azure","devops","template","szablon","google cloud platform","ubuntu"],"hide_table_of_contents":true},"prevItem":{"title":"Auto deployment VM with VSTS agent for pool","permalink":"/auto-deployment-vm-with-vsts-agent-for-pool"},"nextItem":{"title":"Delete VM and create again based on .vhd","permalink":"/delete-vm-and-create-again-based-on-vhd"}},"content":"Zastanawiali\u015bcie si\u0119 jak dzia\u0142aj\u0105 szablony w Google Cloud Platform? Mia\u0142em jaki\u015b czas temu mo\u017cliwo\u015b\u0107 dowiedzie\u0107 si\u0119 jak to dzia\u0142a, dlatego postanowi\u0142em zrobi\u0107 ma\u0142y wpis na ten temat. Czym jest GCP (Google Cloud Platform)? Je\u015bli wiesz czym jest Azure i Amazon Web Services (AWS) to GCP jest kolejnym dostawc\u0105 z podobnymi rozwi\u0105zaniami. Od ponad roku GCP jest pr\u0119\u017cnie rozwijane w stron\u0119 rynku wirtualnych maszyn i web serwis\xf3w wychodz\u0105c na przeciw AWS\'owi i Azure\'owi powsta\u0142 portal analogicznie podobny do zarz\u0105dzania w\u0142asnymi projektami mo\u017cna to odwzorowa\u0107 tak jakby do subskrypcji w Azure.\\n\\nPortal: [https://console.cloud.google.com](https://console.cloud.google.com)\\n\\n[![](images/capture_010_08102017_140927.jpg)](images/capture_010_08102017_140927.jpg)\\n\\nGoogle udost\u0119pnia w\u0142asne CLI do zarz\u0105dzania projektami:\xa0[https://cloud.google.com/sdk/](https://cloud.google.com/sdk/) po instalacji SDK mo\u017cemy u\u017cywa\u0107 komend np. do deploymentu. Deploment wirtualnej maszyny r\xf3\u017cni si\u0119 znacz\u0105co od tych kt\xf3rych u\u017cywamy w Azure i AWS, maj\u0105 one rozszerzenia. jinja lub. yaml gdzie mo\u017cemy wspomaga\u0107 nasz deployment plikami python\'owymi .py. Daje to nam du\u017ce mo\u017cliwo\u015bci konstruowania skomplikowanych delpoyment\xf3w.\\n\\n\x3c!--truncate--\x3e\\n\\nZajrzyjmy do przygotowanego przeze mnie deploymentu VM z systemem ubuntu:\xa0[https://github.com/RogalaPiotr/JustCloudPublic/blob/master/gcloud-simple-ubuntu](https://github.com/RogalaPiotr/JustCloudPublic/blob/master/gcloud-simple-ubuntu)\\n\\nW poni\u017cszym kodzie nale\u017cy zaktualizowa\u0107 go o warto\u015bci nazwy projektu podmieniaj\u0105c \\"warto\u015b\u0107 your-project-name\\", plik vm .yaml:\\n\\n```\\nresources:\\n- type: compute.v1.instance\\n  name: simple-ubuntu\\n  properties:\\n    zone: europe-west1-c\\n    machineType: projects/your-project-name/zones/europe-west1-c/machineTypes/f1-micro\\n    disks:\\n    - deviceName: boot\\n      type: PERSISTENT\\n      boot: true\\n      autoDelete: true\\n      initializeParams:\\n        sourceImage: projects/your-project-name/global/images/ubuntu-1604-xenial-v20170815a\\n        diskType: projects/your-project-name/zones/europe-west1-c/diskTypes/pd-standard\\n    networkInterfaces:\\n    - network: projects/your-project-name/global/networks/default\\n      accessConfigs:\\n      - name: External NAT\\n        type: ONE_TO_ONE_NAT\\n```\\nNa pierwszy rzut oka plik nie jest skomplikowany, poniewa\u017c plik .yaml jest tylko skr\xf3tem definicji kt\xf3re s\u0105 wysy\u0142ane dalej do schematu gdzie pod spodem ma du\u017co wi\u0119cej funkcji, kt\xf3rych nie musimy definiowa\u0107.\\n\\nPo zalogowaniu si\u0119 z cmd do GCP mo\u017cemy wywo\u0142a\u0107 powy\u017cszy deployment u\u017cywaj\u0105c polecenia:\\n\\n`gcloud deployment-manager deployments create simple-ubuntu --config vm.yaml`\\n\\nPo wykonaniu tego polecenia rozpocznie si\u0119 deployment a nast\u0119pnie zostanie uruchomiona maszyna z systemem ubuntu. Zapraszam do testowania i zadawani pyta\u0144.\\n\\n![](images/capture_012_08102017_145512.jpg)\\n\\n![](images/capture_013_08102017_145520.jpg)\\n\\n![](images/capture_014_08102017_145606.jpg)"},{"id":"delete-vm-and-create-again-based-on-vhd","metadata":{"permalink":"/delete-vm-and-create-again-based-on-vhd","source":"@site/blog/2017-09-30-delete-vm-and-create-again-based-on-vhd/index.md","title":"Delete VM and create again based on .vhd","description":"Rekreowanie maszyny z istniej\u0105cego dysku mo\u017ce by\u0107 konieczne kiedy mamy migracj\u0119\xa0lub problemy z maszyn\u0105. Ten artyku\u0142 opisuje jak sprawnie przej\u015b\u0107 przed ten proces.","date":"2017-09-30T00:00:00.000Z","formattedDate":"September 30, 2017","tags":[{"label":"azure","permalink":"/tags/azure"},{"label":"blob","permalink":"/tags/blob"},{"label":"devops","permalink":"/tags/devops"},{"label":"powershell","permalink":"/tags/powershell"},{"label":"storage","permalink":"/tags/storage"},{"label":"vm","permalink":"/tags/vm"},{"label":"migracja","permalink":"/tags/migracja"}],"readingTime":3.38,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"delete-vm-and-create-again-based-on-vhd","title":"Delete VM and create again based on .vhd","description":"Rekreowanie maszyny z istniej\u0105cego dysku mo\u017ce by\u0107 konieczne kiedy mamy migracj\u0119\xa0lub problemy z maszyn\u0105. Ten artyku\u0142 opisuje jak sprawnie przej\u015b\u0107 przed ten proces.","date":"2017-09-30","authors":["progala"],"tags":["azure","blob","devops","powershell","storage","vm","migracja"],"keywords":["powershell","azure","microsoft azure","storage account","vhd","migracja","migration","network","sie\u0107","blog"],"hide_table_of_contents":true},"prevItem":{"title":"Google Cloud Platform deployment VM z Ubuntu","permalink":"/google-cloud-platform-deployment-vm-z-ubuntu"},"nextItem":{"title":"Deployment maszyny z funkcj\u0105 Auto-Shutdown  za pomoc\u0105 szablonu arm","permalink":"/deployment-maszyny-z-funkcja-auto-shutdown-za-pomoca-szablonu-arm"}},"content":"W tej cz\u0119\u015bci tytu\u0142 jest angielski,\xa0poniewa\u017c nie stosuje spolszcze\u0144 dla technicznego j\u0119zyka. Ten post jest spowodowany tym co Microsoft niestety przesta\u0142 wspiera\u0107 w Azure a mianowicie breaklease dla blob\xf3w podpi\u0119tych do wirtualnej maszyny. By\u0142o mi to potrzebne do jednego zadania, dlatego by\u0142em zmuszony zrobi\u0107 co\u015b innego. Mianowicie potrzebne mi by\u0142o usuni\u0119cie maszyny i stworzenie jej bazuj\u0105c na istniej\u0105cych vhd\'kach w innym kontenerze dodatkowo moje za\u0142o\u017cenie wymaga\u0142o powershell\'a. W skr\xf3cie odtworzenie maszyny z jakiego\u015b stanu, kt\xf3ry jest przechowywany jako kopia dysk\xf3w wirtualnej maszyny. My\u015bl\u0119, \u017ce s\u0105 osoby, kt\xf3rym si\u0119 to przyda.\\n\\nKr\xf3tki opis:\\n\\n1. Podajemy nazw\u0119 maszyny lub list\u0119 maszyn z naszej subskrypcji.\\n2. Na podstawie nazwy maszyny znajdujemy resource groupe.\\n3. Wy\u0142\u0105czamy maszyn\u0119.\\n4. Na podstawie RG i nazwy VM sprawdzamy jakie dyski s\u0105 podpi\u0119te do maszyny.\\n5. Znajdujemy sobie context dla dysk\xf3w.\\n6. Maj\u0105c wszystkie dane przechodzimy do usuwania maszyny.\\n7. Usuwany obecny vhd z OS.\\n8. Kopiujemy w jego miejsce wcze\u015bniej skopiowany vhd z kontenera \\"images\\".\\n9. Przeprowadzamy dalej t\u0105 sam\u0105 operacje dla wszystkich podpi\u0119tych dysk\xf3w data.\\n10. Na podstawie wszystkich zebranych wcze\u015bniej danych tworzymy wirtualn\u0105 maszyn\u0119.\\n\\n\x3c!--truncate--\x3e\\n\\nPuenta jest taka. Je\u015bli oka\u017ce si\u0119, \u017ce kt\xf3rego\u015b razu Microsoft Support powie wam, \u017ce trzeba usun\u0105\u0107 maszyn\u0119 i stworzy\u0107 j\u0105 ponownie dzi\u0119ki temu skryptowi mo\u017cecie to zrobi\u0107 zaledwie w 5 minut i potwierdzi\u0107, czy to pomog\u0142o czy diagnoza Supportu by\u0142a niew\u0142a\u015bciwa. Zdarza si\u0119, \u017ce MS sugeruje usuni\u0119cie maszyny i stworzenie jej ponownie i maj\u0105c np. 5 maszyn wiecie, \u017ce nie jest to zabawa na 5 minut. Ale teraz wykorzystuj\u0105c ten skrypt mo\u017cecie to zrobi\u0107. Wcze\u015bniejszym etapem b\u0119dzie poprawienie skryptu, aby nie usuwa\u0107 dysk\xf3w vhd tylko u\u017cy\u0107 obecnych. Natomiast je\u015bli chcecie zrobi\u0107 sobie kopie bezpiecze\u0144stwa dysk\xf3w vhd to b\u0119dzie nale\u017ce\u0107 przeprowadzi\u0107 procedur\u0119 wy\u0142\u0105czenia maszyn skopiowania vhd\'k\xf3w np. do kontenera \\"images\\" i pu\u015bci\u0107 poni\u017cszy skrypt.\\n\\nSkrpyt w bardziej czytelnej formie na github:\xa0[https://github.com/RogalaPiotr/JustCloudPublic/tree/master/recreate-vm-from-vhd](https://github.com/RogalaPiotr/JustCloudPublic/tree/master/recreate-vm-from-vhd)\\n\\n```\\n$vms = @(\\"SimpleWindowsVM\\")\\n$sourcecontainerimage = \\"images\\"\\nfunction recreatevms {\\n    foreach ($vm in $vms) {\\n        Write-Host \\"VM name: \\"$vm\\n        $vmrg = Get-AzureRmResource | Where-Object {$_.Name -like $vm}\\n        Write-Host \\"VM Resource Group: \\"$vmrg.ResourceGroupName\\n        $vmsize = (Get-AzureRmVM -ResourceGroupName $vmrg.ResourceGroupName -VMName $vm).HardwareProfile.VmSize\\n        Write-Host \\"VM size: \\"$vmsize\\n        $nicvm = Get-AzureRmNetworkInterface -ResourceGroupName $vmrg.ResourceGroupName | Where-Object {$_.VirtualMachine.Id -like \\"*$vm*\\"}\\n        Write-Host \\"VM NIC name: \\"$nicvm.Name\\n        $vmstatus = Get-AzureRmVM -ResourceGroupName $vmrg.ResourceGroupName -Name $vm -Status\\n        Write-Host \\"VM status is: \\"$vmstatus.Statuses.DisplayStatus[1]\\n        if($vmstatus.Statuses.DisplayStatus -like \\"*running*\\"){\\n            Write-Host \\"VM stopping: \\"$vm\\n            $tmp = Stop-AzureRmVM -ResourceGroupName $vmrg.ResourceGroupName -Name $vm -Force\\n        }\\n        $vmdiskos = ((Get-AzureRmVM -ResourceGroupName $vmrg.ResourceGroupName -Name $vm).StorageProfile).OsDisk 3> $null\\n        $vmdisksdata = ((Get-AzureRmVM -ResourceGroupName $vmrg.ResourceGroupName -Name $vm).StorageProfile).DataDisks 3> $null\\n        Write-Host \\"Get VM disk os: \\"$vmdiskos.Name \\n        Write-Host \\"Get VM disk data: \\"$vmdisksdata.Name\\n        Write-Host \\"Get VM disk data count: \\"$vmdisksdata.Count\\n\\n        $storagediskosname = ($vmdiskos.Vhd.Uri.Split(\\"/\\")[2]).Replace(\\".blob.core.windows.net\\",\\"\\")\\n        $containerdiskos = ($vmdiskos.Vhd.Uri.Split(\\"/\\")[3])\\n        $vmdiskosname = ($vmdiskos.Vhd.Uri.Split(\\"/\\")[4])\\n        $storageaccountos = Get-AzureRmResource | Where-Object {$_.Name -like \\"$storagediskosname\\"}\\n        $storageaccountkeyos = (Get-AzureRmStorageAccountKey -Name $storageaccountos.Name -ResourceGroupName $storageaccountos.ResourceGroupName).Value[0]\\n        $storagecontext = New-AzureStorageContext -StorageAccountName $storageaccountos.Name -StorageAccountKey $storageaccountkeyos\\n        $container = Get-AzureStorageContainer -Name $containerdiskos -context $storagecontext\\n\\n        $containerdiskosimage = $vmdiskos.Vhd.Uri -replace(\\"vhds\\",$sourcecontainerimage)\\n        \\n        Remove-AzureRmVM -Name $vm -ResourceGroupName $vmrg.ResourceGroupName -Force\\n        Write-Host \\"Removing VM: \\"$vm\\n        Remove-AzureStorageBlob -Blob $vmdiskosname -Container vhds -Context $storagecontext\\n        Write-Host \\"Removing VM os disk uri: \\"$vmdiskos.Vhd.Uri\\n        $tmp = Start-AzureStorageBlobCopy -srcUri $containerdiskosimage -SrcContext $storagecontext -DestContainer $containerdiskos -DestBlob $vmdiskosname -DestContext $storagecontext\\n        Write-Host  \\"Copying new os disk uri: \\"$containerdiskosimage\\n\\n        if (![string]::IsNullOrEmpty($vmdisksdata)){\\n            foreach ($vmdiskdata in $vmdisksdata){\\n\\n                $storagediskdataname = ($vmdiskdata.Vhd.Uri.Split(\\"/\\")[2]).Replace(\\".blob.core.windows.net\\",\\"\\")\\n                $containerdiskdata = ($vmdiskdata.Vhd.Uri.Split(\\"/\\")[3])\\n                $vmdiskdataname = ($vmdiskdata.Vhd.Uri.Split(\\"/\\")[4])\\n                $storageaccountdata = Get-AzureRmResource | Where-Object {$_.Name -like \\"$storagediskdataname\\"}\\n                $storageaccountkeydata = (Get-AzureRmStorageAccountKey -Name $storageaccountdata.Name -ResourceGroupName $storageaccountdata.ResourceGroupName).Value[0]\\n                $storagecontext = New-AzureStorageContext -StorageAccountName $storageaccountdata.Name -StorageAccountKey $storageaccountkeydata\\n                $container = Get-AzureStorageContainer -Name $containerdiskdata -context $storagecontext\\n                \\n                $containerdiskdataimage = $vmdiskdata.Vhd.Uri -replace(\\"vhds\\",$sourcecontainerimage)\\n                        \\n                Remove-AzureStorageBlob -Blob $vmdiskdataname -Container vhds -Context $storagecontext\\n                Write-Host \\"Removing VM data disk uri: \\"$vmdiskdata.Vhd.Uri\\n                $tmp = Start-AzureStorageBlobCopy -srcUri $containerdiskdataimage -SrcContext $storagecontext -DestContainer $containerdiskdata -DestBlob $vmdiskdataname -DestContext $storagecontext\\n                Write-Host  \\"Copying new os disk uri: \\"$containerdiskdataimage\\n            }  \\n        }\\n        Write-Host \\"Creating VM\\"\\n        $vmConfig = New-AzureRmVMConfig -VMName $vm -VMSize $vmsize\\n        $vmConfig = Set-AzureRmVMOSDisk -VM $vmConfig -Name $vmdiskos.Name -VhdUri $vmdiskos.Vhd.Uri -CreateOption Attach -Windows\\n        if ($vmdisksdata.count -ge 0){\\n            $i = 0\\n            foreach ($vmdiskdatavm in $vmdisksdata){\\n                $vmConfig = Add-AzureRmVMDataDisk -VM $vmConfig -VhdUri $vmdiskdatavm.Vhd.Uri -CreateOption Attach -Lun $i -Name $vmdiskdatavm.Name -Caching ReadWrite\\n                $i++\\n            }\\n        }\\n        $vmConfig = Add-AzureRmVMNetworkInterface -VM $vmConfig -Id $nicvm.Id\\n        $vmConfig = Set-AzureRmVMBootDiagnostics -VM $vmConfig -Disable\\n        $vm = New-AzureRmVM -VM $vmConfig -Location $vmrg.Location -ResourceGroupName $vmrg.ResourceGroupName\\n    }   \\n}\\n############################################################################################################\\n# Recreate VM\\n############################################################################################################\\n\\nrecreatevms\\n```"},{"id":"deployment-maszyny-z-funkcja-auto-shutdown-za-pomoca-szablonu-arm","metadata":{"permalink":"/deployment-maszyny-z-funkcja-auto-shutdown-za-pomoca-szablonu-arm","source":"@site/blog/2017-09-03-deployment-maszyny-z-funkcja-auto-shutdown-za-pomoca-szablonu-arm/index.md","title":"Deployment maszyny z funkcj\u0105 Auto-Shutdown  za pomoc\u0105 szablonu arm","description":"Jak wy\u0142\u0105czy\u0107 maszyn\u0119 automatycznie o danej godzinie? Zapomoc\u0105 tego skryptu zrobisz to!","date":"2017-09-03T00:00:00.000Z","formattedDate":"September 3, 2017","tags":[{"label":"arm","permalink":"/tags/arm"},{"label":"auto-shutdown","permalink":"/tags/auto-shutdown"},{"label":"azure-resource-manager","permalink":"/tags/azure-resource-manager"},{"label":"deplyment","permalink":"/tags/deplyment"}],"readingTime":2.04,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"deployment-maszyny-z-funkcja-auto-shutdown-za-pomoca-szablonu-arm","title":"Deployment maszyny z funkcj\u0105 Auto-Shutdown  za pomoc\u0105 szablonu arm","description":"Jak wy\u0142\u0105czy\u0107 maszyn\u0119 automatycznie o danej godzinie? Zapomoc\u0105 tego skryptu zrobisz to!","date":"2017-09-03","authors":["progala"],"tags":["arm","auto-shutdown","azure-resource-manager","deplyment"],"keywords":["arm","auto-shutdown","azure-resource-manager","deplyment"],"hide_table_of_contents":true},"prevItem":{"title":"Delete VM and create again based on .vhd","permalink":"/delete-vm-and-create-again-based-on-vhd"},"nextItem":{"title":"Profil logowania do Azure","permalink":"/profil-logowania-do-azure"}},"content":"Szablony ARM maj\u0105 nam poma\u0107 w pracy dlatego kiedy testuj\u0119 wiele szablon\xf3w zdarza mi si\u0119, \u017ce zapominam o resource\'ach, kt\xf3re utworzy\u0142em w Azure co powoduje, \u017ce marnuj\u0119 pieni\u0105dz\u0119 na subskrypcji. Powodem s\u0105 zazwyczaj p\xf3\u017ane godziny pracy i przem\u0119czenie, a p\xf3\u017aniej te z deploy\'owane wirtualki dzia\u0142aj\u0105 przez par\u0119 dni nic nie robi\u0105c. Dlatego postanowi\u0142em sobie pom\xf3c i do ka\u017cego deploy\'mentu dodaj\u0119 wpis kt\xf3ry wy\u0142\u0105czy wirtualk\u0119 o jakiej\u015b godzinie. Poni\u017cszy przyk\u0142ad zaprezentuje deplyment Windows\'a 2016 z manage disk\'iem i \\"Microsoft.DevTestLab/schedules\\".\\n\\nW poprzendich moich postach mo\u017cesz przeczyta\u0107 jak zalogowa\u0107 si\u0119 do Azure za pomoc\u0105 PowerShell i CLI oraz jak u\u017cywa\u0107 do deployment\xf3w Visual Studio Code i Visual Studio.\\n\\n**Przydatne linki:**\\n\\n- Wygodny profil logowania:\xa0[https://justcloud.azurewebsites.net/blog/profil-logowania-do-azure/](https://justcloud.azurewebsites.net/blog/profil-logowania-do-azure/)\\n- Logowanie za pomac\u0105 CLI:\xa0https://justcloud.azurewebsites.net/blog/azure-cli-logowanie/\\n- Visual Studio Code:\xa0[https://justcloud.azurewebsites.net/blog/visual-studio-code-i-git-zamiast-powershell-ise/](https://justcloud.azurewebsites.net/blog/visual-studio-code-i-git-zamiast-powershell-ise/)\\n- Visual Studio:\xa0[https://justcloud.azurewebsites.net/blog/tworzenie-szablonu-arm-visual-studio-2017/](https://justcloud.azurewebsites.net/blog/tworzenie-szablonu-arm-visual-studio-2017/)\\n\\n**\u0179r\xf3d\u0142a:**\\n\\n- Dokumentacja: [https://docs.microsoft.com/en-us/azure/templates/microsoft.devtestlab/schedules](https://docs.microsoft.com/en-us/azure/templates/microsoft.devtestlab/schedules)\\n- Zones: [https://msdn.microsoft.com/en-us/library/gg154758.aspx](https://msdn.microsoft.com/en-us/library/gg154758.aspx)\\n\\n\x3c!--truncate--\x3e\\n\\n**Kod:**\\n\\n- Szablon dost\u0119pny jest na moim github\'ie: [https://github.com/RogalaPiotr/JustCloudPublic/blob/master/simple-vm-shutdown-on-time/azuredeploy.json](https://github.com/RogalaPiotr/JustCloudPublic/blob/master/simple-vm-shutdown-on-time/azuredeploy.json)\\n\\nSzablon jest bezobs\u0142ugowy dlatego wystarczy wywo\u0142a\u0107 go komend\u0105:\\n```\\nNew-AzureRMResourceGroupDeployment -ResourceGroupName XXX -TemplateURI \\"https://raw.githubusercontent.com/RogalaPiotr/JustCloudPublic/master/simple-vm-shutdown-on-time/azuredeploy.json\\" -adminUsername XXX -adminPassword XXX -vmName XXX\\n```\\nPoni\u017cej mamy zaprezentowan\u0105 sekcj\u0119 parameters. W niej mo\u017cemy zdefiniowa\u0107 nazw\u0119 VM\'ki jaka ma powsta\u0107 oraz nazw\u0119 u\u017cytkownika i has\u0142o. Aby u\u0142atwi\u0107 sobi\u0119 prac\u0119 to dla DNS\'u wykorzysta\u0142em funkcj\u0119 unicqueString, aby generowa\u0107 sobi\u0119 unikatow\u0105 nazw\u0119 dla powstaj\u0105cego serwera.\\n```\\n  \\"parameters\\": {\\n    \\"adminUsername\\": {\\n      \\"type\\": \\"string\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"Username for the Virtual Machine.\\"\\n      }\\n    },\\n    \\"adminPassword\\": {\\n      \\"type\\": \\"securestring\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"Password for the Virtual Machine.\\"\\n      }\\n    },\\n    \\"dnsLabelPrefix\\": {\\n      \\"type\\": \\"string\\",\\n      \\"defaultValue\\": \\"[concat(\'x\', uniqueString(resourceGroup().id))]\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"Unique DNS Name for the Public IP used to access the Virtual Machine.\\"\\n      }\\n    },\\n    \\"vmName\\": {\\n      \\"type\\": \\"string\\",\\n      \\"metadata\\": {\\n        \\"description\\": \\"Unique DNS Name for the Public IP used to access the Virtual Machine.\\"\\n      }\\n    }\\n  }\\n```\\nSekcja variables. W tej sekcji zefiniowane zosta\u0142y wszystkie istotne warto\u015bci dla deploy\'mentu. Wielko\u015b\u0107 maszyny, wersje Windows\'a, adresacje itp. mo\u017cesz modyfikowa\u0107 tutaj.\\n```\\n  \\"variables\\": {\\n    \\"windowsOSVersion\\": \\"2016-Datacenter\\",\\n    \\"vmsize\\": \\"Standard_A1\\",\\n    \\"publicIPAddressName\\": \\"[concat(parameters(\'vmName\'), \'-pip\')]\\",\\n    \\"virtualNetworkName\\": \\"[concat(parameters(\'vmName\'), \'-vnet\')]\\",\\n    \\"nicName\\": \\"[concat(parameters(\'vmName\'), \'-nic\')]\\",\\n    \\"subnetName\\": \\"[concat(parameters(\'vmName\'), \'-subnet\')]\\",\\n    \\"diskname\\": \\"[concat(parameters(\'vmName\'), \'-disk\')]\\",\\n    \\"addressPrefix\\": \\"10.0.0.0/16\\",\\n    \\"subnetPrefix\\": \\"10.0.0.0/24\\",\\n    \\"subnetRef\\": \\"[resourceId(\'Microsoft.Network/virtualNetworks/subnets\', variables(\'virtualNetworkName\'), variables(\'subnetName\'))]\\"\\n  }\\n```\\nNajwa\u017cniejsza sekcja odpowidaj\u0105ca za wy\u0142\u0105czenie maszyny to \\"type\\":\\"Microsoft.DevTestLab/schedules\\" w niej definiujemy stref\u0119 czasow\u0105 wed\u0142ug kt\xf3rej powinien by\u0107 wy\u0142\u0105czony serwer oraz godzin\u0119.\\n\\nLink do wszystkich stref znajdziesz na g\xf3rze posta.\\n```\\n    {\\n      \\"apiVersion\\": \\"2016-05-15\\",\\n      \\"type\\": \\"Microsoft.DevTestLab/schedules\\",\\n      \\"name\\": \\"[concat(\'shutdown-computevm-\', parameters(\'vmName\'))]\\",\\n      \\"location\\": \\"[resourceGroup().location]\\",\\n      \\"dependsOn\\": [\\n        \\"[resourceId(\'Microsoft.Compute/virtualMachines/\', parameters(\'vmName\'))]\\"\\n      ],\\n      \\"properties\\": {\\n        \\"status\\":\\"Enabled\\",\\n        \\"timeZoneId\\":\\"W. Europe Standard Time\\",\\n        \\"taskType\\":\\"ComputeVmShutdownTask\\",\\n        \\"notificationSettings\\":{\\n          \\"status\\":\\"Disabled\\",\\n          \\"timeInMinutes\\":35\\n        },\\n        \\"targetResourceId\\":\\"[resourceId(\'Microsoft.Compute/virtualMachines\', parameters(\'vmName\'))]\\",\\n        \\"dailyRecurrence\\":{\\n          \\"time\\":\\"1800\\"\\n        }\\n      }\\n    }\\n```\\nEfekt widoczny w portalu:\\n\\n![](images/capture_001_03092017_160447.jpg)\\n\\n![](images/capture_002_03092017_160519.jpg)\\n\\nMam nadzi\u0119j\u0119, \u017ce si\u0119 przyda :)"},{"id":"profil-logowania-do-azure","metadata":{"permalink":"/profil-logowania-do-azure","source":"@site/blog/2017-08-18-profil-logowania-do-azure/index.md","title":"Profil logowania do Azure","description":"Pracujesz du\u017co w konsoli PowerShell? Nie chcesz logowa\u0107\xa0si\u0119\xa0co chwil\u0119? Wykorzystaj plik z kontekstem, kt\xf3ry u\u0142atwi Ci prac\u0119 z konsol\u0105!","date":"2017-08-18T00:00:00.000Z","formattedDate":"August 18, 2017","tags":[{"label":"azure","permalink":"/tags/azure"},{"label":"azurermaccount","permalink":"/tags/azurermaccount"},{"label":"azurermcontext","permalink":"/tags/azurermcontext"},{"label":"import-azurermcontext","permalink":"/tags/import-azurermcontext"},{"label":"powershell","permalink":"/tags/powershell"},{"label":"subscryption","permalink":"/tags/subscryption"}],"readingTime":1.67,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"profil-logowania-do-azure","title":"Profil logowania do Azure","description":"Pracujesz du\u017co w konsoli PowerShell? Nie chcesz logowa\u0107\xa0si\u0119\xa0co chwil\u0119? Wykorzystaj plik z kontekstem, kt\xf3ry u\u0142atwi Ci prac\u0119 z konsol\u0105!","date":"2017-08-18","authors":["progala"],"tags":["azure","azurermaccount","azurermcontext","import-azurermcontext","powershell","subscryption"],"keywords":["azure","azurermaccount","azurermcontext","import-azurermcontext","powershell","subscryption"],"hide_table_of_contents":true},"prevItem":{"title":"Deployment maszyny z funkcj\u0105 Auto-Shutdown  za pomoc\u0105 szablonu arm","permalink":"/deployment-maszyny-z-funkcja-auto-shutdown-za-pomoca-szablonu-arm"},"nextItem":{"title":"Visual Studio Code i Git zamiast PowerShell ISE - UPDATED","permalink":"/visual-studio-code-i-git-zamiast-powershell-ise"}},"content":"Spotka\u0142em si\u0119 ostatnio z bardzo ciekawym feature\u2019m zwi\u0105zanym z zapisaniem swojego profilu logowania do Azure. W skr\xf3cie opisuj\u0105c je\u015bli u\u017cywasz cz\u0119sto PowerShella, a dodatkowo masz MFA zapewne wiesz jak denerwuj\u0105ce jest ci\u0105g\u0142e pytanie o login i has\u0142o. Kiedy\u015b pojawi\u0142a si\u0119 opcja zwi\u0105zana z zapisaniem credential\u2019i do pliku a nast\u0119pnie za pomoc\u0105 skryptu mo\u017cna by\u0142o sobie zautomatyzowa\u0107 proces logowania. Aczkolwiek przesta\u0142o to dzia\u0142a\u0107 po wprowadzeniu ARM\'a itd. Aby nie rozwodzi\u0107 si\u0119 nad tym przedstawi\u0119 Ci jak mo\u017cemy sobie u\u0142atwi\u0107 \u017cycie i prac\u0119 ze skryptami, ale o tym p\xf3\u017aniej. Na pocz\u0105tku prosz\u0119 Ci\u0119 o wykonanie aktualizacji PowerShell Azure poniewa\u017c poni\u017csze polecenia s\u0105 dost\u0119pne od wersji 3.8.0 oraz 4.2.0 w celu aktualizacji mo\u017cesz u\u017cy\u0107 Web Installer\u2019a z linku poni\u017cej.\\n\\n**Dokumentacja:** Add-AzureRmAccount: [https://docs.microsoft.com/en-us/powershell/module/azurerm.profile/add-azurermaccount?view=azurermps-3.8.0](https://docs.microsoft.com/en-us/powershell/module/azurerm.profile/add-azurermaccount?view=azurermps-3.8.0) Save-AzureRmContext: [https://docs.microsoft.com/en-us/powershell/module/azurerm.profile/save-azurermcontext?view=azurermps-3.8.0](https://docs.microsoft.com/en-us/powershell/module/azurerm.profile/save-azurermcontext?view=azurermps-3.8.0) Import-AzureRmContext: [https://docs.microsoft.com/en-us/powershell/module/azurerm.profile/import-azurermcontext?view=azurermps-4.2.0](https://docs.microsoft.com/en-us/powershell/module/azurerm.profile/import-azurermcontext?view=azurermps-4.2.0) WebInstaller: [https://www.microsoft.com/web/downloads/platform.aspx](https://www.microsoft.com/web/downloads/platform.aspx)\\n\\n\x3c!--truncate--\x3e\\n\\nW moim przypadku mamy dwie subskrypcje i zapisuj\u0105c sw\xf3j profil mog\u0119 zdefiniowa\u0107 jaka ma zosta\u0107 wybrana subskrypcja w momencie kiedy b\u0119d\u0119 go importowa\u0142 w dalszej cz\u0119\u015bci. Na pocz\u0105tku pobiore ID Subskrypcji w klasyczny spos\xf3b: otwieram okno PowerShella loguj\u0119 si\u0119 u\u017cywaj\u0105c _Login-AzureRmAccount_, a nast\u0119pnie wpisuj\u0119 _Get-AzureRmSubscrpytion_ i dostaje taki wynik:\\n\\n![](images/loginazure1.jpg)\\n\\nNast\u0119pnie mog\u0119 przej\u015b\u0107 do wykonania polecenia, kt\xf3re mnie zaloguje, a p\xf3\u017aniej umo\u017cliwi mi zapisanie profilu:\\n```\\nAdd-AzureRmAccount -SubscriptionId \\"yyyy-yyyy-yyyy-yyyy\\"\\n```\\nWynik:\\n\\n![](images/loginazure2.jpg)\\n\\nNast\u0119pne polecenie - zapisanie profilu:\\n```\\nSave-AzureRmContext -Path C:\\\\\\\\temp\\\\\\\\progala-mas.json\\n```\\n![](images/loginazure3.jpg)\\n\\nW tym momencie zapisa\u0142em sw\xf3j profil z odwo\u0142aniem do wcze\u015bniej wskazanej subskrypcji. Jako hint mog\u0119 powiedzie\u0107, \u017ce mo\u017cemy u\u017cy\u0107 funkcji 2w1 jak poni\u017cej:\\n```\\nSave-AzureRmContext -Profile (Add-AzureRmAccount -SubscriptionId \\"yyyy-yyyy-yyyy-yyyy\\") -Path C:\\\\\\\\temp\\\\\\\\progala-mas.json\\n```\\n\u017beby m\xf3c zaimportowa\u0107 zapisany profil wystarczy u\u017cy\u0107 polecenia:\\n```\\nImport-AzureRmContext -Path C:\\\\\\\\temp\\\\\\\\progala-mas.json\\n```\\n![](images/loginazure4.jpg)\\n\\nW taki spos\xf3b mo\u017cemy sw\xf3j profil wywo\u0142a\u0107 gdy korzystamy z r\xf3znych skrypt\xf3w itp. Mo\u017ce to by\u0107 dla kogo\u015b ma\u0142o atrakcyjne aczkolwiek mog\u0119 zdradzi\u0107 do czego bardzo ta wiedza si\u0119 przydaje. Maj\u0105c zagnie\u017cd\u017cone skrypty PowerShellow\u2019e, kt\xf3re wykonuj\u0119 jako Job\'y maj\u0105 one to do siebie, \u017ce wywo\u0142ane skrypty w tle maj\u0105 problem z przej\u0119ciem sesji z poprzedniego okna gdy\u017c sesja nie jest dziedziczona. Gdy u\u017cyjemy polecenia Import-AzureRmContex mamy \\"gwarancj\u0119\\", \u017ce wywo\u0142ane okno w tle b\u0119dzie mog\u0142o swobodnie korzysta\u0107 z sesji Azure\'owej."},{"id":"visual-studio-code-i-git-zamiast-powershell-ise","metadata":{"permalink":"/visual-studio-code-i-git-zamiast-powershell-ise","source":"@site/blog/2017-08-02-visual-studio-code-i-git-zamiast-powershell-ise/index.md","title":"Visual Studio Code i Git zamiast PowerShell ISE - UPDATED","description":"Wykorzystaj w pe\u0142ni Visual Studio Code oraz GIT! W tym artykule dowiesz si\u0119 jak skonfigurowa\u0107\xa0swoje \u015brodowisko do pracy.","date":"2017-08-02T00:00:00.000Z","formattedDate":"August 2, 2017","tags":[{"label":"microsoft","permalink":"/tags/microsoft"},{"label":"powershell","permalink":"/tags/powershell"},{"label":"powershell-ise","permalink":"/tags/powershell-ise"},{"label":"sublime","permalink":"/tags/sublime"},{"label":"visual-studio","permalink":"/tags/visual-studio"},{"label":"visual-studio-code","permalink":"/tags/visual-studio-code"}],"readingTime":2.295,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"visual-studio-code-i-git-zamiast-powershell-ise","title":"Visual Studio Code i Git zamiast PowerShell ISE - UPDATED","description":"Wykorzystaj w pe\u0142ni Visual Studio Code oraz GIT! W tym artykule dowiesz si\u0119 jak skonfigurowa\u0107\xa0swoje \u015brodowisko do pracy.","date":"2017-08-02","authors":["progala"],"tags":["microsoft","powershell","powershell-ise","sublime","visual-studio","visual-studio-code"],"keywords":["microsoft","powershell","powershell-ise","sublime","visual-studio","visual-studio-code"],"hide_table_of_contents":true},"prevItem":{"title":"Profil logowania do Azure","permalink":"/profil-logowania-do-azure"},"nextItem":{"title":"Grupa specjalist\xf3w CloudPoland na Slack\'u","permalink":"/grupa-specjalistow-cloudpoland-na-slacku"}},"content":"Wi\u0119kszo\u015b\u0107 z was zapewne widzia\u0142a ju\u017c Visual Studio Code taki Visual Studio w wersji \\"light\\". Program jest dost\u0119pny na platformy Windows, Linux, Mac mo\u017cna powiedzie\u0107, \u017ce to dosy\u0107 dziwne i takie nie Microsoft\'owe a zarazem jest bardzo powa\u017cny krok w stron\u0119 DevOps\'\xf3w. Je\u015bli u\u017cywa\u0142e\u015b wcze\u015bniej r\xf3\u017cnych edytor\xf3w tekstowych to pewnie mia\u0142e\u015b b\u0105d\u017a nadal u\u017cywasz programu Sublime Text. My\u015bl\u0119, \u017ce jak u\u017cyje okre\u015blenia odpowiednik to zapewne ju\u017c wiesz o czym tutaj pisz\u0119.\\n\\nCzym jest Visual Studio Code? Jest to edytor tekstowy z mo\u017cliwo\u015bci\u0105 zainstalowania r\xf3\u017cnych modu\u0142\xf3w. Z defaultu program ma kontrol\u0119 wersji (wymagana instalacja Git\'a) i debug. Pono\u0107 w niedalekiej przysz\u0142o\u015bci VSC ma zast\u0105pi\u0107 PowerShell ISE dlatego przejd\u017amy do konfiguracji, aby m\xf3c z niego korzysta\u0107.\\n\\nDo \u015bci\u0105gni\u0119cia z:\xa0[https://code.visualstudio.com/](https://code.visualstudio.com/)\\n\\nInstruktarz video:\xa0[https://channel9.msdn.com/Blogs/MVP-Azure/Transitioning-from-PowerShell-ISE-to-VS-Code](https://channel9.msdn.com/Blogs/MVP-Azure/Transitioning-from-PowerShell-ISE-to-VS-Code)\\n\\n\x3c!--truncate--\x3e\\n\\nInstalacja bardzo prosta: \\"next/next/next\\"\\n\\nAby korzysta\u0107 z comand line\'u PowerShella nale\u017cy doinstalowa\u0107 modu\u0142:\xa0[https://marketplace.visualstudio.com/items?itemName=ms-vscode.PowerShell](https://marketplace.visualstudio.com/items?itemName=ms-vscode.PowerShell)\\n\\nW VSC naciskamy Ctrl +P i wklejamy:\\n```\\next install PowerShell\\n```\\n![](images/capture_016_02082017_195824.jpg)\\n\\nRestartujemy VSC i klikamy New file, \u017ceby nasz plik by\u0142 u\u017cywany jako skrypt PowerShell\u2019owy mo\u017cemy go zapisa\u0107 jako .ps1 lub wybra\u0107 w dolny prawym rogu \\"Plain Text\\" i wpisa\u0107 powershell. Dopiero teraz mo\u017cemy u\u017cywa\u0107 obszaru roboczego jak w dotychczasowym PowerShell ISE i dzia\u0142aj\u0105 skr\xf3ty F5 i F8 do wykonywania polece\u0144. Je\u015bli jakim\u015b cudem nie widzisz okna Terminal mo\u017cesz je w\u0142\u0105czy\u0107 View > Integrated Terminal.\\n\\n![](images/capture_015_02082017_195549.jpg)\\n\\nPrzyk\u0142ad z \\"Get-Service\\" + F8\\n\\n![](images/capture_017_02082017_200027.jpg)\\n\\nChcesz u\u017cywa\u0107 Git\'a? Poni\u017cej przedstawi\u0119 jedn\u0105 z szybkich opcji jak sobie poradzi\u0107 z u\u017cywaniem Git\'a z poziomu Visual Studio Code - tutaj tylko dodam, \u017ce nie jest to jedyna opcja i zale\u017cy to oczywi\u015bcie od umiej\u0119tno\u015bci pracy z Git\'em. Aby szybko sobie skonfigurowa\u0107 \u015brodowisko do pracy z Git\'em \u015bci\u0105gamy instalk\u0119 z: [https://git-scm.com/downloads](https://git-scm.com/downloads)\\n\\nInstalacj\u0119 przeprowadzamy z default\'owymi ustawieniami. Nast\u0119pnie restartujemy VSC i klikamy File > Open Folder - teraz otw\xf3rz lokalizacje, gdzie b\u0119dziesz chcia\u0142 sklonowa\u0107 swoje repozytorium. W moim przyk\u0142adzie utworzy\u0142em sobie folder Git w Documents (C:\\\\\\\\Users\\\\\\\\Admin\\\\\\\\Documents\\\\\\\\Git). Przechodzimy do okna Terminala, je\u015bli nie jest on u Ciebie widoczny to mo\u017cesz wybra\u0107 View > Integrated Terminal, aby go wy\u015bwietli\u0107. W polu terminala wpisujemy:\\n```\\ngit clone link_do_projektu\\n```\\n![](images/capture_002_18022018_231506.jpg)\\n\\nJe\u015bli nie wiesz, gdzie jest ten link, poni\u017cszy screen powinien to wyja\u015bni\u0107. Na stronie\xa0https://twoj\\\\_projekt.visualstudio.com jest mo\u017cliwo\u015b\u0107 sprawdzenia dok\u0142adnie adresu repozytorium klikaj\u0105c po prawej stronie na g\xf3rze \\"Clone\\"\\n\\n![](images/capture_001_18022018_231008.jpg)\\n\\nPo klikni\u0119ciu enter wyskoczy okno do zalogowania si\u0119 a p\xf3\u017aniej rozpocznie si\u0119 klonowania do wskazanej lokalizacji. Po zako\u0144czeniu klonowania nasza konfiguracja dobieg\u0142a ko\u0144ca. Teraz mo\u017cemy wrzuci\u0107 do folderu jaki\u015b skrypt a nast\u0119pnie zauwa\u017cymy go w VSC na ikonie ga\u0142\u0119zi w celu wys\u0142ania go do naszego repozytorium jak na poni\u017cszym screenie. Je\u015bli mamy plik, kt\xf3ry zosta\u0142 utworzony lub z edytowany nale\u017cy go za commitowac dodaj\u0105c opis zmiany i klikn\u0105\u0107 ptaszek. Po zatwierdzeniu na dole nale\u017cy zrobi\u0107 synchronizacje. Trzeba pami\u0119ta\u0107, aby zawsze przed commitem wykona\u0107 synchronizacje, aby mie\u0107 pewno\u015b\u0107 \u017ce pracujemy zawsze na najnowszych plikach z repozytorium.\\n\\n![](images/capture_010_01082017_205024.jpg)\\n\\n![](images/capture_019_02082017_202014.jpg)"},{"id":"grupa-specjalistow-cloudpoland-na-slacku","metadata":{"permalink":"/grupa-specjalistow-cloudpoland-na-slacku","source":"@site/blog/2017-07-30-grupa-specjalistow-cloudpoland-na-slacku/index.md","title":"Grupa specjalist\xf3w CloudPoland na Slack\'u","description":"Grupa specjalist\xf3w CloudPoland na Slack\'u","date":"2017-07-30T00:00:00.000Z","formattedDate":"July 30, 2017","tags":[{"label":"channel","permalink":"/tags/channel"},{"label":"cloud","permalink":"/tags/cloud"},{"label":"cloudpoland","permalink":"/tags/cloudpoland"},{"label":"slack","permalink":"/tags/slack"}],"readingTime":1.43,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"grupa-specjalistow-cloudpoland-na-slacku","title":"Grupa specjalist\xf3w CloudPoland na Slack\'u","description":"Grupa specjalist\xf3w CloudPoland na Slack\'u","authors":["progala"],"date":"2017-07-30","tags":["channel","cloud","cloudpoland","slack"],"keywords":["channel","cloud","cloudpoland","slack"],"hide_table_of_contents":true},"prevItem":{"title":"Visual Studio Code i Git zamiast PowerShell ISE - UPDATED","permalink":"/visual-studio-code-i-git-zamiast-powershell-ise"},"nextItem":{"title":"Tworzenie szablonu ARM - Visual Studio 2017","permalink":"/tworzenie-szablonu-arm-visual-studio-2017"}},"content":"Chcia\u0142em zaprosi\u0107 wszystkich mi\u0142o\u015bnik\xf3w chmur, devops, automatyzacji do\u0142\u0105czenia do grupy CloudPoland na #slacku. Grupa zosta\u0142a stworzona z my\u015bl\u0105 o wszystkich tych, kt\xf3rzy chc\u0105 si\u0119 udziela\u0107 i pomaga\u0107 sobie w r\xf3\u017cnych problemach. Grupa dotyczy wielu dostawc\xf3w chmur przez co jest to kana\u0142 og\xf3lny o chmurach gdzie mamy podzia\u0142 na grupy #aws, #azure, #gcp dzi\u0119ki czemu mo\u017cemy porozmawia\u0107 z wieloma specjalistami na r\xf3\u017cne tematy. Zach\u0119cam do korzystania, wymiany wiedzy, dzielenia si\u0119 problemami i nowo\u015bciami technicznymi.\\n\\nDlaczego #slack? Poniewa\u017c jest to neutralne miejsce gdzie nie trzeba mie\u0107 kont typu Facebook, Gmail, aby si\u0119 zalogowa\u0107 ponad to jest aplikacja mobilna, kt\xf3ra u\u0142atwia komunikacj\u0119 z r\xf3\u017cnych urz\u0105dze\u0144. Cz\u0119sto dostaj\u0119 pytania takie jak: Po co slack je\u015bli jest grupa na Facebook\u2019u? Spotykam si\u0119 osobi\u015bcie z wieloma specjalistami IT, kt\xf3rzy naturalnie nie maj\u0105 konta na Facebook\u2019u co za czym idzie, \u017ce oni automatycznie z tego nie korzystaj\u0105. Natomiast fajnie by\u0142oby zwi\u0119ksza\u0107 zasi\u0119g naszej dzia\u0142alno\u015bci poniewa\u017c mamy naprawd\u0119 wielu doskona\u0142ych specjalist\xf3w w r\xf3\u017cnych dziedzinach IT, ale brakuje nam kana\u0142u komunikacyjnego. Czasami bywa te\u017c tak, \u017ce ludzie nie chc\u0105 si\u0119 udziela\u0107 na Facebook\u2019u poniewa\u017c jest to widziane przez wielk\u0105 rzesz\u0119 innych odbiorc\xf3w nie b\u0119d\u0105cych w temacie.\\n\\n\x3c!--truncate--\x3e\\n\\nNa grupie znajdziesz takie dzia\u0142y jak:\\n\\n* cloud-aws\\n* cloud-azure\\n* cloud-gcp\\n* cloud-onpromise\\n* devops\\n* events\\n* job-offers\\n\\nGrupy z dopiskiem cloud dotycz\u0105 stricte konkretnych dostawc\xf3w jak: AWS (Amazon Web Services), Azure (Microsoft Azure), GCP (Google Cloud Platform), On Promise (Wasze prywatne chmury). DevOps ma na celu wymiany wiedzy na tematy devops\u2019owe linux/windows, Events dzielania si\u0119 informacjami na temat Meet-up\xf3w czy konferencji oraz Job Offers czyli aktualne oferty pracy.\\n\\nAdres do zaproszenia na grup\u0119 CloudPoland na slack\u2019u:\\n\\n**Adres do zaproszenia na grup\u0119 CloudPoland na slack\'u:**\\n\\n[https://cloudpoland.azurewebsites.net](https://cloudpoland.azurewebsites.net/)\\n\\n**Adres grupy na slack\'u:**\\n\\n[https://cloudpoland.slack.com](https://cloudpoland.slack.com)\\n\\n[![Image result for slack logo](https://cdn.worldvectorlogo.com/logos/slack.svg)](https://cloudpoland.azurewebsites.net/)"},{"id":"tworzenie-szablonu-arm-visual-studio-2017","metadata":{"permalink":"/tworzenie-szablonu-arm-visual-studio-2017","source":"@site/blog/2017-04-02-tworzenie-szablonu-arm-visual-studio-2017/index.md","title":"Tworzenie szablonu ARM - Visual Studio 2017","description":"Jak tworzy\u0107 wdroy\u0107","date":"2017-04-02T00:00:00.000Z","formattedDate":"April 2, 2017","tags":[{"label":"arm","permalink":"/tags/arm"},{"label":"azure","permalink":"/tags/azure"},{"label":"devops","permalink":"/tags/devops"},{"label":"json","permalink":"/tags/json"},{"label":"microsoft","permalink":"/tags/microsoft"},{"label":"template","permalink":"/tags/template"},{"label":"visual-studio","permalink":"/tags/visual-studio"}],"readingTime":2.185,"truncated":true,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"tworzenie-szablonu-arm-visual-studio-2017","title":"Tworzenie szablonu ARM - Visual Studio 2017","description":"Jak tworzy\u0107 wdroy\u0107","authors":["progala"],"date":"2017-04-02","tags":["arm","azure","devops","json","microsoft","template","visual-studio"],"keywords":["arm","azure","devops","json","microsoft","template","visual-studio"],"hide_table_of_contents":true},"prevItem":{"title":"Grupa specjalist\xf3w CloudPoland na Slack\'u","permalink":"/grupa-specjalistow-cloudpoland-na-slacku"},"nextItem":{"title":"Azure Resource Manager - JSON Automation","permalink":"/azure-resource-manager-json-automation"}},"content":"Ten wpis jest przeznaczony dla os\xf3b\xa0chc\u0105cych\xa0nauczy\u0107 si\u0119 tworzenia szablon\xf3w ARM\'owych do deploy\'owania w Azure. Visual Studio ma tylko nam pom\xf3c w pracy z szablonem natomiast moim zdaniem przydaje si\u0119 na pocz\u0105tku pracy z ARM oraz przy rozbudowanych szablonach. Po pierwsze podczas edycji plik\xf3w .json w VS zobaczymy struktur\u0119 ca\u0142ego szablonu co pomo\u017ce nam zrozumie\u0107 co potrzebujemy, \u017ceby dzia\u0142a\u0142 poprawnie. Po drugie gdy mamy bardzo du\u017ce szablony VS pomaga nam odnale\u017a\u0107 si\u0119 w nim poprzez JSON Outline, w kt\xf3rym w wygodny spos\xf3b mo\u017cemy sprawdzi\u0107 wszystkie\xa0elementy: parameters, variables, resources.\\n\\nCel: Stworzy\u0107 czysty szablon ARM z wykorzystaniem Visual Studio 2017.\\n\\nDo realizacji celu potrzebujemy:\\n\\n- Visual Studio 2017 Community **(FREE)**:\xa0[https://www.visualstudio.com/thank-you-downloading-visual-studio/?sku=Community&rel=15](https://www.visualstudio.com/thank-you-downloading-visual-studio/?sku=Community&rel=15)\\n- Uwaga: podczas instalacji nale\u017cy doda\u0107 modu\u0142: **\\"Azure development\\"**\\n\\nUtworzenie projektu nie jest niczym nadzwyczajnym poza wybraniem odpowiedniego template\'a. Aby utworzy\u0107 projekt zwi\u0105zany z szablonem ARM nale\u017cy wybra\u0107 z grupy Cloud: Azure Resource Group.\\n\\n\x3c!--truncate--\x3e\\n\\n![](images/Screenshot-from-2017-04-02-00-06-17.png)\\n\\nNast\u0119pnie wybieramy template: Blank, kt\xf3ry utworzy nam czysty szablon ARM.\\n\\n![](images/Screenshot-from-2017-04-02-00-07-52.png)\\n\\nGdy szablon si\u0119 utworzy w prawej cz\u0119\u015bci zobaczymy pliki *.json oraz *.ps1. Plik azuredeploy.json jest g\u0142\xf3wnym plikiem zwi\u0105zanym z tworzeniem zasob\xf3w w resouce group\'ie, azuredeplyment.parameters.json jest plikiem definiuj\u0105cym parametry potrzebne do wykonania g\u0142\xf3wnego pliku azuredeploy. Plik Deploy-AzureResourceGroup.ps1 odpowiada za sprawdzenie czy Resource Group\'a jest utworzona\xa0i ewentualne utworzenie jej przed wykonaniem deploymentu,\xa0a ko\u0144cu\xa0zdeploy\'owanie projektu.\\n\\n![](images/Screenshot-from-2017-04-02-00-09-02.png)\\n\\nPlik azuredeploy.json jest zbudowany z 4 sekcji: parameters, variables, resources, output. Sekcja parameters zwi\u0105zana jest z zdefiniowaniem parametr\xf3w, kt\xf3re maj\u0105 by\u0107 u\u017cyte w dalszej cz\u0119\u015bci projektu. Sekcja variables to zmienne gdzie definiujemy na \\"sztywno\\", kt\xf3re s\u0105 wykorzystywane w sekcji resources. Sekcja resources jest najwa\u017cniejsza poniewa\u017c w niej definiujemy wszystkie zasoby, kt\xf3re maj\u0105 zosta\u0107 utworzone w czasie deploy\'mentu. Sekcja output nie jest wymagana natomiast w niej mo\u017cemy zdefiniowa\u0107 jakie dane wy\u015bwietli\u0107, kt\xf3re zobaczymy po utworzeniu deploymentu np. IP serwera, nazwa serwera, itp.\\n\\n![](images/Screenshot-from-2017-04-02-00-09-23.png)\\n\\nPlik azuredeploy.parameters.json jest plikiem ze zmiennymi w celu modyfikacji parametr\xf3w g\u0142\xf3wnego pliku z szablonem(azuredeploy.json). Tak naprawd\u0119 nie musimy z niego korzysta\u0107 mo\u017cemy tworzy\u0107 projekt w oparciu o zdefiniowane parametry w pliku z deploymentem. Je\u015bli chcemy tworzy\u0107 projekt, kt\xf3ry b\u0119dzie wykonywany cz\u0119sto z VS mo\u017cemy skupi\u0107 si\u0119 na tworzeniu tego pliku, aby m\xf3c w estetyczny spos\xf3b edytowa\u0107 parametry podczas deplyomentu. Dok\u0142adnie zostanie to opisane w kolejnym wpisie na blogu.\\n\\n![](images/Screenshot-from-2017-04-02-00-12-21.png)\\n\\nPo lewej stronie mamy zasoby szablonu w wizualnej formie. Mo\u017cemy r\xf3wnie\u017c dodawa\u0107 nowe zasoby lub je usuwa\u0107 za po\u015brednictwem widocznych dw\xf3ch ikonek z plusem i\xa0z\xa0x\'ksem.\\n\\n![](images/Screenshot-from-2017-04-02-00-09-45.png)\\n\\nPo wybraniu ikony z dodaniem zasobu mo\u017cemy wybra\u0107 spo\u015br\xf3d gotowej grupy interesuj\u0105cy nas zas\xf3b i go doda\u0107. Po wybraniu w zale\u017cno\u015bci od wybranego zasobu nale\u017cy poda\u0107 dane typu Name.\\n\\n![](images/Screenshot-from-2017-04-02-00-14-46.png)\\n\\nW ten oto spos\xf3b utworzy\u0142e\u015b nowy projekt, kt\xf3ry po dodaniu zasob\xf3w jest gotowy do deploy\'owania. W kolejnym wpisie utworzymy przyk\u0142adowy plik szablonu."},{"id":"azure-resource-manager-json-automation","metadata":{"permalink":"/azure-resource-manager-json-automation","source":"@site/blog/2016-12-02-azure-resource-manager-json-automation/index.md","title":"Azure Resource Manager - JSON Automation","description":"Nagranie z North Poland 2016 - super techniczna sesja dost\u0119pna online!","date":"2016-12-02T00:00:00.000Z","formattedDate":"December 2, 2016","tags":[{"label":"9channel","permalink":"/tags/9-channel"},{"label":"arm","permalink":"/tags/arm"},{"label":"azure","permalink":"/tags/azure"},{"label":"cloud","permalink":"/tags/cloud"},{"label":"microsoft","permalink":"/tags/microsoft"},{"label":"resource-manager","permalink":"/tags/resource-manager"}],"readingTime":0.38,"truncated":false,"authors":[{"name":"Piotr Rogala","title":"MVP Azure & owner JustCloud.pl","url":"https://github.com/RogalaPiotr","imageURL":"https://avatars.githubusercontent.com/u/31566956?v=4","key":"progala"}],"frontMatter":{"slug":"azure-resource-manager-json-automation","title":"Azure Resource Manager - JSON Automation","description":"Nagranie z North Poland 2016 - super techniczna sesja dost\u0119pna online!","authors":["progala"],"date":"2016-12-02","tags":["9channel","arm","azure","cloud","microsoft","resource-manager"],"keywords":["9channel","arm","azure","cloud","microsoft","resource-manager"],"hide_table_of_contents":true},"prevItem":{"title":"Tworzenie szablonu ARM - Visual Studio 2017","permalink":"/tworzenie-szablonu-arm-visual-studio-2017"}},"content":"Je\u015bli nie mogli\u015bcie by\u0107 na AzureDay North Poland 2016 zapraszam do obejrzenia mojej sesji kt\xf3ra zosta\u0142a umieszczona na 9channel. Podczas sesji dowiecie si\u0119 jak dzia\u0142a ARM w Azure oraz jakimi sposobami mo\u017cna deployowa\u0107 w\u0142asne \u015brodowiska. Podczas sesji\xa0zauwa\u017cycie troch\u0119 error-\xf3w,\xa0kt\xf3re s\u0105 spowodowane b\u0142\u0119dnymi nazwami u\u017cywanymi w konsoli. Je\u015bli masz problem z deploymentami, zapraszam do dyskusji w komentarzach. Dzi\u0119kuj\u0119 wszystkim kt\xf3ry przybyli na moj\u0105 sesj\u0119 i do zobaczenia na meetupach, kt\xf3re organizuje we Wroc\u0142awiu wi\u0119cej informacji tutaj:\xa0[http://www.meetup.com/Microsoft-Azure-Users-Group-Poland/](http://www.meetup.com/Microsoft-Azure-Users-Group-Poland/)\xa0.\\n\\n<https://channel9.msdn.com/Events/Azure-Day-Poland/AzureDay-North-Poland-2016/Azure-Resource-Manager-JSON-Automation/player>"}]}')}}]);